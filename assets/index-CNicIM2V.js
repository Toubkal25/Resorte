(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();function B_(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Ff={exports:{}},$l={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i0;function L2(){if(i0)return $l;i0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var g in o)g!=="key"&&(h[g]=o[g])}else h=o;return o=h.ref,{$$typeof:s,type:r,key:d,ref:o!==void 0?o:null,props:h}}return $l.Fragment=e,$l.jsx=i,$l.jsxs=i,$l}var a0;function U2(){return a0||(a0=1,Ff.exports=L2()),Ff.exports}var E=U2(),Qf={exports:{}},Et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s0;function B2(){if(s0)return Et;s0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),N=Symbol.iterator;function q(M){return M===null||typeof M!="object"?null:(M=N&&M[N]||M["@@iterator"],typeof M=="function"?M:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tt=Object.assign,J={};function ut(M,X,it){this.props=M,this.context=X,this.refs=J,this.updater=it||W}ut.prototype.isReactComponent={},ut.prototype.setState=function(M,X){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,X,"setState")},ut.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function pt(){}pt.prototype=ut.prototype;function mt(M,X,it){this.props=M,this.context=X,this.refs=J,this.updater=it||W}var Ct=mt.prototype=new pt;Ct.constructor=mt,tt(Ct,ut.prototype),Ct.isPureReactComponent=!0;var ct=Array.isArray;function Y(){}var x={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(M,X,it){var rt=it.ref;return{$$typeof:s,type:M,key:X,ref:rt!==void 0?rt:null,props:it}}function O(M,X){return C(M.type,X,M.props)}function V(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function k(M){var X={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(it){return X[it]})}var R=/\/+/g;function se(M,X){return typeof M=="object"&&M!==null&&M.key!=null?k(""+M.key):X.toString(36)}function Ne(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Y,Y):(M.status="pending",M.then(function(X){M.status==="pending"&&(M.status="fulfilled",M.value=X)},function(X){M.status==="pending"&&(M.status="rejected",M.reason=X)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function F(M,X,it,rt,_t){var wt=typeof M;(wt==="undefined"||wt==="boolean")&&(M=null);var kt=!1;if(M===null)kt=!0;else switch(wt){case"bigint":case"string":case"number":kt=!0;break;case"object":switch(M.$$typeof){case s:case e:kt=!0;break;case b:return kt=M._init,F(kt(M._payload),X,it,rt,_t)}}if(kt)return _t=_t(M),kt=rt===""?"."+se(M,0):rt,ct(_t)?(it="",kt!=null&&(it=kt.replace(R,"$&/")+"/"),F(_t,X,it,"",function(Qa){return Qa})):_t!=null&&(V(_t)&&(_t=O(_t,it+(_t.key==null||M&&M.key===_t.key?"":(""+_t.key).replace(R,"$&/")+"/")+kt)),X.push(_t)),1;kt=0;var Ie=rt===""?".":rt+":";if(ct(M))for(var re=0;re<M.length;re++)rt=M[re],wt=Ie+se(rt,re),kt+=F(rt,X,it,wt,_t);else if(re=q(M),typeof re=="function")for(M=re.call(M),re=0;!(rt=M.next()).done;)rt=rt.value,wt=Ie+se(rt,re++),kt+=F(rt,X,it,wt,_t);else if(wt==="object"){if(typeof M.then=="function")return F(Ne(M),X,it,rt,_t);throw X=String(M),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return kt}function nt(M,X,it){if(M==null)return M;var rt=[],_t=0;return F(M,rt,"","",function(wt){return X.call(it,wt,_t++)}),rt}function dt(M){if(M._status===-1){var X=M._result;X=X(),X.then(function(it){(M._status===0||M._status===-1)&&(M._status=1,M._result=it)},function(it){(M._status===0||M._status===-1)&&(M._status=2,M._result=it)}),M._status===-1&&(M._status=0,M._result=X)}if(M._status===1)return M._result.default;throw M._result}var Ut=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ft={map:nt,forEach:function(M,X,it){nt(M,function(){X.apply(this,arguments)},it)},count:function(M){var X=0;return nt(M,function(){X++}),X},toArray:function(M){return nt(M,function(X){return X})||[]},only:function(M){if(!V(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Et.Activity=S,Et.Children=Ft,Et.Component=ut,Et.Fragment=i,Et.Profiler=o,Et.PureComponent=mt,Et.StrictMode=r,Et.Suspense=_,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,Et.__COMPILER_RUNTIME={__proto__:null,c:function(M){return x.H.useMemoCache(M)}},Et.cache=function(M){return function(){return M.apply(null,arguments)}},Et.cacheSignal=function(){return null},Et.cloneElement=function(M,X,it){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var rt=tt({},M.props),_t=M.key;if(X!=null)for(wt in X.key!==void 0&&(_t=""+X.key),X)!w.call(X,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&X.ref===void 0||(rt[wt]=X[wt]);var wt=arguments.length-2;if(wt===1)rt.children=it;else if(1<wt){for(var kt=Array(wt),Ie=0;Ie<wt;Ie++)kt[Ie]=arguments[Ie+2];rt.children=kt}return C(M.type,_t,rt)},Et.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:h,_context:M},M},Et.createElement=function(M,X,it){var rt,_t={},wt=null;if(X!=null)for(rt in X.key!==void 0&&(wt=""+X.key),X)w.call(X,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(_t[rt]=X[rt]);var kt=arguments.length-2;if(kt===1)_t.children=it;else if(1<kt){for(var Ie=Array(kt),re=0;re<kt;re++)Ie[re]=arguments[re+2];_t.children=Ie}if(M&&M.defaultProps)for(rt in kt=M.defaultProps,kt)_t[rt]===void 0&&(_t[rt]=kt[rt]);return C(M,wt,_t)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(M){return{$$typeof:g,render:M}},Et.isValidElement=V,Et.lazy=function(M){return{$$typeof:b,_payload:{_status:-1,_result:M},_init:dt}},Et.memo=function(M,X){return{$$typeof:y,type:M,compare:X===void 0?null:X}},Et.startTransition=function(M){var X=x.T,it={};x.T=it;try{var rt=M(),_t=x.S;_t!==null&&_t(it,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(Y,Ut)}catch(wt){Ut(wt)}finally{X!==null&&it.types!==null&&(X.types=it.types),x.T=X}},Et.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},Et.use=function(M){return x.H.use(M)},Et.useActionState=function(M,X,it){return x.H.useActionState(M,X,it)},Et.useCallback=function(M,X){return x.H.useCallback(M,X)},Et.useContext=function(M){return x.H.useContext(M)},Et.useDebugValue=function(){},Et.useDeferredValue=function(M,X){return x.H.useDeferredValue(M,X)},Et.useEffect=function(M,X){return x.H.useEffect(M,X)},Et.useEffectEvent=function(M){return x.H.useEffectEvent(M)},Et.useId=function(){return x.H.useId()},Et.useImperativeHandle=function(M,X,it){return x.H.useImperativeHandle(M,X,it)},Et.useInsertionEffect=function(M,X){return x.H.useInsertionEffect(M,X)},Et.useLayoutEffect=function(M,X){return x.H.useLayoutEffect(M,X)},Et.useMemo=function(M,X){return x.H.useMemo(M,X)},Et.useOptimistic=function(M,X){return x.H.useOptimistic(M,X)},Et.useReducer=function(M,X,it){return x.H.useReducer(M,X,it)},Et.useRef=function(M){return x.H.useRef(M)},Et.useState=function(M){return x.H.useState(M)},Et.useSyncExternalStore=function(M,X,it){return x.H.useSyncExternalStore(M,X,it)},Et.useTransition=function(){return x.H.useTransition()},Et.version="19.2.3",Et}var r0;function Ld(){return r0||(r0=1,Qf.exports=B2()),Qf.exports}var Tt=Ld();const P2=B_(Tt);var Yf={exports:{}},Zl={},Kf={exports:{}},Xf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l0;function q2(){return l0||(l0=1,(function(s){function e(F,nt){var dt=F.length;F.push(nt);t:for(;0<dt;){var Ut=dt-1>>>1,Ft=F[Ut];if(0<o(Ft,nt))F[Ut]=nt,F[dt]=Ft,dt=Ut;else break t}}function i(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var nt=F[0],dt=F.pop();if(dt!==nt){F[0]=dt;t:for(var Ut=0,Ft=F.length,M=Ft>>>1;Ut<M;){var X=2*(Ut+1)-1,it=F[X],rt=X+1,_t=F[rt];if(0>o(it,dt))rt<Ft&&0>o(_t,it)?(F[Ut]=_t,F[rt]=dt,Ut=rt):(F[Ut]=it,F[X]=dt,Ut=X);else if(rt<Ft&&0>o(_t,dt))F[Ut]=_t,F[rt]=dt,Ut=rt;else break t}}return nt}function o(F,nt){var dt=F.sortIndex-nt.sortIndex;return dt!==0?dt:F.id-nt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var _=[],y=[],b=1,S=null,N=3,q=!1,W=!1,tt=!1,J=!1,ut=typeof setTimeout=="function"?setTimeout:null,pt=typeof clearTimeout=="function"?clearTimeout:null,mt=typeof setImmediate<"u"?setImmediate:null;function Ct(F){for(var nt=i(y);nt!==null;){if(nt.callback===null)r(y);else if(nt.startTime<=F)r(y),nt.sortIndex=nt.expirationTime,e(_,nt);else break;nt=i(y)}}function ct(F){if(tt=!1,Ct(F),!W)if(i(_)!==null)W=!0,Y||(Y=!0,k());else{var nt=i(y);nt!==null&&Ne(ct,nt.startTime-F)}}var Y=!1,x=-1,w=5,C=-1;function O(){return J?!0:!(s.unstable_now()-C<w)}function V(){if(J=!1,Y){var F=s.unstable_now();C=F;var nt=!0;try{t:{W=!1,tt&&(tt=!1,pt(x),x=-1),q=!0;var dt=N;try{e:{for(Ct(F),S=i(_);S!==null&&!(S.expirationTime>F&&O());){var Ut=S.callback;if(typeof Ut=="function"){S.callback=null,N=S.priorityLevel;var Ft=Ut(S.expirationTime<=F);if(F=s.unstable_now(),typeof Ft=="function"){S.callback=Ft,Ct(F),nt=!0;break e}S===i(_)&&r(_),Ct(F)}else r(_);S=i(_)}if(S!==null)nt=!0;else{var M=i(y);M!==null&&Ne(ct,M.startTime-F),nt=!1}}break t}finally{S=null,N=dt,q=!1}nt=void 0}}finally{nt?k():Y=!1}}}var k;if(typeof mt=="function")k=function(){mt(V)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,se=R.port2;R.port1.onmessage=V,k=function(){se.postMessage(null)}}else k=function(){ut(V,0)};function Ne(F,nt){x=ut(function(){F(s.unstable_now())},nt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return N},s.unstable_next=function(F){switch(N){case 1:case 2:case 3:var nt=3;break;default:nt=N}var dt=N;N=nt;try{return F()}finally{N=dt}},s.unstable_requestPaint=function(){J=!0},s.unstable_runWithPriority=function(F,nt){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var dt=N;N=F;try{return nt()}finally{N=dt}},s.unstable_scheduleCallback=function(F,nt,dt){var Ut=s.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?Ut+dt:Ut):dt=Ut,F){case 1:var Ft=-1;break;case 2:Ft=250;break;case 5:Ft=1073741823;break;case 4:Ft=1e4;break;default:Ft=5e3}return Ft=dt+Ft,F={id:b++,callback:nt,priorityLevel:F,startTime:dt,expirationTime:Ft,sortIndex:-1},dt>Ut?(F.sortIndex=dt,e(y,F),i(_)===null&&F===i(y)&&(tt?(pt(x),x=-1):tt=!0,Ne(ct,dt-Ut))):(F.sortIndex=Ft,e(_,F),W||q||(W=!0,Y||(Y=!0,k()))),F},s.unstable_shouldYield=O,s.unstable_wrapCallback=function(F){var nt=N;return function(){var dt=N;N=nt;try{return F.apply(this,arguments)}finally{N=dt}}}})(Xf)),Xf}var o0;function H2(){return o0||(o0=1,Kf.exports=q2()),Kf.exports}var $f={exports:{}},Ke={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u0;function G2(){if(u0)return Ke;u0=1;var s=Ld();function e(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(_,y,b){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:_,containerInfo:y,implementation:b}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ke.createPortal=function(_,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return h(_,y,null,b)},Ke.flushSync=function(_){var y=d.T,b=r.p;try{if(d.T=null,r.p=2,_)return _()}finally{d.T=y,r.p=b,r.d.f()}},Ke.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(_,y))},Ke.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},Ke.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var b=y.as,S=g(b,y.crossOrigin),N=typeof y.integrity=="string"?y.integrity:void 0,q=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?r.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:N,fetchPriority:q}):b==="script"&&r.d.X(_,{crossOrigin:S,integrity:N,fetchPriority:q,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ke.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=g(y.as,y.crossOrigin);r.d.M(_,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(_)},Ke.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,S=g(b,y.crossOrigin);r.d.L(_,b,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ke.preloadModule=function(_,y){if(typeof _=="string")if(y){var b=g(y.as,y.crossOrigin);r.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(_)},Ke.requestFormReset=function(_){r.d.r(_)},Ke.unstable_batchedUpdates=function(_,y){return _(y)},Ke.useFormState=function(_,y,b){return d.H.useFormState(_,y,b)},Ke.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ke.version="19.2.3",Ke}var c0;function F2(){if(c0)return $f.exports;c0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),$f.exports=G2(),$f.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h0;function Q2(){if(h0)return Zl;h0=1;var s=H2(),e=Ld(),i=F2();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(h(t)!==t)throw Error(r(188))}function y(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return _(c),t;if(f===l)return _(c),n;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=c,l=f;else{for(var p=!1,T=c.child;T;){if(T===a){p=!0,a=c,l=f;break}if(T===l){p=!0,l=c,a=f;break}T=T.sibling}if(!p){for(T=f.child;T;){if(T===a){p=!0,a=f,l=c;break}if(T===l){p=!0,l=f,a=c;break}T=T.sibling}if(!p)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function b(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=b(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,N=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),tt=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),ut=Symbol.for("react.profiler"),pt=Symbol.for("react.consumer"),mt=Symbol.for("react.context"),Ct=Symbol.for("react.forward_ref"),ct=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function se(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case tt:return"Fragment";case ut:return"Profiler";case J:return"StrictMode";case ct:return"Suspense";case Y:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case W:return"Portal";case mt:return t.displayName||"Context";case pt:return(t._context.displayName||"Context")+".Consumer";case Ct:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return n=t.displayName||null,n!==null?n:se(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return se(t(n))}catch{}}return null}var Ne=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},Ut=[],Ft=-1;function M(t){return{current:t}}function X(t){0>Ft||(t.current=Ut[Ft],Ut[Ft]=null,Ft--)}function it(t,n){Ft++,Ut[Ft]=t.current,t.current=n}var rt=M(null),_t=M(null),wt=M(null),kt=M(null);function Ie(t,n){switch(it(wt,n),it(_t,t),it(rt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?xy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=xy(n),t=Cy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}X(rt),it(rt,t)}function re(){X(rt),X(_t),X(wt)}function Qa(t){t.memoizedState!==null&&it(kt,t);var n=rt.current,a=Cy(n,t.type);n!==a&&(it(_t,t),it(rt,a))}function ks(t){_t.current===t&&(X(rt),X(_t)),kt.current===t&&(X(kt),Ql._currentValue=dt)}var zs,Ls;function Jn(t){if(zs===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);zs=n&&n[1]||"",Ls=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+zs+t+Ls}var Qr=!1;function Ya(t,n){if(!t||Qr)return"";Qr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(H){var B=H}Reflect.construct(t,[],K)}else{try{K.call()}catch(H){B=H}t.call(K.prototype)}}else{try{throw Error()}catch(H){B=H}(K=t())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],T=f[1];if(p&&T){var D=p.split(`
`),U=T.split(`
`);for(c=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;c<U.length&&!U[c].includes("DetermineComponentFrameRoot");)c++;if(l===D.length||c===U.length)for(l=D.length-1,c=U.length-1;1<=l&&0<=c&&D[l]!==U[c];)c--;for(;1<=l&&0<=c;l--,c--)if(D[l]!==U[c]){if(l!==1||c!==1)do if(l--,c--,0>c||D[l]!==U[c]){var G=`
`+D[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=c);break}}}finally{Qr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Jn(a):""}function Yr(t,n){switch(t.tag){case 26:case 27:case 5:return Jn(t.type);case 16:return Jn("Lazy");case 13:return t.child!==n&&n!==null?Jn("Suspense Fallback"):Jn("Suspense");case 19:return Jn("SuspenseList");case 0:case 15:return Ya(t.type,!1);case 11:return Ya(t.type.render,!1);case 1:return Ya(t.type,!0);case 31:return Jn("Activity");default:return""}}function Kr(t){try{var n="",a=null;do n+=Yr(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var _e=Object.prototype.hasOwnProperty,Ve=s.unstable_scheduleCallback,Zi=s.unstable_cancelCallback,Qc=s.unstable_shouldYield,So=s.unstable_requestPaint,Je=s.unstable_now,Ka=s.unstable_getCurrentPriorityLevel,Xr=s.unstable_ImmediatePriority,$r=s.unstable_UserBlockingPriority,Ji=s.unstable_NormalPriority,Yc=s.unstable_LowPriority,wo=s.unstable_IdlePriority,xo=s.log,Co=s.unstable_setDisableYieldValue,Ln=null,Ue=null;function Sn(t){if(typeof xo=="function"&&Co(t),Ue&&typeof Ue.setStrictMode=="function")try{Ue.setStrictMode(Ln,t)}catch{}}var fe=Math.clz32?Math.clz32:Do,Ro=Math.log,Us=Math.LN2;function Do(t){return t>>>=0,t===0?32:31-(Ro(t)/Us|0)|0}var Wn=256,Xa=262144,ve=4194304;function ti(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ei(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?c=ti(l):(p&=T,p!==0?c=ti(p):a||(a=T&~t,a!==0&&(c=ti(a))))):(T=l&~f,T!==0?c=ti(T):p!==0?c=ti(p):a||(a=l&~t,a!==0&&(c=ti(a)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:c}function Un(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Kc(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function No(){var t=ve;return ve<<=1,(ve&62914560)===0&&(ve=4194304),t}function ni(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function $a(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Xc(t,n,a,l,c,f){var p=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,D=t.expirationTimes,U=t.hiddenUpdates;for(a=p&~a;0<a;){var G=31-fe(a),K=1<<G;T[G]=0,D[G]=-1;var B=U[G];if(B!==null)for(U[G]=null,G=0;G<B.length;G++){var H=B[G];H!==null&&(H.lane&=-536870913)}a&=~K}l!==0&&Za(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function Za(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-fe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Zr(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-fe(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function Jr(t,n){var a=n&-n;return a=(a&42)!==0?1:Ja(a),(a&(t.suspendedLanes|n))!==0?0:a}function Ja(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ci(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Io(){var t=nt.p;return t!==0?t:(t=window.event,t===void 0?32:$y(t.type))}function Bn(t,n){var a=nt.p;try{return nt.p=t,n()}finally{nt.p=a}}var Pn=Math.random().toString(36).slice(2),Ee="__reactFiber$"+Pn,je="__reactProps$"+Pn,ii="__reactContainer$"+Pn,Bs="__reactEvents$"+Pn,$c="__reactListeners$"+Pn,Vo="__reactHandles$"+Pn,Mo="__reactResources$"+Pn,ai="__reactMarker$"+Pn;function Ps(t){delete t[Ee],delete t[je],delete t[Bs],delete t[$c],delete t[Vo]}function si(t){var n=t[Ee];if(n)return n;for(var a=t.parentNode;a;){if(n=a[ii]||a[Ee]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Oy(t);t!==null;){if(a=t[Ee])return a;t=Oy(t)}return n}t=a,a=t.parentNode}return null}function wn(t){if(t=t[Ee]||t[ii]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function fn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function ri(t){var n=t[Mo];return n||(n=t[Mo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Te(t){t[ai]=!0}var Wr=new Set,tl={};function li(t,n){oi(t,n),oi(t+"Capture",n)}function oi(t,n){for(tl[t]=n,t=0;t<n.length;t++)Wr.add(n[t])}var el=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nl={},il={};function Oo(t){return _e.call(il,t)?!0:_e.call(nl,t)?!1:el.test(t)?il[t]=!0:(nl[t]=!0,!1)}function qs(t,n,a){if(Oo(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function dn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function be(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function ke(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Wi(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function al(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(p){a=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Qt(t){if(!t._valueTracker){var n=Wi(t)?"checked":"value";t._valueTracker=al(t,n,""+t[n])}}function Wa(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Wi(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function ui(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ts=/[\n"\\]/g;function nn(t){return t.replace(ts,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Hs(t,n,a,l,c,f,p,T){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+ke(n)):t.value!==""+ke(n)&&(t.value=""+ke(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?sl(t,p,ke(n)):a!=null?sl(t,p,ke(a)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+ke(T):t.removeAttribute("name")}function jo(t,n,a,l,c,f,p,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Qt(t);return}a=a!=null?""+ke(a):"",n=n!=null?""+ke(n):a,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),Qt(t)}function sl(t,n,a){n==="number"&&ui(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ta(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+ke(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function ko(t,n,a){if(n!=null&&(n=""+ke(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+ke(a):""}function ea(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(Ne(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=ke(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Qt(t)}function an(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var zo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rl(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||zo.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function ll(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&rl(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&rl(t,f,n[f])}function Gs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),na=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fs(t){return na.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function qn(){}var ol=null;function xn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ia=null,ci=null;function es(t){var n=wn(t);if(n&&(t=n.stateNode)){var a=t[je]||null;t:switch(t=n.stateNode,n.type){case"input":if(Hs(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+nn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[je]||null;if(!c)throw Error(r(90));Hs(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Wa(l)}break t;case"textarea":ko(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&ta(t,!!a.multiple,n,!1)}}}var Qs=!1;function aa(t,n,a){if(Qs)return t(n,a);Qs=!0;try{var l=t(n);return l}finally{if(Qs=!1,(ia!==null||ci!==null)&&(Iu(),ia&&(n=ia,t=ci,ci=ia=null,es(n),t)))for(n=0;n<t.length;n++)es(t[n])}}function Hn(t,n){var a=t.stateNode;if(a===null)return null;var l=a[je]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ns=!1;if(Cn)try{var Xt={};Object.defineProperty(Xt,"passive",{get:function(){ns=!0}}),window.addEventListener("test",Xt,Xt),window.removeEventListener("test",Xt,Xt)}catch{ns=!1}var hi=null,ul=null,is=null;function cl(){if(is)return is;var t,n=ul,a=n.length,l,c="value"in hi?hi.value:hi.textContent,f=c.length;for(t=0;t<a&&n[t]===c[t];t++);var p=a-t;for(l=1;l<=p&&n[a-l]===c[f-l];l++);return is=c.slice(t,1<l?1-l:void 0)}function as(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ri(){return!0}function Gn(){return!1}function Be(t){function n(a,l,c,f,p){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ri:Gn,this.isPropagationStopped=Gn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ri)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ri)},persist:function(){},isPersistent:Ri}),n}var Di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fi=Be(Di),sa=S({},Di,{view:0,detail:0}),hl=Be(sa),ra,Ys,di,Ks=S({},sa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:la,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==di&&(di&&t.type==="mousemove"?(ra=t.screenX-di.screenX,Ys=t.screenY-di.screenY):Ys=ra=0,di=t),ra)},movementY:function(t){return"movementY"in t?t.movementY:Ys}}),fl=Be(Ks),ss=S({},Ks,{dataTransfer:0}),Uo=Be(ss),Bo=S({},sa,{relatedTarget:0}),rs=Be(Bo),dl=S({},Di,{animationName:0,elapsedTime:0,pseudoElement:0}),Po=Be(dl),Xs=S({},Di,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),qo=Be(Xs),Ho=S({},Di,{data:0}),mi=Be(Ho),Go={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yo(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Qo[t])?!!n[t]:!1}function la(){return Yo}var We=S({},sa,{key:function(t){if(t.key){var n=Go[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=as(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Fo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:la,charCode:function(t){return t.type==="keypress"?as(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?as(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ko=Be(We),Xo=S({},Ks,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ni=Be(Xo),u=S({},sa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:la}),m=Be(u),v=S({},Di,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Be(v),z=S({},Ks,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),P=Be(z),et=S({},Di,{newState:0,oldState:0}),At=Be(et),de=[9,13,27,32],qt=Cn&&"CompositionEvent"in window,le=null;Cn&&"documentMode"in document&&(le=document.documentMode);var Rn=Cn&&"TextEvent"in window&&!le,gi=Cn&&(!qt||le&&8<le&&11>=le),Fn=" ",Qn=!1;function ls(t,n){switch(t){case"keyup":return de.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $s(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Zs=!1;function oE(t,n){switch(t){case"compositionend":return $s(n);case"keypress":return n.which!==32?null:(Qn=!0,Fn);case"textInput":return t=n.data,t===Fn&&Qn?null:t;default:return null}}function uE(t,n){if(Zs)return t==="compositionend"||!qt&&ls(t,n)?(t=cl(),is=ul=hi=null,Zs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return gi&&n.locale!=="ko"?null:n.data;default:return null}}var cE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zm(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!cE[t.type]:n==="textarea"}function Lm(t,n,a,l){ia?ci?ci.push(l):ci=[l]:ia=l,n=Lu(n,"onChange"),0<n.length&&(a=new fi("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var ml=null,gl=null;function hE(t){Ey(t,0)}function $o(t){var n=fn(t);if(Wa(n))return t}function Um(t,n){if(t==="change")return n}var Bm=!1;if(Cn){var Zc;if(Cn){var Jc="oninput"in document;if(!Jc){var Pm=document.createElement("div");Pm.setAttribute("oninput","return;"),Jc=typeof Pm.oninput=="function"}Zc=Jc}else Zc=!1;Bm=Zc&&(!document.documentMode||9<document.documentMode)}function qm(){ml&&(ml.detachEvent("onpropertychange",Hm),gl=ml=null)}function Hm(t){if(t.propertyName==="value"&&$o(gl)){var n=[];Lm(n,gl,t,xn(t)),aa(hE,n)}}function fE(t,n,a){t==="focusin"?(qm(),ml=n,gl=a,ml.attachEvent("onpropertychange",Hm)):t==="focusout"&&qm()}function dE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $o(gl)}function mE(t,n){if(t==="click")return $o(n)}function gE(t,n){if(t==="input"||t==="change")return $o(n)}function pE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var mn=typeof Object.is=="function"?Object.is:pE;function pl(t,n){if(mn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!_e.call(n,c)||!mn(t[c],n[c]))return!1}return!0}function Gm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Fm(t,n){var a=Gm(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Gm(a)}}function Qm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Qm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Ym(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ui(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=ui(t.document)}return n}function Wc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var yE=Cn&&"documentMode"in document&&11>=document.documentMode,Js=null,th=null,yl=null,eh=!1;function Km(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;eh||Js==null||Js!==ui(l)||(l=Js,"selectionStart"in l&&Wc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),yl&&pl(yl,l)||(yl=l,l=Lu(th,"onSelect"),0<l.length&&(n=new fi("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Js)))}function os(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Ws={animationend:os("Animation","AnimationEnd"),animationiteration:os("Animation","AnimationIteration"),animationstart:os("Animation","AnimationStart"),transitionrun:os("Transition","TransitionRun"),transitionstart:os("Transition","TransitionStart"),transitioncancel:os("Transition","TransitionCancel"),transitionend:os("Transition","TransitionEnd")},nh={},Xm={};Cn&&(Xm=document.createElement("div").style,"AnimationEvent"in window||(delete Ws.animationend.animation,delete Ws.animationiteration.animation,delete Ws.animationstart.animation),"TransitionEvent"in window||delete Ws.transitionend.transition);function us(t){if(nh[t])return nh[t];if(!Ws[t])return t;var n=Ws[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Xm)return nh[t]=n[a];return t}var $m=us("animationend"),Zm=us("animationiteration"),Jm=us("animationstart"),_E=us("transitionrun"),vE=us("transitionstart"),EE=us("transitioncancel"),Wm=us("transitionend"),tg=new Map,ih="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ih.push("scrollEnd");function Yn(t,n){tg.set(t,n),li(n,[t])}var Zo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Dn=[],tr=0,ah=0;function Jo(){for(var t=tr,n=ah=tr=0;n<t;){var a=Dn[n];Dn[n++]=null;var l=Dn[n];Dn[n++]=null;var c=Dn[n];Dn[n++]=null;var f=Dn[n];if(Dn[n++]=null,l!==null&&c!==null){var p=l.pending;p===null?c.next=c:(c.next=p.next,p.next=c),l.pending=c}f!==0&&eg(a,c,f)}}function Wo(t,n,a,l){Dn[tr++]=t,Dn[tr++]=n,Dn[tr++]=a,Dn[tr++]=l,ah|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function sh(t,n,a,l){return Wo(t,n,a,l),tu(t)}function cs(t,n){return Wo(t,null,null,n),tu(t)}function eg(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-fe(a),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),f):null}function tu(t){if(50<Ul)throw Ul=0,gf=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var er={};function TE(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(t,n,a,l){return new TE(t,n,a,l)}function rh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ii(t,n){var a=t.alternate;return a===null?(a=gn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function ng(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function eu(t,n,a,l,c,f){var p=0;if(l=t,typeof t=="function")rh(t)&&(p=1);else if(typeof t=="string")p=x2(t,a,rt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case C:return t=gn(31,a,n,c),t.elementType=C,t.lanes=f,t;case tt:return hs(a.children,c,f,n);case J:p=8,c|=24;break;case ut:return t=gn(12,a,n,c|2),t.elementType=ut,t.lanes=f,t;case ct:return t=gn(13,a,n,c),t.elementType=ct,t.lanes=f,t;case Y:return t=gn(19,a,n,c),t.elementType=Y,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case mt:p=10;break t;case pt:p=9;break t;case Ct:p=11;break t;case x:p=14;break t;case w:p=16,l=null;break t}p=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=gn(p,a,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function hs(t,n,a,l){return t=gn(7,t,l,n),t.lanes=a,t}function lh(t,n,a){return t=gn(6,t,null,n),t.lanes=a,t}function ig(t){var n=gn(18,null,null,0);return n.stateNode=t,n}function oh(t,n,a){return n=gn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var ag=new WeakMap;function Nn(t,n){if(typeof t=="object"&&t!==null){var a=ag.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Kr(n)},ag.set(t,n),n)}return{value:t,source:n,stack:Kr(n)}}var nr=[],ir=0,nu=null,_l=0,In=[],Vn=0,oa=null,pi=1,yi="";function Vi(t,n){nr[ir++]=_l,nr[ir++]=nu,nu=t,_l=n}function sg(t,n,a){In[Vn++]=pi,In[Vn++]=yi,In[Vn++]=oa,oa=t;var l=pi;t=yi;var c=32-fe(l)-1;l&=~(1<<c),a+=1;var f=32-fe(n)+c;if(30<f){var p=c-c%5;f=(l&(1<<p)-1).toString(32),l>>=p,c-=p,pi=1<<32-fe(n)+c|a<<c|l,yi=f+t}else pi=1<<f|a<<c|l,yi=t}function uh(t){t.return!==null&&(Vi(t,1),sg(t,1,0))}function ch(t){for(;t===nu;)nu=nr[--ir],nr[ir]=null,_l=nr[--ir],nr[ir]=null;for(;t===oa;)oa=In[--Vn],In[Vn]=null,yi=In[--Vn],In[Vn]=null,pi=In[--Vn],In[Vn]=null}function rg(t,n){In[Vn++]=pi,In[Vn++]=yi,In[Vn++]=oa,pi=n.id,yi=n.overflow,oa=t}var Pe=null,ne=null,Ot=!1,ua=null,Mn=!1,hh=Error(r(519));function ca(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw vl(Nn(n,t)),hh}function lg(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[Ee]=t,n[je]=l,a){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(a=0;a<Pl.length;a++)Dt(Pl[a],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),jo(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),ea(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Sy(n.textContent,a)?(l.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),l.onScroll!=null&&Dt("scroll",n),l.onScrollEnd!=null&&Dt("scrollend",n),l.onClick!=null&&(n.onclick=qn),n=!0):n=!1,n||ca(t,!0)}function og(t){for(Pe=t.return;Pe;)switch(Pe.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:Pe=Pe.return}}function ar(t){if(t!==Pe)return!1;if(!Ot)return og(t),Ot=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Nf(t.type,t.memoizedProps)),a=!a),a&&ne&&ca(t),og(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ne=My(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ne=My(t)}else n===27?(n=ne,Sa(t.type)?(t=jf,jf=null,ne=t):ne=n):ne=Pe?jn(t.stateNode.nextSibling):null;return!0}function fs(){ne=Pe=null,Ot=!1}function fh(){var t=ua;return t!==null&&(on===null?on=t:on.push.apply(on,t),ua=null),t}function vl(t){ua===null?ua=[t]:ua.push(t)}var dh=M(null),ds=null,Mi=null;function ha(t,n,a){it(dh,n._currentValue),n._currentValue=a}function Oi(t){t._currentValue=dh.current,X(dh)}function mh(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function gh(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var p=c.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=c;for(var D=0;D<n.length;D++)if(T.context===n[D]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),mh(f.return,a,t),l||(p=null);break t}f=T.next}}else if(c.tag===18){if(p=c.return,p===null)throw Error(r(341));p.lanes|=a,f=p.alternate,f!==null&&(f.lanes|=a),mh(p,a,t),p=null}else p=c.child;if(p!==null)p.return=c;else for(p=c;p!==null;){if(p===t){p=null;break}if(c=p.sibling,c!==null){c.return=p.return,p=c;break}p=p.return}c=p}}function sr(t,n,a,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var p=c.alternate;if(p===null)throw Error(r(387));if(p=p.memoizedProps,p!==null){var T=c.type;mn(c.pendingProps.value,p.value)||(t!==null?t.push(T):t=[T])}}else if(c===kt.current){if(p=c.alternate,p===null)throw Error(r(387));p.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Ql):t=[Ql])}c=c.return}t!==null&&gh(n,t,a,l),n.flags|=262144}function iu(t){for(t=t.firstContext;t!==null;){if(!mn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ms(t){ds=t,Mi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return ug(ds,t)}function au(t,n){return ds===null&&ms(t),ug(t,n)}function ug(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Mi===null){if(t===null)throw Error(r(308));Mi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Mi=Mi.next=n;return a}var bE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},AE=s.unstable_scheduleCallback,SE=s.unstable_NormalPriority,Ae={$$typeof:mt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ph(){return{controller:new bE,data:new Map,refCount:0}}function El(t){t.refCount--,t.refCount===0&&AE(SE,function(){t.controller.abort()})}var Tl=null,yh=0,rr=0,lr=null;function wE(t,n){if(Tl===null){var a=Tl=[];yh=0,rr=Tf(),lr={status:"pending",value:void 0,then:function(l){a.push(l)}}}return yh++,n.then(cg,cg),n}function cg(){if(--yh===0&&Tl!==null){lr!==null&&(lr.status="fulfilled");var t=Tl;Tl=null,rr=0,lr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function xE(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var hg=F.S;F.S=function(t,n){Kp=Je(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&wE(t,n),hg!==null&&hg(t,n)};var gs=M(null);function _h(){var t=gs.current;return t!==null?t:te.pooledCache}function su(t,n){n===null?it(gs,gs.current):it(gs,n.pool)}function fg(){var t=_h();return t===null?null:{parent:Ae._currentValue,pool:t}}var or=Error(r(460)),vh=Error(r(474)),ru=Error(r(542)),lu={then:function(){}};function dg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function mg(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(qn,qn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,pg(t),t;default:if(typeof n.status=="string")n.then(qn,qn);else{if(t=te,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,pg(t),t}throw ys=n,or}}function ps(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ys=a,or):a}}var ys=null;function gg(){if(ys===null)throw Error(r(459));var t=ys;return ys=null,t}function pg(t){if(t===or||t===ru)throw Error(r(483))}var ur=null,bl=0;function ou(t){var n=bl;return bl+=1,ur===null&&(ur=[]),mg(ur,t,n)}function Al(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function uu(t,n){throw n.$$typeof===N?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function yg(t){function n(j,I){if(t){var L=j.deletions;L===null?(j.deletions=[I],j.flags|=16):L.push(I)}}function a(j,I){if(!t)return null;for(;I!==null;)n(j,I),I=I.sibling;return null}function l(j){for(var I=new Map;j!==null;)j.key!==null?I.set(j.key,j):I.set(j.index,j),j=j.sibling;return I}function c(j,I){return j=Ii(j,I),j.index=0,j.sibling=null,j}function f(j,I,L){return j.index=L,t?(L=j.alternate,L!==null?(L=L.index,L<I?(j.flags|=67108866,I):L):(j.flags|=67108866,I)):(j.flags|=1048576,I)}function p(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function T(j,I,L,Q){return I===null||I.tag!==6?(I=lh(L,j.mode,Q),I.return=j,I):(I=c(I,L),I.return=j,I)}function D(j,I,L,Q){var ht=L.type;return ht===tt?G(j,I,L.props.children,Q,L.key):I!==null&&(I.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===w&&ps(ht)===I.type)?(I=c(I,L.props),Al(I,L),I.return=j,I):(I=eu(L.type,L.key,L.props,null,j.mode,Q),Al(I,L),I.return=j,I)}function U(j,I,L,Q){return I===null||I.tag!==4||I.stateNode.containerInfo!==L.containerInfo||I.stateNode.implementation!==L.implementation?(I=oh(L,j.mode,Q),I.return=j,I):(I=c(I,L.children||[]),I.return=j,I)}function G(j,I,L,Q,ht){return I===null||I.tag!==7?(I=hs(L,j.mode,Q,ht),I.return=j,I):(I=c(I,L),I.return=j,I)}function K(j,I,L){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=lh(""+I,j.mode,L),I.return=j,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case q:return L=eu(I.type,I.key,I.props,null,j.mode,L),Al(L,I),L.return=j,L;case W:return I=oh(I,j.mode,L),I.return=j,I;case w:return I=ps(I),K(j,I,L)}if(Ne(I)||k(I))return I=hs(I,j.mode,L,null),I.return=j,I;if(typeof I.then=="function")return K(j,ou(I),L);if(I.$$typeof===mt)return K(j,au(j,I),L);uu(j,I)}return null}function B(j,I,L,Q){var ht=I!==null?I.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ht!==null?null:T(j,I,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case q:return L.key===ht?D(j,I,L,Q):null;case W:return L.key===ht?U(j,I,L,Q):null;case w:return L=ps(L),B(j,I,L,Q)}if(Ne(L)||k(L))return ht!==null?null:G(j,I,L,Q,null);if(typeof L.then=="function")return B(j,I,ou(L),Q);if(L.$$typeof===mt)return B(j,I,au(j,L),Q);uu(j,L)}return null}function H(j,I,L,Q,ht){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return j=j.get(L)||null,T(I,j,""+Q,ht);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case q:return j=j.get(Q.key===null?L:Q.key)||null,D(I,j,Q,ht);case W:return j=j.get(Q.key===null?L:Q.key)||null,U(I,j,Q,ht);case w:return Q=ps(Q),H(j,I,L,Q,ht)}if(Ne(Q)||k(Q))return j=j.get(L)||null,G(I,j,Q,ht,null);if(typeof Q.then=="function")return H(j,I,L,ou(Q),ht);if(Q.$$typeof===mt)return H(j,I,L,au(I,Q),ht);uu(I,Q)}return null}function lt(j,I,L,Q){for(var ht=null,Bt=null,ot=I,xt=I=0,It=null;ot!==null&&xt<L.length;xt++){ot.index>xt?(It=ot,ot=null):It=ot.sibling;var Pt=B(j,ot,L[xt],Q);if(Pt===null){ot===null&&(ot=It);break}t&&ot&&Pt.alternate===null&&n(j,ot),I=f(Pt,I,xt),Bt===null?ht=Pt:Bt.sibling=Pt,Bt=Pt,ot=It}if(xt===L.length)return a(j,ot),Ot&&Vi(j,xt),ht;if(ot===null){for(;xt<L.length;xt++)ot=K(j,L[xt],Q),ot!==null&&(I=f(ot,I,xt),Bt===null?ht=ot:Bt.sibling=ot,Bt=ot);return Ot&&Vi(j,xt),ht}for(ot=l(ot);xt<L.length;xt++)It=H(ot,j,xt,L[xt],Q),It!==null&&(t&&It.alternate!==null&&ot.delete(It.key===null?xt:It.key),I=f(It,I,xt),Bt===null?ht=It:Bt.sibling=It,Bt=It);return t&&ot.forEach(function(Da){return n(j,Da)}),Ot&&Vi(j,xt),ht}function gt(j,I,L,Q){if(L==null)throw Error(r(151));for(var ht=null,Bt=null,ot=I,xt=I=0,It=null,Pt=L.next();ot!==null&&!Pt.done;xt++,Pt=L.next()){ot.index>xt?(It=ot,ot=null):It=ot.sibling;var Da=B(j,ot,Pt.value,Q);if(Da===null){ot===null&&(ot=It);break}t&&ot&&Da.alternate===null&&n(j,ot),I=f(Da,I,xt),Bt===null?ht=Da:Bt.sibling=Da,Bt=Da,ot=It}if(Pt.done)return a(j,ot),Ot&&Vi(j,xt),ht;if(ot===null){for(;!Pt.done;xt++,Pt=L.next())Pt=K(j,Pt.value,Q),Pt!==null&&(I=f(Pt,I,xt),Bt===null?ht=Pt:Bt.sibling=Pt,Bt=Pt);return Ot&&Vi(j,xt),ht}for(ot=l(ot);!Pt.done;xt++,Pt=L.next())Pt=H(ot,j,xt,Pt.value,Q),Pt!==null&&(t&&Pt.alternate!==null&&ot.delete(Pt.key===null?xt:Pt.key),I=f(Pt,I,xt),Bt===null?ht=Pt:Bt.sibling=Pt,Bt=Pt);return t&&ot.forEach(function(z2){return n(j,z2)}),Ot&&Vi(j,xt),ht}function Jt(j,I,L,Q){if(typeof L=="object"&&L!==null&&L.type===tt&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case q:t:{for(var ht=L.key;I!==null;){if(I.key===ht){if(ht=L.type,ht===tt){if(I.tag===7){a(j,I.sibling),Q=c(I,L.props.children),Q.return=j,j=Q;break t}}else if(I.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===w&&ps(ht)===I.type){a(j,I.sibling),Q=c(I,L.props),Al(Q,L),Q.return=j,j=Q;break t}a(j,I);break}else n(j,I);I=I.sibling}L.type===tt?(Q=hs(L.props.children,j.mode,Q,L.key),Q.return=j,j=Q):(Q=eu(L.type,L.key,L.props,null,j.mode,Q),Al(Q,L),Q.return=j,j=Q)}return p(j);case W:t:{for(ht=L.key;I!==null;){if(I.key===ht)if(I.tag===4&&I.stateNode.containerInfo===L.containerInfo&&I.stateNode.implementation===L.implementation){a(j,I.sibling),Q=c(I,L.children||[]),Q.return=j,j=Q;break t}else{a(j,I);break}else n(j,I);I=I.sibling}Q=oh(L,j.mode,Q),Q.return=j,j=Q}return p(j);case w:return L=ps(L),Jt(j,I,L,Q)}if(Ne(L))return lt(j,I,L,Q);if(k(L)){if(ht=k(L),typeof ht!="function")throw Error(r(150));return L=ht.call(L),gt(j,I,L,Q)}if(typeof L.then=="function")return Jt(j,I,ou(L),Q);if(L.$$typeof===mt)return Jt(j,I,au(j,L),Q);uu(j,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,I!==null&&I.tag===6?(a(j,I.sibling),Q=c(I,L),Q.return=j,j=Q):(a(j,I),Q=lh(L,j.mode,Q),Q.return=j,j=Q),p(j)):a(j,I)}return function(j,I,L,Q){try{bl=0;var ht=Jt(j,I,L,Q);return ur=null,ht}catch(ot){if(ot===or||ot===ru)throw ot;var Bt=gn(29,ot,null,j.mode);return Bt.lanes=Q,Bt.return=j,Bt}finally{}}}var _s=yg(!0),_g=yg(!1),fa=!1;function Eh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Th(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function da(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ma(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ht&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=tu(t),eg(t,null,a),n}return Wo(t,l,n,a),tu(t)}function Sl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Zr(t,a)}}function bh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=p:f=f.next=p,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Ah=!1;function wl(){if(Ah){var t=lr;if(t!==null)throw t}}function xl(t,n,a,l){Ah=!1;var c=t.updateQueue;fa=!1;var f=c.firstBaseUpdate,p=c.lastBaseUpdate,T=c.shared.pending;if(T!==null){c.shared.pending=null;var D=T,U=D.next;D.next=null,p===null?f=U:p.next=U,p=D;var G=t.alternate;G!==null&&(G=G.updateQueue,T=G.lastBaseUpdate,T!==p&&(T===null?G.firstBaseUpdate=U:T.next=U,G.lastBaseUpdate=D))}if(f!==null){var K=c.baseState;p=0,G=U=D=null,T=f;do{var B=T.lane&-536870913,H=B!==T.lane;if(H?(Nt&B)===B:(l&B)===B){B!==0&&B===rr&&(Ah=!0),G!==null&&(G=G.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var lt=t,gt=T;B=n;var Jt=a;switch(gt.tag){case 1:if(lt=gt.payload,typeof lt=="function"){K=lt.call(Jt,K,B);break t}K=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=gt.payload,B=typeof lt=="function"?lt.call(Jt,K,B):lt,B==null)break t;K=S({},K,B);break t;case 2:fa=!0}}B=T.callback,B!==null&&(t.flags|=64,H&&(t.flags|=8192),H=c.callbacks,H===null?c.callbacks=[B]:H.push(B))}else H={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},G===null?(U=G=H,D=K):G=G.next=H,p|=B;if(T=T.next,T===null){if(T=c.shared.pending,T===null)break;H=T,T=H.next,H.next=null,c.lastBaseUpdate=H,c.shared.pending=null}}while(!0);G===null&&(D=K),c.baseState=D,c.firstBaseUpdate=U,c.lastBaseUpdate=G,f===null&&(c.shared.lanes=0),va|=p,t.lanes=p,t.memoizedState=K}}function vg(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function Eg(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)vg(a[t],n)}var cr=M(null),cu=M(0);function Tg(t,n){t=Hi,it(cu,t),it(cr,n),Hi=t|n.baseLanes}function Sh(){it(cu,Hi),it(cr,cr.current)}function wh(){Hi=cu.current,X(cr),X(cu)}var pn=M(null),On=null;function ga(t){var n=t.alternate;it(me,me.current&1),it(pn,t),On===null&&(n===null||cr.current!==null||n.memoizedState!==null)&&(On=t)}function xh(t){it(me,me.current),it(pn,t),On===null&&(On=t)}function bg(t){t.tag===22?(it(me,me.current),it(pn,t),On===null&&(On=t)):pa()}function pa(){it(me,me.current),it(pn,pn.current)}function yn(t){X(pn),On===t&&(On=null),X(me)}var me=M(0);function hu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Mf(a)||Of(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ji=0,St=null,$t=null,Se=null,fu=!1,hr=!1,vs=!1,du=0,Cl=0,fr=null,CE=0;function ce(){throw Error(r(321))}function Ch(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!mn(t[a],n[a]))return!1;return!0}function Rh(t,n,a,l,c,f){return ji=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=t===null||t.memoizedState===null?sp:Hh,vs=!1,f=a(l,c),vs=!1,hr&&(f=Sg(n,a,l,c)),Ag(t),f}function Ag(t){F.H=Nl;var n=$t!==null&&$t.next!==null;if(ji=0,Se=$t=St=null,fu=!1,Cl=0,fr=null,n)throw Error(r(300));t===null||we||(t=t.dependencies,t!==null&&iu(t)&&(we=!0))}function Sg(t,n,a,l){St=t;var c=0;do{if(hr&&(fr=null),Cl=0,hr=!1,25<=c)throw Error(r(301));if(c+=1,Se=$t=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=rp,f=n(a,l)}while(hr);return f}function RE(){var t=F.H,n=t.useState()[0];return n=typeof n.then=="function"?Rl(n):n,t=t.useState()[0],($t!==null?$t.memoizedState:null)!==t&&(St.flags|=1024),n}function Dh(){var t=du!==0;return du=0,t}function Nh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Ih(t){if(fu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}fu=!1}ji=0,Se=$t=St=null,hr=!1,Cl=du=0,fr=null}function tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?St.memoizedState=Se=t:Se=Se.next=t,Se}function ge(){if($t===null){var t=St.alternate;t=t!==null?t.memoizedState:null}else t=$t.next;var n=Se===null?St.memoizedState:Se.next;if(n!==null)Se=n,$t=t;else{if(t===null)throw St.alternate===null?Error(r(467)):Error(r(310));$t=t,t={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Se===null?St.memoizedState=Se=t:Se=Se.next=t}return Se}function mu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Rl(t){var n=Cl;return Cl+=1,fr===null&&(fr=[]),t=mg(fr,t,n),n=St,(Se===null?n.memoizedState:Se.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?sp:Hh),t}function gu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Rl(t);if(t.$$typeof===mt)return qe(t)}throw Error(r(438,String(t)))}function Vh(t){var n=null,a=St.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=St.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=mu(),St.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=O;return n.index++,a}function ki(t,n){return typeof n=="function"?n(t):n}function pu(t){var n=ge();return Mh(n,$t,t)}function Mh(t,n,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var p=c.next;c.next=f.next,f.next=p}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var T=p=null,D=null,U=n,G=!1;do{var K=U.lane&-536870913;if(K!==U.lane?(Nt&K)===K:(ji&K)===K){var B=U.revertLane;if(B===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),K===rr&&(G=!0);else if((ji&B)===B){U=U.next,B===rr&&(G=!0);continue}else K={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},D===null?(T=D=K,p=f):D=D.next=K,St.lanes|=B,va|=B;K=U.action,vs&&a(f,K),f=U.hasEagerState?U.eagerState:a(f,K)}else B={lane:K,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},D===null?(T=D=B,p=f):D=D.next=B,St.lanes|=K,va|=K;U=U.next}while(U!==null&&U!==n);if(D===null?p=f:D.next=T,!mn(f,t.memoizedState)&&(we=!0,G&&(a=lr,a!==null)))throw a;t.memoizedState=f,t.baseState=p,t.baseQueue=D,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Oh(t){var n=ge(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var p=c=c.next;do f=t(f,p.action),p=p.next;while(p!==c);mn(f,n.memoizedState)||(we=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function wg(t,n,a){var l=St,c=ge(),f=Ot;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var p=!mn(($t||c).memoizedState,a);if(p&&(c.memoizedState=a,we=!0),c=c.queue,zh(Rg.bind(null,l,c,t),[t]),c.getSnapshot!==n||p||Se!==null&&Se.memoizedState.tag&1){if(l.flags|=2048,dr(9,{destroy:void 0},Cg.bind(null,l,c,a,n),null),te===null)throw Error(r(349));f||(ji&127)!==0||xg(l,n,a)}return a}function xg(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=St.updateQueue,n===null?(n=mu(),St.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Cg(t,n,a,l){n.value=a,n.getSnapshot=l,Dg(n)&&Ng(t)}function Rg(t,n,a){return a(function(){Dg(n)&&Ng(t)})}function Dg(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!mn(t,a)}catch{return!0}}function Ng(t){var n=cs(t,2);n!==null&&un(n,t,2)}function jh(t){var n=tn();if(typeof t=="function"){var a=t;if(t=a(),vs){Sn(!0);try{a()}finally{Sn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:t},n}function Ig(t,n,a,l){return t.baseState=a,Mh(t,$t,typeof l=="function"?l:ki)}function DE(t,n,a,l,c){if(vu(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};F.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,Vg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Vg(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=F.T,p={};F.T=p;try{var T=a(c,l),D=F.S;D!==null&&D(p,T),Mg(t,n,T)}catch(U){kh(t,n,U)}finally{f!==null&&p.types!==null&&(f.types=p.types),F.T=f}}else try{f=a(c,l),Mg(t,n,f)}catch(U){kh(t,n,U)}}function Mg(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Og(t,n,l)},function(l){return kh(t,n,l)}):Og(t,n,a)}function Og(t,n,a){n.status="fulfilled",n.value=a,jg(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Vg(t,a)))}function kh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,jg(n),n=n.next;while(n!==l)}t.action=null}function jg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function kg(t,n){return n}function zg(t,n){if(Ot){var a=te.formState;if(a!==null){t:{var l=St;if(Ot){if(ne){e:{for(var c=ne,f=Mn;c.nodeType!==8;){if(!f){c=null;break e}if(c=jn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ne=jn(c.nextSibling),l=c.data==="F!";break t}}ca(l)}l=!1}l&&(n=a[0])}}return a=tn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kg,lastRenderedState:n},a.queue=l,a=np.bind(null,St,l),l.dispatch=a,l=jh(!1),f=qh.bind(null,St,!1,l.queue),l=tn(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=DE.bind(null,St,c,f,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function Lg(t){var n=ge();return Ug(n,$t,t)}function Ug(t,n,a){if(n=Mh(t,n,kg)[0],t=pu(ki)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Rl(n)}catch(p){throw p===or?ru:p}else l=n;n=ge();var c=n.queue,f=c.dispatch;return a!==n.memoizedState&&(St.flags|=2048,dr(9,{destroy:void 0},NE.bind(null,c,a),null)),[l,f,t]}function NE(t,n){t.action=n}function Bg(t){var n=ge(),a=$t;if(a!==null)return Ug(n,a,t);ge(),n=n.memoizedState,a=ge();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function dr(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=St.updateQueue,n===null&&(n=mu(),St.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Pg(){return ge().memoizedState}function yu(t,n,a,l){var c=tn();St.flags|=t,c.memoizedState=dr(1|n,{destroy:void 0},a,l===void 0?null:l)}function _u(t,n,a,l){var c=ge();l=l===void 0?null:l;var f=c.memoizedState.inst;$t!==null&&l!==null&&Ch(l,$t.memoizedState.deps)?c.memoizedState=dr(n,f,a,l):(St.flags|=t,c.memoizedState=dr(1|n,f,a,l))}function qg(t,n){yu(8390656,8,t,n)}function zh(t,n){_u(2048,8,t,n)}function IE(t){St.flags|=4;var n=St.updateQueue;if(n===null)n=mu(),St.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Hg(t){var n=ge().memoizedState;return IE({ref:n,nextImpl:t}),function(){if((Ht&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Gg(t,n){return _u(4,2,t,n)}function Fg(t,n){return _u(4,4,t,n)}function Qg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Yg(t,n,a){a=a!=null?a.concat([t]):null,_u(4,4,Qg.bind(null,n,t),a)}function Lh(){}function Kg(t,n){var a=ge();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Ch(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Xg(t,n){var a=ge();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Ch(n,l[1]))return l[0];if(l=t(),vs){Sn(!0);try{t()}finally{Sn(!1)}}return a.memoizedState=[l,n],l}function Uh(t,n,a){return a===void 0||(ji&1073741824)!==0&&(Nt&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=$p(),St.lanes|=t,va|=t,a)}function $g(t,n,a,l){return mn(a,n)?a:cr.current!==null?(t=Uh(t,a,l),mn(t,n)||(we=!0),t):(ji&42)===0||(ji&1073741824)!==0&&(Nt&261930)===0?(we=!0,t.memoizedState=a):(t=$p(),St.lanes|=t,va|=t,n)}function Zg(t,n,a,l,c){var f=nt.p;nt.p=f!==0&&8>f?f:8;var p=F.T,T={};F.T=T,qh(t,!1,n,a);try{var D=c(),U=F.S;if(U!==null&&U(T,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var G=xE(D,l);Dl(t,n,G,En(t))}else Dl(t,n,l,En(t))}catch(K){Dl(t,n,{then:function(){},status:"rejected",reason:K},En())}finally{nt.p=f,p!==null&&T.types!==null&&(p.types=T.types),F.T=p}}function VE(){}function Bh(t,n,a,l){if(t.tag!==5)throw Error(r(476));var c=Jg(t).queue;Zg(t,c,n,dt,a===null?VE:function(){return Wg(t),a(l)})}function Jg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:dt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Wg(t){var n=Jg(t);n.next===null&&(n=t.alternate.memoizedState),Dl(t,n.next.queue,{},En())}function Ph(){return qe(Ql)}function tp(){return ge().memoizedState}function ep(){return ge().memoizedState}function ME(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=En();t=da(a);var l=ma(n,t,a);l!==null&&(un(l,n,a),Sl(l,n,a)),n={cache:ph()},t.payload=n;return}n=n.return}}function OE(t,n,a){var l=En();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},vu(t)?ip(n,a):(a=sh(t,n,a,l),a!==null&&(un(a,t,l),ap(a,n,l)))}function np(t,n,a){var l=En();Dl(t,n,a,l)}function Dl(t,n,a,l){var c={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(vu(t))ip(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,T=f(p,a);if(c.hasEagerState=!0,c.eagerState=T,mn(T,p))return Wo(t,n,c,0),te===null&&Jo(),!1}catch{}finally{}if(a=sh(t,n,c,l),a!==null)return un(a,t,l),ap(a,n,l),!0}return!1}function qh(t,n,a,l){if(l={lane:2,revertLane:Tf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},vu(t)){if(n)throw Error(r(479))}else n=sh(t,a,l,2),n!==null&&un(n,t,2)}function vu(t){var n=t.alternate;return t===St||n!==null&&n===St}function ip(t,n){hr=fu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function ap(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Zr(t,a)}}var Nl={readContext:qe,use:gu,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce};Nl.useEffectEvent=ce;var sp={readContext:qe,use:gu,useCallback:function(t,n){return tn().memoizedState=[t,n===void 0?null:n],t},useContext:qe,useEffect:qg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,yu(4194308,4,Qg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return yu(4194308,4,t,n)},useInsertionEffect:function(t,n){yu(4,2,t,n)},useMemo:function(t,n){var a=tn();n=n===void 0?null:n;var l=t();if(vs){Sn(!0);try{t()}finally{Sn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=tn();if(a!==void 0){var c=a(n);if(vs){Sn(!0);try{a(n)}finally{Sn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=OE.bind(null,St,t),[l.memoizedState,t]},useRef:function(t){var n=tn();return t={current:t},n.memoizedState=t},useState:function(t){t=jh(t);var n=t.queue,a=np.bind(null,St,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Lh,useDeferredValue:function(t,n){var a=tn();return Uh(a,t,n)},useTransition:function(){var t=jh(!1);return t=Zg.bind(null,St,t.queue,!0,!1),tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=St,c=tn();if(Ot){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),te===null)throw Error(r(349));(Nt&127)!==0||xg(l,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,qg(Rg.bind(null,l,f,t),[t]),l.flags|=2048,dr(9,{destroy:void 0},Cg.bind(null,l,f,a,n),null),a},useId:function(){var t=tn(),n=te.identifierPrefix;if(Ot){var a=yi,l=pi;a=(l&~(1<<32-fe(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=du++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=CE++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Ph,useFormState:zg,useActionState:zg,useOptimistic:function(t){var n=tn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=qh.bind(null,St,!0,a),a.dispatch=n,[t,n]},useMemoCache:Vh,useCacheRefresh:function(){return tn().memoizedState=ME.bind(null,St)},useEffectEvent:function(t){var n=tn(),a={impl:t};return n.memoizedState=a,function(){if((Ht&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Hh={readContext:qe,use:gu,useCallback:Kg,useContext:qe,useEffect:zh,useImperativeHandle:Yg,useInsertionEffect:Gg,useLayoutEffect:Fg,useMemo:Xg,useReducer:pu,useRef:Pg,useState:function(){return pu(ki)},useDebugValue:Lh,useDeferredValue:function(t,n){var a=ge();return $g(a,$t.memoizedState,t,n)},useTransition:function(){var t=pu(ki)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:Rl(t),n]},useSyncExternalStore:wg,useId:tp,useHostTransitionStatus:Ph,useFormState:Lg,useActionState:Lg,useOptimistic:function(t,n){var a=ge();return Ig(a,$t,t,n)},useMemoCache:Vh,useCacheRefresh:ep};Hh.useEffectEvent=Hg;var rp={readContext:qe,use:gu,useCallback:Kg,useContext:qe,useEffect:zh,useImperativeHandle:Yg,useInsertionEffect:Gg,useLayoutEffect:Fg,useMemo:Xg,useReducer:Oh,useRef:Pg,useState:function(){return Oh(ki)},useDebugValue:Lh,useDeferredValue:function(t,n){var a=ge();return $t===null?Uh(a,t,n):$g(a,$t.memoizedState,t,n)},useTransition:function(){var t=Oh(ki)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:Rl(t),n]},useSyncExternalStore:wg,useId:tp,useHostTransitionStatus:Ph,useFormState:Bg,useActionState:Bg,useOptimistic:function(t,n){var a=ge();return $t!==null?Ig(a,$t,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Vh,useCacheRefresh:ep};rp.useEffectEvent=Hg;function Gh(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:S({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Fh={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=En(),c=da(l);c.payload=n,a!=null&&(c.callback=a),n=ma(t,c,l),n!==null&&(un(n,t,l),Sl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=En(),c=da(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=ma(t,c,l),n!==null&&(un(n,t,l),Sl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=En(),l=da(a);l.tag=2,n!=null&&(l.callback=n),n=ma(t,l,a),n!==null&&(un(n,t,a),Sl(n,t,a))}};function lp(t,n,a,l,c,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!pl(a,l)||!pl(c,f):!0}function op(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Fh.enqueueReplaceState(n,n.state,null)}function Es(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=S({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}function up(t){Zo(t)}function cp(t){console.error(t)}function hp(t){Zo(t)}function Eu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function fp(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Qh(t,n,a){return a=da(a),a.tag=3,a.payload={element:null},a.callback=function(){Eu(t,n)},a}function dp(t){return t=da(t),t.tag=3,t}function mp(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){fp(n,a,l)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){fp(n,a,l),typeof c!="function"&&(Ea===null?Ea=new Set([this]):Ea.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function jE(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&sr(n,a,c,!0),a=pn.current,a!==null){switch(a.tag){case 31:case 13:return On===null?Vu():a.alternate===null&&he===0&&(he=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===lu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),_f(t,l,c)),!1;case 22:return a.flags|=65536,l===lu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),_f(t,l,c)),!1}throw Error(r(435,a.tag))}return _f(t,l,c),Vu(),!1}if(Ot)return n=pn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==hh&&(t=Error(r(422),{cause:l}),vl(Nn(t,a)))):(l!==hh&&(n=Error(r(423),{cause:l}),vl(Nn(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Nn(l,a),c=Qh(t.stateNode,l,c),bh(t,c),he!==4&&(he=2)),!1;var f=Error(r(520),{cause:l});if(f=Nn(f,a),Ll===null?Ll=[f]:Ll.push(f),he!==4&&(he=2),n===null)return!0;l=Nn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=Qh(a.stateNode,l,t),bh(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ea===null||!Ea.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=dp(c),mp(c,t,a,l),bh(a,c),!1}a=a.return}while(a!==null);return!1}var Yh=Error(r(461)),we=!1;function He(t,n,a,l){n.child=t===null?_g(n,null,a,l):_s(n,t.child,a,l)}function gp(t,n,a,l,c){a=a.render;var f=n.ref;if("ref"in l){var p={};for(var T in l)T!=="ref"&&(p[T]=l[T])}else p=l;return ms(n),l=Rh(t,n,a,p,f,c),T=Dh(),t!==null&&!we?(Nh(t,n,c),zi(t,n,c)):(Ot&&T&&uh(n),n.flags|=1,He(t,n,l,c),n.child)}function pp(t,n,a,l,c){if(t===null){var f=a.type;return typeof f=="function"&&!rh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,yp(t,n,f,l,c)):(t=eu(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!ef(t,c)){var p=f.memoizedProps;if(a=a.compare,a=a!==null?a:pl,a(p,l)&&t.ref===n.ref)return zi(t,n,c)}return n.flags|=1,t=Ii(f,l),t.ref=n.ref,t.return=n,n.child=t}function yp(t,n,a,l,c){if(t!==null){var f=t.memoizedProps;if(pl(f,l)&&t.ref===n.ref)if(we=!1,n.pendingProps=l=f,ef(t,c))(t.flags&131072)!==0&&(we=!0);else return n.lanes=t.lanes,zi(t,n,c)}return Kh(t,n,a,l,c)}function _p(t,n,a,l){var c=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=n.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,n.child=null;return vp(t,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&su(n,f!==null?f.cachePool:null),f!==null?Tg(n,f):Sh(),bg(n);else return l=n.lanes=536870912,vp(t,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(su(n,f.cachePool),Tg(n,f),pa(),n.memoizedState=null):(t!==null&&su(n,null),Sh(),pa());return He(t,n,c,a),n.child}function Il(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function vp(t,n,a,l,c){var f=_h();return f=f===null?null:{parent:Ae._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&su(n,null),Sh(),bg(n),t!==null&&sr(t,n,l,!0),n.childLanes=c,null}function Tu(t,n){return n=Au({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Ep(t,n,a){return _s(n,t.child,null,a),t=Tu(n,n.pendingProps),t.flags|=2,yn(n),n.memoizedState=null,t}function kE(t,n,a){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ot){if(l.mode==="hidden")return t=Tu(n,l),n.lanes=536870912,Il(null,t);if(xh(n),(t=ne)?(t=Vy(t,Mn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:oa!==null?{id:pi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},a=ig(t),a.return=n,n.child=a,Pe=n,ne=null)):t=null,t===null)throw ca(n);return n.lanes=536870912,null}return Tu(n,l)}var f=t.memoizedState;if(f!==null){var p=f.dehydrated;if(xh(n),c)if(n.flags&256)n.flags&=-257,n=Ep(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(we||sr(t,n,a,!1),c=(a&t.childLanes)!==0,we||c){if(l=te,l!==null&&(p=Jr(l,a),p!==0&&p!==f.retryLane))throw f.retryLane=p,cs(t,p),un(l,t,p),Yh;Vu(),n=Ep(t,n,a)}else t=f.treeContext,ne=jn(p.nextSibling),Pe=n,Ot=!0,ua=null,Mn=!1,t!==null&&rg(n,t),n=Tu(n,l),n.flags|=4096;return n}return t=Ii(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function bu(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Kh(t,n,a,l,c){return ms(n),a=Rh(t,n,a,l,void 0,c),l=Dh(),t!==null&&!we?(Nh(t,n,c),zi(t,n,c)):(Ot&&l&&uh(n),n.flags|=1,He(t,n,a,c),n.child)}function Tp(t,n,a,l,c,f){return ms(n),n.updateQueue=null,a=Sg(n,l,a,c),Ag(t),l=Dh(),t!==null&&!we?(Nh(t,n,f),zi(t,n,f)):(Ot&&l&&uh(n),n.flags|=1,He(t,n,a,f),n.child)}function bp(t,n,a,l,c){if(ms(n),n.stateNode===null){var f=er,p=a.contextType;typeof p=="object"&&p!==null&&(f=qe(p)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Fh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Eh(n),p=a.contextType,f.context=typeof p=="object"&&p!==null?qe(p):er,f.state=n.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(Gh(n,a,p,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Fh.enqueueReplaceState(f,f.state,null),xl(n,l,f,c),wl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,D=Es(a,T);f.props=D;var U=f.context,G=a.contextType;p=er,typeof G=="object"&&G!==null&&(p=qe(G));var K=a.getDerivedStateFromProps;G=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||U!==p)&&op(n,f,l,p),fa=!1;var B=n.memoizedState;f.state=B,xl(n,l,f,c),wl(),U=n.memoizedState,T||B!==U||fa?(typeof K=="function"&&(Gh(n,a,K,l),U=n.memoizedState),(D=fa||lp(n,a,D,l,B,U,p))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=U),f.props=l,f.state=U,f.context=p,l=D):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Th(t,n),p=n.memoizedProps,G=Es(a,p),f.props=G,K=n.pendingProps,B=f.context,U=a.contextType,D=er,typeof U=="object"&&U!==null&&(D=qe(U)),T=a.getDerivedStateFromProps,(U=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==K||B!==D)&&op(n,f,l,D),fa=!1,B=n.memoizedState,f.state=B,xl(n,l,f,c),wl();var H=n.memoizedState;p!==K||B!==H||fa||t!==null&&t.dependencies!==null&&iu(t.dependencies)?(typeof T=="function"&&(Gh(n,a,T,l),H=n.memoizedState),(G=fa||lp(n,a,G,l,B,H,D)||t!==null&&t.dependencies!==null&&iu(t.dependencies))?(U||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,D),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,D)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=D,l=G):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,bu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=_s(n,t.child,null,c),n.child=_s(n,null,a,c)):He(t,n,a,c),n.memoizedState=f.state,t=n.child):t=zi(t,n,c),t}function Ap(t,n,a,l){return fs(),n.flags|=256,He(t,n,a,l),n.child}var Xh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $h(t){return{baseLanes:t,cachePool:fg()}}function Zh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=vn),t}function Sp(t,n,a){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(me.current&2)!==0),p&&(c=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ot){if(c?ga(n):pa(),(t=ne)?(t=Vy(t,Mn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:oa!==null?{id:pi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},a=ig(t),a.return=n,n.child=a,Pe=n,ne=null)):t=null,t===null)throw ca(n);return Of(t)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,c?(pa(),c=n.mode,T=Au({mode:"hidden",children:T},c),l=hs(l,c,a,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=$h(a),l.childLanes=Zh(t,p,a),n.memoizedState=Xh,Il(null,l)):(ga(n),Jh(n,T))}var D=t.memoizedState;if(D!==null&&(T=D.dehydrated,T!==null)){if(f)n.flags&256?(ga(n),n.flags&=-257,n=Wh(t,n,a)):n.memoizedState!==null?(pa(),n.child=t.child,n.flags|=128,n=null):(pa(),T=l.fallback,c=n.mode,l=Au({mode:"visible",children:l.children},c),T=hs(T,c,a,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,_s(n,t.child,null,a),l=n.child,l.memoizedState=$h(a),l.childLanes=Zh(t,p,a),n.memoizedState=Xh,n=Il(null,l));else if(ga(n),Of(T)){if(p=T.nextSibling&&T.nextSibling.dataset,p)var U=p.dgst;p=U,l=Error(r(419)),l.stack="",l.digest=p,vl({value:l,source:null,stack:null}),n=Wh(t,n,a)}else if(we||sr(t,n,a,!1),p=(a&t.childLanes)!==0,we||p){if(p=te,p!==null&&(l=Jr(p,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,cs(t,l),un(p,t,l),Yh;Mf(T)||Vu(),n=Wh(t,n,a)}else Mf(T)?(n.flags|=192,n.child=t.child,n=null):(t=D.treeContext,ne=jn(T.nextSibling),Pe=n,Ot=!0,ua=null,Mn=!1,t!==null&&rg(n,t),n=Jh(n,l.children),n.flags|=4096);return n}return c?(pa(),T=l.fallback,c=n.mode,D=t.child,U=D.sibling,l=Ii(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,U!==null?T=Ii(U,T):(T=hs(T,c,a,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,Il(null,l),l=n.child,T=t.child.memoizedState,T===null?T=$h(a):(c=T.cachePool,c!==null?(D=Ae._currentValue,c=c.parent!==D?{parent:D,pool:D}:c):c=fg(),T={baseLanes:T.baseLanes|a,cachePool:c}),l.memoizedState=T,l.childLanes=Zh(t,p,a),n.memoizedState=Xh,Il(t.child,l)):(ga(n),a=t.child,t=a.sibling,a=Ii(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=a,n.memoizedState=null,a)}function Jh(t,n){return n=Au({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Au(t,n){return t=gn(22,t,null,n),t.lanes=0,t}function Wh(t,n,a){return _s(n,t.child,null,a),t=Jh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function wp(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),mh(t.return,n,a)}function tf(t,n,a,l,c,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=a,p.tailMode=c,p.treeForkCount=f)}function xp(t,n,a){var l=n.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var p=me.current,T=(p&2)!==0;if(T?(p=p&1|2,n.flags|=128):p&=1,it(me,p),He(t,n,l,a),l=Ot?_l:0,!T&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wp(t,a,n);else if(t.tag===19)wp(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&hu(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),tf(n,!1,c,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&hu(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}tf(n,!0,a,null,f,l);break;case"together":tf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function zi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),va|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(sr(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=Ii(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Ii(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function ef(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&iu(t)))}function zE(t,n,a){switch(n.tag){case 3:Ie(n,n.stateNode.containerInfo),ha(n,Ae,t.memoizedState.cache),fs();break;case 27:case 5:Qa(n);break;case 4:Ie(n,n.stateNode.containerInfo);break;case 10:ha(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,xh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ga(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Sp(t,n,a):(ga(n),t=zi(t,n,a),t!==null?t.sibling:null);ga(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(sr(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return xp(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),it(me,me.current),l)break;return null;case 22:return n.lanes=0,_p(t,n,a,n.pendingProps);case 24:ha(n,Ae,t.memoizedState.cache)}return zi(t,n,a)}function Cp(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)we=!0;else{if(!ef(t,a)&&(n.flags&128)===0)return we=!1,zE(t,n,a);we=(t.flags&131072)!==0}else we=!1,Ot&&(n.flags&1048576)!==0&&sg(n,_l,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=ps(n.elementType),n.type=t,typeof t=="function")rh(t)?(l=Es(t,l),n.tag=1,n=bp(null,n,t,l,a)):(n.tag=0,n=Kh(null,n,t,l,a));else{if(t!=null){var c=t.$$typeof;if(c===Ct){n.tag=11,n=gp(null,n,t,l,a);break t}else if(c===x){n.tag=14,n=pp(null,n,t,l,a);break t}}throw n=se(t)||t,Error(r(306,n,""))}}return n;case 0:return Kh(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=Es(l,n.pendingProps),bp(t,n,l,c,a);case 3:t:{if(Ie(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,Th(t,n),xl(n,l,null,a);var p=n.memoizedState;if(l=p.cache,ha(n,Ae,l),l!==f.cache&&gh(n,[Ae],a,!0),wl(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Ap(t,n,l,a);break t}else if(l!==c){c=Nn(Error(r(424)),n),vl(c),n=Ap(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ne=jn(t.firstChild),Pe=n,Ot=!0,ua=null,Mn=!0,a=_g(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(fs(),l===c){n=zi(t,n,a);break t}He(t,n,l,a)}n=n.child}return n;case 26:return bu(t,n),t===null?(a=Ly(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ot||(a=n.type,t=n.pendingProps,l=Uu(wt.current).createElement(a),l[Ee]=n,l[je]=t,Ge(l,a,t),Te(l),n.stateNode=l):n.memoizedState=Ly(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Qa(n),t===null&&Ot&&(l=n.stateNode=jy(n.type,n.pendingProps,wt.current),Pe=n,Mn=!0,c=ne,Sa(n.type)?(jf=c,ne=jn(l.firstChild)):ne=c),He(t,n,n.pendingProps.children,a),bu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ot&&((c=l=ne)&&(l=d2(l,n.type,n.pendingProps,Mn),l!==null?(n.stateNode=l,Pe=n,ne=jn(l.firstChild),Mn=!1,c=!0):c=!1),c||ca(n)),Qa(n),c=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,l=f.children,Nf(c,f)?l=null:p!==null&&Nf(c,p)&&(n.flags|=32),n.memoizedState!==null&&(c=Rh(t,n,RE,null,null,a),Ql._currentValue=c),bu(t,n),He(t,n,l,a),n.child;case 6:return t===null&&Ot&&((t=a=ne)&&(a=m2(a,n.pendingProps,Mn),a!==null?(n.stateNode=a,Pe=n,ne=null,t=!0):t=!1),t||ca(n)),null;case 13:return Sp(t,n,a);case 4:return Ie(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=_s(n,null,l,a):He(t,n,l,a),n.child;case 11:return gp(t,n,n.type,n.pendingProps,a);case 7:return He(t,n,n.pendingProps,a),n.child;case 8:return He(t,n,n.pendingProps.children,a),n.child;case 12:return He(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,ha(n,n.type,l.value),He(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ms(n),c=qe(c),l=l(c),n.flags|=1,He(t,n,l,a),n.child;case 14:return pp(t,n,n.type,n.pendingProps,a);case 15:return yp(t,n,n.type,n.pendingProps,a);case 19:return xp(t,n,a);case 31:return kE(t,n,a);case 22:return _p(t,n,a,n.pendingProps);case 24:return ms(n),l=qe(Ae),t===null?(c=_h(),c===null&&(c=te,f=ph(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:l,cache:c},Eh(n),ha(n,Ae,c)):((t.lanes&a)!==0&&(Th(t,n),xl(n,null,null,a),wl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),ha(n,Ae,l)):(l=f.cache,ha(n,Ae,l),l!==c.cache&&gh(n,[Ae],a,!0))),He(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Li(t){t.flags|=4}function nf(t,n,a,l,c){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(ty())t.flags|=8192;else throw ys=lu,vh}else t.flags&=-16777217}function Rp(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Hy(n))if(ty())t.flags|=8192;else throw ys=lu,vh}function Su(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?No():536870912,t.lanes|=n,yr|=n)}function Vl(t,n){if(!Ot)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ie(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function LE(t,n,a){var l=n.pendingProps;switch(ch(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Oi(Ae),re(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ar(n)?Li(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,fh())),ie(n),null;case 26:var c=n.type,f=n.memoizedState;return t===null?(Li(n),f!==null?(ie(n),Rp(n,f)):(ie(n),nf(n,c,null,l,a))):f?f!==t.memoizedState?(Li(n),ie(n),Rp(n,f)):(ie(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Li(n),ie(n),nf(n,c,t,l,a)),null;case 27:if(ks(n),a=wt.current,c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Li(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return ie(n),null}t=rt.current,ar(n)?lg(n):(t=jy(c,l,a),n.stateNode=t,Li(n))}return ie(n),null;case 5:if(ks(n),c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Li(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return ie(n),null}if(f=rt.current,ar(n))lg(n);else{var p=Uu(wt.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?p.createElement(c,{is:l.is}):p.createElement(c)}}f[Ee]=n,f[je]=l;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(Ge(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Li(n)}}return ie(n),nf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Li(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=wt.current,ar(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=Pe,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[Ee]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Sy(t.nodeValue,a)),t||ca(n,!0)}else t=Uu(t).createTextNode(l),t[Ee]=n,n.stateNode=t}return ie(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=ar(n),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Ee]=n}else fs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),t=!1}else a=fh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(yn(n),n):(yn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return ie(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=ar(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[Ee]=n}else fs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),c=!1}else c=fh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(yn(n),n):(yn(n),null)}return yn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),Su(n,n.updateQueue),ie(n),null);case 4:return re(),t===null&&wf(n.stateNode.containerInfo),ie(n),null;case 10:return Oi(n.type),ie(n),null;case 19:if(X(me),l=n.memoizedState,l===null)return ie(n),null;if(c=(n.flags&128)!==0,f=l.rendering,f===null)if(c)Vl(l,!1);else{if(he!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=hu(t),f!==null){for(n.flags|=128,Vl(l,!1),t=f.updateQueue,n.updateQueue=t,Su(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)ng(a,t),a=a.sibling;return it(me,me.current&1|2),Ot&&Vi(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Je()>Du&&(n.flags|=128,c=!0,Vl(l,!1),n.lanes=4194304)}else{if(!c)if(t=hu(f),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,n.updateQueue=t,Su(n,t),Vl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ot)return ie(n),null}else 2*Je()-l.renderingStartTime>Du&&a!==536870912&&(n.flags|=128,c=!0,Vl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Je(),t.sibling=null,a=me.current,it(me,c?a&1|2:a&1),Ot&&Vi(n,l.treeForkCount),t):(ie(n),null);case 22:case 23:return yn(n),wh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),a=n.updateQueue,a!==null&&Su(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&X(gs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Oi(Ae),ie(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function UE(t,n){switch(ch(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Oi(Ae),re(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ks(n),null;case 31:if(n.memoizedState!==null){if(yn(n),n.alternate===null)throw Error(r(340));fs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(yn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));fs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return X(me),null;case 4:return re(),null;case 10:return Oi(n.type),null;case 22:case 23:return yn(n),wh(),t!==null&&X(gs),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Oi(Ae),null;case 25:return null;default:return null}}function Dp(t,n){switch(ch(n),n.tag){case 3:Oi(Ae),re();break;case 26:case 27:case 5:ks(n);break;case 4:re();break;case 31:n.memoizedState!==null&&yn(n);break;case 13:yn(n);break;case 19:X(me);break;case 10:Oi(n.type);break;case 22:case 23:yn(n),wh(),t!==null&&X(gs);break;case 24:Oi(Ae)}}function Ml(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var f=a.create,p=a.inst;l=f(),p.destroy=l}a=a.next}while(a!==c)}}catch(T){Kt(n,n.return,T)}}function ya(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var p=l.inst,T=p.destroy;if(T!==void 0){p.destroy=void 0,c=n;var D=a,U=T;try{U()}catch(G){Kt(c,D,G)}}}l=l.next}while(l!==f)}}catch(G){Kt(n,n.return,G)}}function Np(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Eg(n,a)}catch(l){Kt(t,t.return,l)}}}function Ip(t,n,a){a.props=Es(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Kt(t,n,l)}}function Ol(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){Kt(t,n,c)}}function _i(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Kt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Kt(t,n,c)}else a.current=null}function Vp(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Kt(t,t.return,c)}}function af(t,n,a){try{var l=t.stateNode;l2(l,t.type,a,n),l[je]=n}catch(c){Kt(t,t.return,c)}}function Mp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Sa(t.type)||t.tag===4}function sf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Mp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Sa(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function rf(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=qn));else if(l!==4&&(l===27&&Sa(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(rf(t,n,a),t=t.sibling;t!==null;)rf(t,n,a),t=t.sibling}function wu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&Sa(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(wu(t,n,a),t=t.sibling;t!==null;)wu(t,n,a),t=t.sibling}function Op(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Ge(n,l,a),n[Ee]=t,n[je]=a}catch(f){Kt(t,t.return,f)}}var Ui=!1,xe=!1,lf=!1,jp=typeof WeakSet=="function"?WeakSet:Set,ze=null;function BE(t,n){if(t=t.containerInfo,Rf=Qu,t=Ym(t),Wc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var p=0,T=-1,D=-1,U=0,G=0,K=t,B=null;e:for(;;){for(var H;K!==a||c!==0&&K.nodeType!==3||(T=p+c),K!==f||l!==0&&K.nodeType!==3||(D=p+l),K.nodeType===3&&(p+=K.nodeValue.length),(H=K.firstChild)!==null;)B=K,K=H;for(;;){if(K===t)break e;if(B===a&&++U===c&&(T=p),B===f&&++G===l&&(D=p),(H=K.nextSibling)!==null)break;K=B,B=K.parentNode}K=H}a=T===-1||D===-1?null:{start:T,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Df={focusedElem:t,selectionRange:a},Qu=!1,ze=n;ze!==null;)if(n=ze,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,ze=t;else for(;ze!==null;){switch(n=ze,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)c=t[a],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var lt=Es(a.type,c);t=l.getSnapshotBeforeUpdate(lt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(gt){Kt(a,a.return,gt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Vf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Vf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,ze=t;break}ze=n.return}}function kp(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Pi(t,a),l&4&&Ml(5,a);break;case 1:if(Pi(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(p){Kt(a,a.return,p)}else{var c=Es(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){Kt(a,a.return,p)}}l&64&&Np(a),l&512&&Ol(a,a.return);break;case 3:if(Pi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Eg(t,n)}catch(p){Kt(a,a.return,p)}}break;case 27:n===null&&l&4&&Op(a);case 26:case 5:Pi(t,a),n===null&&l&4&&Vp(a),l&512&&Ol(a,a.return);break;case 12:Pi(t,a);break;case 31:Pi(t,a),l&4&&Up(t,a);break;case 13:Pi(t,a),l&4&&Bp(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=XE.bind(null,a),g2(t,a))));break;case 22:if(l=a.memoizedState!==null||Ui,!l){n=n!==null&&n.memoizedState!==null||xe,c=Ui;var f=xe;Ui=l,(xe=n)&&!f?qi(t,a,(a.subtreeFlags&8772)!==0):Pi(t,a),Ui=c,xe=f}break;case 30:break;default:Pi(t,a)}}function zp(t){var n=t.alternate;n!==null&&(t.alternate=null,zp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ps(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var oe=null,sn=!1;function Bi(t,n,a){for(a=a.child;a!==null;)Lp(t,n,a),a=a.sibling}function Lp(t,n,a){if(Ue&&typeof Ue.onCommitFiberUnmount=="function")try{Ue.onCommitFiberUnmount(Ln,a)}catch{}switch(a.tag){case 26:xe||_i(a,n),Bi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:xe||_i(a,n);var l=oe,c=sn;Sa(a.type)&&(oe=a.stateNode,sn=!1),Bi(t,n,a),Hl(a.stateNode),oe=l,sn=c;break;case 5:xe||_i(a,n);case 6:if(l=oe,c=sn,oe=null,Bi(t,n,a),oe=l,sn=c,oe!==null)if(sn)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(a.stateNode)}catch(f){Kt(a,n,f)}else try{oe.removeChild(a.stateNode)}catch(f){Kt(a,n,f)}break;case 18:oe!==null&&(sn?(t=oe,Ny(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),wr(t)):Ny(oe,a.stateNode));break;case 4:l=oe,c=sn,oe=a.stateNode.containerInfo,sn=!0,Bi(t,n,a),oe=l,sn=c;break;case 0:case 11:case 14:case 15:ya(2,a,n),xe||ya(4,a,n),Bi(t,n,a);break;case 1:xe||(_i(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Ip(a,n,l)),Bi(t,n,a);break;case 21:Bi(t,n,a);break;case 22:xe=(l=xe)||a.memoizedState!==null,Bi(t,n,a),xe=l;break;default:Bi(t,n,a)}}function Up(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{wr(t)}catch(a){Kt(n,n.return,a)}}}function Bp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{wr(t)}catch(a){Kt(n,n.return,a)}}function PE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new jp),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new jp),n;default:throw Error(r(435,t.tag))}}function xu(t,n){var a=PE(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var c=$E.bind(null,t,l);l.then(c,c)}})}function rn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],f=t,p=n,T=p;t:for(;T!==null;){switch(T.tag){case 27:if(Sa(T.type)){oe=T.stateNode,sn=!1;break t}break;case 5:oe=T.stateNode,sn=!1;break t;case 3:case 4:oe=T.stateNode.containerInfo,sn=!0;break t}T=T.return}if(oe===null)throw Error(r(160));Lp(f,p,c),oe=null,sn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Pp(n,t),n=n.sibling}var Kn=null;function Pp(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:rn(n,t),ln(t),l&4&&(ya(3,t,t.return),Ml(3,t),ya(5,t,t.return));break;case 1:rn(n,t),ln(t),l&512&&(xe||a===null||_i(a,a.return)),l&64&&Ui&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=Kn;if(rn(n,t),ln(t),l&512&&(xe||a===null||_i(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[ai]||f[Ee]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Ge(f,l,a),f[Ee]=t,Te(f),l=f;break t;case"link":var p=Py("link","href",c).get(l+(a.href||""));if(p){for(var T=0;T<p.length;T++)if(f=p[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(T,1);break e}}f=c.createElement(l),Ge(f,l,a),c.head.appendChild(f);break;case"meta":if(p=Py("meta","content",c).get(l+(a.content||""))){for(T=0;T<p.length;T++)if(f=p[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(T,1);break e}}f=c.createElement(l),Ge(f,l,a),c.head.appendChild(f);break;default:throw Error(r(468,l))}f[Ee]=t,Te(f),l=f}t.stateNode=l}else qy(c,t.type,t.stateNode);else t.stateNode=By(c,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?qy(c,t.type,t.stateNode):By(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&af(t,t.memoizedProps,a.memoizedProps)}break;case 27:rn(n,t),ln(t),l&512&&(xe||a===null||_i(a,a.return)),a!==null&&l&4&&af(t,t.memoizedProps,a.memoizedProps);break;case 5:if(rn(n,t),ln(t),l&512&&(xe||a===null||_i(a,a.return)),t.flags&32){c=t.stateNode;try{an(c,"")}catch(lt){Kt(t,t.return,lt)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,af(t,c,a!==null?a.memoizedProps:c)),l&1024&&(lf=!0);break;case 6:if(rn(n,t),ln(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(lt){Kt(t,t.return,lt)}}break;case 3:if(qu=null,c=Kn,Kn=Bu(n.containerInfo),rn(n,t),Kn=c,ln(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{wr(n.containerInfo)}catch(lt){Kt(t,t.return,lt)}lf&&(lf=!1,qp(t));break;case 4:l=Kn,Kn=Bu(t.stateNode.containerInfo),rn(n,t),ln(t),Kn=l;break;case 12:rn(n,t),ln(t);break;case 31:rn(n,t),ln(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,xu(t,l)));break;case 13:rn(n,t),ln(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ru=Je()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,xu(t,l)));break;case 22:c=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,U=Ui,G=xe;if(Ui=U||c,xe=G||D,rn(n,t),xe=G,Ui=U,ln(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||D||Ui||xe||Ts(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){D=a=n;try{if(f=D.stateNode,c)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{T=D.stateNode;var K=D.memoizedProps.style,B=K!=null&&K.hasOwnProperty("display")?K.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(lt){Kt(D,D.return,lt)}}}else if(n.tag===6){if(a===null){D=n;try{D.stateNode.nodeValue=c?"":D.memoizedProps}catch(lt){Kt(D,D.return,lt)}}}else if(n.tag===18){if(a===null){D=n;try{var H=D.stateNode;c?Iy(H,!0):Iy(D.stateNode,!1)}catch(lt){Kt(D,D.return,lt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,xu(t,a))));break;case 19:rn(n,t),ln(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,xu(t,l)));break;case 30:break;case 21:break;default:rn(n,t),ln(t)}}function ln(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Mp(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var c=a.stateNode,f=sf(t);wu(t,f,c);break;case 5:var p=a.stateNode;a.flags&32&&(an(p,""),a.flags&=-33);var T=sf(t);wu(t,T,p);break;case 3:case 4:var D=a.stateNode.containerInfo,U=sf(t);rf(t,U,D);break;default:throw Error(r(161))}}catch(G){Kt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function qp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;qp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Pi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)kp(t,n.alternate,n),n=n.sibling}function Ts(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ya(4,n,n.return),Ts(n);break;case 1:_i(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Ip(n,n.return,a),Ts(n);break;case 27:Hl(n.stateNode);case 26:case 5:_i(n,n.return),Ts(n);break;case 22:n.memoizedState===null&&Ts(n);break;case 30:Ts(n);break;default:Ts(n)}t=t.sibling}}function qi(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:qi(c,f,a),Ml(4,f);break;case 1:if(qi(c,f,a),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(U){Kt(l,l.return,U)}if(l=f,c=l.updateQueue,c!==null){var T=l.stateNode;try{var D=c.shared.hiddenCallbacks;if(D!==null)for(c.shared.hiddenCallbacks=null,c=0;c<D.length;c++)vg(D[c],T)}catch(U){Kt(l,l.return,U)}}a&&p&64&&Np(f),Ol(f,f.return);break;case 27:Op(f);case 26:case 5:qi(c,f,a),a&&l===null&&p&4&&Vp(f),Ol(f,f.return);break;case 12:qi(c,f,a);break;case 31:qi(c,f,a),a&&p&4&&Up(c,f);break;case 13:qi(c,f,a),a&&p&4&&Bp(c,f);break;case 22:f.memoizedState===null&&qi(c,f,a),Ol(f,f.return);break;case 30:break;default:qi(c,f,a)}n=n.sibling}}function of(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&El(a))}function uf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&El(t))}function Xn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Hp(t,n,a,l),n=n.sibling}function Hp(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Xn(t,n,a,l),c&2048&&Ml(9,n);break;case 1:Xn(t,n,a,l);break;case 3:Xn(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&El(t)));break;case 12:if(c&2048){Xn(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,T=f.onPostCommit;typeof T=="function"&&T(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Kt(n,n.return,D)}}else Xn(t,n,a,l);break;case 31:Xn(t,n,a,l);break;case 13:Xn(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?Xn(t,n,a,l):jl(t,n):f._visibility&2?Xn(t,n,a,l):(f._visibility|=2,mr(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&of(p,n);break;case 24:Xn(t,n,a,l),c&2048&&uf(n.alternate,n);break;default:Xn(t,n,a,l)}}function mr(t,n,a,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,p=n,T=a,D=l,U=p.flags;switch(p.tag){case 0:case 11:case 15:mr(f,p,T,D,c),Ml(8,p);break;case 23:break;case 22:var G=p.stateNode;p.memoizedState!==null?G._visibility&2?mr(f,p,T,D,c):jl(f,p):(G._visibility|=2,mr(f,p,T,D,c)),c&&U&2048&&of(p.alternate,p);break;case 24:mr(f,p,T,D,c),c&&U&2048&&uf(p.alternate,p);break;default:mr(f,p,T,D,c)}n=n.sibling}}function jl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:jl(a,l),c&2048&&of(l.alternate,l);break;case 24:jl(a,l),c&2048&&uf(l.alternate,l);break;default:jl(a,l)}n=n.sibling}}var kl=8192;function gr(t,n,a){if(t.subtreeFlags&kl)for(t=t.child;t!==null;)Gp(t,n,a),t=t.sibling}function Gp(t,n,a){switch(t.tag){case 26:gr(t,n,a),t.flags&kl&&t.memoizedState!==null&&C2(a,Kn,t.memoizedState,t.memoizedProps);break;case 5:gr(t,n,a);break;case 3:case 4:var l=Kn;Kn=Bu(t.stateNode.containerInfo),gr(t,n,a),Kn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=kl,kl=16777216,gr(t,n,a),kl=l):gr(t,n,a));break;default:gr(t,n,a)}}function Fp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function zl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];ze=l,Yp(l,t)}Fp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Qp(t),t=t.sibling}function Qp(t){switch(t.tag){case 0:case 11:case 15:zl(t),t.flags&2048&&ya(9,t,t.return);break;case 3:zl(t);break;case 12:zl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Cu(t)):zl(t);break;default:zl(t)}}function Cu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];ze=l,Yp(l,t)}Fp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ya(8,n,n.return),Cu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Cu(n));break;default:Cu(n)}t=t.sibling}}function Yp(t,n){for(;ze!==null;){var a=ze;switch(a.tag){case 0:case 11:case 15:ya(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:El(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,ze=l;else t:for(a=t;ze!==null;){l=ze;var c=l.sibling,f=l.return;if(zp(l),l===a){ze=null;break t}if(c!==null){c.return=f,ze=c;break t}ze=f}}}var qE={getCacheForType:function(t){var n=qe(Ae),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return qe(Ae).controller.signal}},HE=typeof WeakMap=="function"?WeakMap:Map,Ht=0,te=null,Rt=null,Nt=0,Yt=0,_n=null,_a=!1,pr=!1,cf=!1,Hi=0,he=0,va=0,bs=0,hf=0,vn=0,yr=0,Ll=null,on=null,ff=!1,Ru=0,Kp=0,Du=1/0,Nu=null,Ea=null,Me=0,Ta=null,_r=null,Gi=0,df=0,mf=null,Xp=null,Ul=0,gf=null;function En(){return(Ht&2)!==0&&Nt!==0?Nt&-Nt:F.T!==null?Tf():Io()}function $p(){if(vn===0)if((Nt&536870912)===0||Ot){var t=Xa;Xa<<=1,(Xa&3932160)===0&&(Xa=262144),vn=t}else vn=536870912;return t=pn.current,t!==null&&(t.flags|=32),vn}function un(t,n,a){(t===te&&(Yt===2||Yt===9)||t.cancelPendingCommit!==null)&&(vr(t,0),ba(t,Nt,vn,!1)),$a(t,a),((Ht&2)===0||t!==te)&&(t===te&&((Ht&2)===0&&(bs|=a),he===4&&ba(t,Nt,vn,!1)),vi(t))}function Zp(t,n,a){if((Ht&6)!==0)throw Error(r(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Un(t,n),c=l?QE(t,n):yf(t,n,!0),f=l;do{if(c===0){pr&&!l&&ba(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!GE(a)){c=yf(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var T=t;c=Ll;var D=T.current.memoizedState.isDehydrated;if(D&&(vr(T,p).flags|=256),p=yf(T,p,!1),p!==2){if(cf&&!D){T.errorRecoveryDisabledLanes|=f,bs|=f,c=4;break t}f=on,on=c,f!==null&&(on===null?on=f:on.push.apply(on,f))}c=p}if(f=!1,c!==2)continue}}if(c===1){vr(t,0),ba(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:ba(l,n,vn,!_a);break t;case 2:on=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=Ru+300-Je(),10<c)){if(ba(l,n,vn,!_a),ei(l,0,!0)!==0)break t;Gi=n,l.timeoutHandle=Ry(Jp.bind(null,l,a,on,Nu,ff,n,vn,bs,yr,_a,f,"Throttled",-0,0),c);break t}Jp(l,a,on,Nu,ff,n,vn,bs,yr,_a,f,null,-0,0)}}break}while(!0);vi(t)}function Jp(t,n,a,l,c,f,p,T,D,U,G,K,B,H){if(t.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qn},Gp(n,f,K);var lt=(f&62914560)===f?Ru-Je():(f&4194048)===f?Kp-Je():0;if(lt=R2(K,lt),lt!==null){Gi=f,t.cancelPendingCommit=lt(ry.bind(null,t,n,f,a,l,c,p,T,D,G,K,null,B,H)),ba(t,f,p,!U);return}}ry(t,n,f,a,l,c,p,T,D)}function GE(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],f=c.getSnapshot;c=c.value;try{if(!mn(f(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ba(t,n,a,l){n&=~hf,n&=~bs,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-fe(c),p=1<<f;l[f]=-1,c&=~p}a!==0&&Za(t,a,n)}function Iu(){return(Ht&6)===0?(Bl(0),!1):!0}function pf(){if(Rt!==null){if(Yt===0)var t=Rt.return;else t=Rt,Mi=ds=null,Ih(t),ur=null,bl=0,t=Rt;for(;t!==null;)Dp(t.alternate,t),t=t.return;Rt=null}}function vr(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,c2(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Gi=0,pf(),te=t,Rt=a=Ii(t.current,null),Nt=n,Yt=0,_n=null,_a=!1,pr=Un(t,n),cf=!1,yr=vn=hf=bs=va=he=0,on=Ll=null,ff=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-fe(l),f=1<<c;n|=t[c],l&=~f}return Hi=n,Jo(),a}function Wp(t,n){St=null,F.H=Nl,n===or||n===ru?(n=gg(),Yt=3):n===vh?(n=gg(),Yt=4):Yt=n===Yh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,_n=n,Rt===null&&(he=1,Eu(t,Nn(n,t.current)))}function ty(){var t=pn.current;return t===null?!0:(Nt&4194048)===Nt?On===null:(Nt&62914560)===Nt||(Nt&536870912)!==0?t===On:!1}function ey(){var t=F.H;return F.H=Nl,t===null?Nl:t}function ny(){var t=F.A;return F.A=qE,t}function Vu(){he=4,_a||(Nt&4194048)!==Nt&&pn.current!==null||(pr=!0),(va&134217727)===0&&(bs&134217727)===0||te===null||ba(te,Nt,vn,!1)}function yf(t,n,a){var l=Ht;Ht|=2;var c=ey(),f=ny();(te!==t||Nt!==n)&&(Nu=null,vr(t,n)),n=!1;var p=he;t:do try{if(Yt!==0&&Rt!==null){var T=Rt,D=_n;switch(Yt){case 8:pf(),p=6;break t;case 3:case 2:case 9:case 6:pn.current===null&&(n=!0);var U=Yt;if(Yt=0,_n=null,Er(t,T,D,U),a&&pr){p=0;break t}break;default:U=Yt,Yt=0,_n=null,Er(t,T,D,U)}}FE(),p=he;break}catch(G){Wp(t,G)}while(!0);return n&&t.shellSuspendCounter++,Mi=ds=null,Ht=l,F.H=c,F.A=f,Rt===null&&(te=null,Nt=0,Jo()),p}function FE(){for(;Rt!==null;)iy(Rt)}function QE(t,n){var a=Ht;Ht|=2;var l=ey(),c=ny();te!==t||Nt!==n?(Nu=null,Du=Je()+500,vr(t,n)):pr=Un(t,n);t:do try{if(Yt!==0&&Rt!==null){n=Rt;var f=_n;e:switch(Yt){case 1:Yt=0,_n=null,Er(t,n,f,1);break;case 2:case 9:if(dg(f)){Yt=0,_n=null,ay(n);break}n=function(){Yt!==2&&Yt!==9||te!==t||(Yt=7),vi(t)},f.then(n,n);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:dg(f)?(Yt=0,_n=null,ay(n)):(Yt=0,_n=null,Er(t,n,f,7));break;case 5:var p=null;switch(Rt.tag){case 26:p=Rt.memoizedState;case 5:case 27:var T=Rt;if(p?Hy(p):T.stateNode.complete){Yt=0,_n=null;var D=T.sibling;if(D!==null)Rt=D;else{var U=T.return;U!==null?(Rt=U,Mu(U)):Rt=null}break e}}Yt=0,_n=null,Er(t,n,f,5);break;case 6:Yt=0,_n=null,Er(t,n,f,6);break;case 8:pf(),he=6;break t;default:throw Error(r(462))}}YE();break}catch(G){Wp(t,G)}while(!0);return Mi=ds=null,F.H=l,F.A=c,Ht=a,Rt!==null?0:(te=null,Nt=0,Jo(),he)}function YE(){for(;Rt!==null&&!Qc();)iy(Rt)}function iy(t){var n=Cp(t.alternate,t,Hi);t.memoizedProps=t.pendingProps,n===null?Mu(t):Rt=n}function ay(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Tp(a,n,n.pendingProps,n.type,void 0,Nt);break;case 11:n=Tp(a,n,n.pendingProps,n.type.render,n.ref,Nt);break;case 5:Ih(n);default:Dp(a,n),n=Rt=ng(n,Hi),n=Cp(a,n,Hi)}t.memoizedProps=t.pendingProps,n===null?Mu(t):Rt=n}function Er(t,n,a,l){Mi=ds=null,Ih(n),ur=null,bl=0;var c=n.return;try{if(jE(t,c,n,a,Nt)){he=1,Eu(t,Nn(a,t.current)),Rt=null;return}}catch(f){if(c!==null)throw Rt=c,f;he=1,Eu(t,Nn(a,t.current)),Rt=null;return}n.flags&32768?(Ot||l===1?t=!0:pr||(Nt&536870912)!==0?t=!1:(_a=t=!0,(l===2||l===9||l===3||l===6)&&(l=pn.current,l!==null&&l.tag===13&&(l.flags|=16384))),sy(n,t)):Mu(n)}function Mu(t){var n=t;do{if((n.flags&32768)!==0){sy(n,_a);return}t=n.return;var a=LE(n.alternate,n,Hi);if(a!==null){Rt=a;return}if(n=n.sibling,n!==null){Rt=n;return}Rt=n=t}while(n!==null);he===0&&(he=5)}function sy(t,n){do{var a=UE(t.alternate,t);if(a!==null){a.flags&=32767,Rt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Rt=t;return}Rt=t=a}while(t!==null);he=6,Rt=null}function ry(t,n,a,l,c,f,p,T,D){t.cancelPendingCommit=null;do Ou();while(Me!==0);if((Ht&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=ah,Xc(t,a,f,p,T,D),t===te&&(Rt=te=null,Nt=0),_r=n,Ta=t,Gi=a,df=f,mf=c,Xp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,ZE(Ji,function(){return hy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,c=nt.p,nt.p=2,p=Ht,Ht|=4;try{BE(t,n,a)}finally{Ht=p,nt.p=c,F.T=l}}Me=1,ly(),oy(),uy()}}function ly(){if(Me===1){Me=0;var t=Ta,n=_r,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var l=nt.p;nt.p=2;var c=Ht;Ht|=4;try{Pp(n,t);var f=Df,p=Ym(t.containerInfo),T=f.focusedElem,D=f.selectionRange;if(p!==T&&T&&T.ownerDocument&&Qm(T.ownerDocument.documentElement,T)){if(D!==null&&Wc(T)){var U=D.start,G=D.end;if(G===void 0&&(G=U),"selectionStart"in T)T.selectionStart=U,T.selectionEnd=Math.min(G,T.value.length);else{var K=T.ownerDocument||document,B=K&&K.defaultView||window;if(B.getSelection){var H=B.getSelection(),lt=T.textContent.length,gt=Math.min(D.start,lt),Jt=D.end===void 0?gt:Math.min(D.end,lt);!H.extend&&gt>Jt&&(p=Jt,Jt=gt,gt=p);var j=Fm(T,gt),I=Fm(T,Jt);if(j&&I&&(H.rangeCount!==1||H.anchorNode!==j.node||H.anchorOffset!==j.offset||H.focusNode!==I.node||H.focusOffset!==I.offset)){var L=K.createRange();L.setStart(j.node,j.offset),H.removeAllRanges(),gt>Jt?(H.addRange(L),H.extend(I.node,I.offset)):(L.setEnd(I.node,I.offset),H.addRange(L))}}}}for(K=[],H=T;H=H.parentNode;)H.nodeType===1&&K.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<K.length;T++){var Q=K[T];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Qu=!!Rf,Df=Rf=null}finally{Ht=c,nt.p=l,F.T=a}}t.current=n,Me=2}}function oy(){if(Me===2){Me=0;var t=Ta,n=_r,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var l=nt.p;nt.p=2;var c=Ht;Ht|=4;try{kp(t,n.alternate,n)}finally{Ht=c,nt.p=l,F.T=a}}Me=3}}function uy(){if(Me===4||Me===3){Me=0,So();var t=Ta,n=_r,a=Gi,l=Xp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Me=5:(Me=0,_r=Ta=null,cy(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(Ea=null),Ci(a),n=n.stateNode,Ue&&typeof Ue.onCommitFiberRoot=="function")try{Ue.onCommitFiberRoot(Ln,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=F.T,c=nt.p,nt.p=2,F.T=null;try{for(var f=t.onRecoverableError,p=0;p<l.length;p++){var T=l[p];f(T.value,{componentStack:T.stack})}}finally{F.T=n,nt.p=c}}(Gi&3)!==0&&Ou(),vi(t),c=t.pendingLanes,(a&261930)!==0&&(c&42)!==0?t===gf?Ul++:(Ul=0,gf=t):Ul=0,Bl(0)}}function cy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,El(n)))}function Ou(){return ly(),oy(),uy(),hy()}function hy(){if(Me!==5)return!1;var t=Ta,n=df;df=0;var a=Ci(Gi),l=F.T,c=nt.p;try{nt.p=32>a?32:a,F.T=null,a=mf,mf=null;var f=Ta,p=Gi;if(Me=0,_r=Ta=null,Gi=0,(Ht&6)!==0)throw Error(r(331));var T=Ht;if(Ht|=4,Qp(f.current),Hp(f,f.current,p,a),Ht=T,Bl(0,!1),Ue&&typeof Ue.onPostCommitFiberRoot=="function")try{Ue.onPostCommitFiberRoot(Ln,f)}catch{}return!0}finally{nt.p=c,F.T=l,cy(t,n)}}function fy(t,n,a){n=Nn(a,n),n=Qh(t.stateNode,n,2),t=ma(t,n,2),t!==null&&($a(t,2),vi(t))}function Kt(t,n,a){if(t.tag===3)fy(t,t,a);else for(;n!==null;){if(n.tag===3){fy(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ea===null||!Ea.has(l))){t=Nn(a,t),a=dp(2),l=ma(n,a,2),l!==null&&(mp(a,l,n,t),$a(l,2),vi(l));break}}n=n.return}}function _f(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new HE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(cf=!0,c.add(a),t=KE.bind(null,t,n,a),n.then(t,t))}function KE(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,te===t&&(Nt&a)===a&&(he===4||he===3&&(Nt&62914560)===Nt&&300>Je()-Ru?(Ht&2)===0&&vr(t,0):hf|=a,yr===Nt&&(yr=0)),vi(t)}function dy(t,n){n===0&&(n=No()),t=cs(t,n),t!==null&&($a(t,n),vi(t))}function XE(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),dy(t,a)}function $E(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),dy(t,a)}function ZE(t,n){return Ve(t,n)}var ju=null,Tr=null,vf=!1,ku=!1,Ef=!1,Aa=0;function vi(t){t!==Tr&&t.next===null&&(Tr===null?ju=Tr=t:Tr=Tr.next=t),ku=!0,vf||(vf=!0,WE())}function Bl(t,n){if(!Ef&&ku){Ef=!0;do for(var a=!1,l=ju;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var p=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-fe(42|t)+1)-1,f&=c&~(p&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,yy(l,f))}else f=Nt,f=ei(l,l===te?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Un(l,f)||(a=!0,yy(l,f));l=l.next}while(a);Ef=!1}}function JE(){my()}function my(){ku=vf=!1;var t=0;Aa!==0&&u2()&&(t=Aa);for(var n=Je(),a=null,l=ju;l!==null;){var c=l.next,f=gy(l,n);f===0?(l.next=null,a===null?ju=c:a.next=c,c===null&&(Tr=a)):(a=l,(t!==0||(f&3)!==0)&&(ku=!0)),l=c}Me!==0&&Me!==5||Bl(t),Aa!==0&&(Aa=0)}function gy(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-fe(f),T=1<<p,D=c[p];D===-1?((T&a)===0||(T&l)!==0)&&(c[p]=Kc(T,n)):D<=n&&(t.expiredLanes|=T),f&=~T}if(n=te,a=Nt,a=ei(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Yt===2||Yt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Zi(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Un(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Zi(l),Ci(a)){case 2:case 8:a=$r;break;case 32:a=Ji;break;case 268435456:a=wo;break;default:a=Ji}return l=py.bind(null,t),a=Ve(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Zi(l),t.callbackPriority=2,t.callbackNode=null,2}function py(t,n){if(Me!==0&&Me!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Ou()&&t.callbackNode!==a)return null;var l=Nt;return l=ei(t,t===te?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Zp(t,l,n),gy(t,Je()),t.callbackNode!=null&&t.callbackNode===a?py.bind(null,t):null)}function yy(t,n){if(Ou())return null;Zp(t,n,!0)}function WE(){h2(function(){(Ht&6)!==0?Ve(Xr,JE):my()})}function Tf(){if(Aa===0){var t=rr;t===0&&(t=Wn,Wn<<=1,(Wn&261888)===0&&(Wn=256)),Aa=t}return Aa}function _y(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Fs(""+t)}function vy(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function t2(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var f=_y((c[je]||null).action),p=l.submitter;p&&(n=(n=p[je]||null)?_y(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var T=new fi("action","action",null,l,c);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Aa!==0){var D=p?vy(c,p):new FormData(c);Bh(a,{pending:!0,data:D,method:c.method,action:f},null,D)}}else typeof f=="function"&&(T.preventDefault(),D=p?vy(c,p):new FormData(c),Bh(a,{pending:!0,data:D,method:c.method,action:f},f,D))},currentTarget:c}]})}}for(var bf=0;bf<ih.length;bf++){var Af=ih[bf],e2=Af.toLowerCase(),n2=Af[0].toUpperCase()+Af.slice(1);Yn(e2,"on"+n2)}Yn($m,"onAnimationEnd"),Yn(Zm,"onAnimationIteration"),Yn(Jm,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(_E,"onTransitionRun"),Yn(vE,"onTransitionStart"),Yn(EE,"onTransitionCancel"),Yn(Wm,"onTransitionEnd"),oi("onMouseEnter",["mouseout","mouseover"]),oi("onMouseLeave",["mouseout","mouseover"]),oi("onPointerEnter",["pointerout","pointerover"]),oi("onPointerLeave",["pointerout","pointerover"]),li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),li("onBeforeInput",["compositionend","keypress","textInput","paste"]),li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),i2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pl));function Ey(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var T=l[p],D=T.instance,U=T.currentTarget;if(T=T.listener,D!==f&&c.isPropagationStopped())break t;f=T,c.currentTarget=U;try{f(c)}catch(G){Zo(G)}c.currentTarget=null,f=D}else for(p=0;p<l.length;p++){if(T=l[p],D=T.instance,U=T.currentTarget,T=T.listener,D!==f&&c.isPropagationStopped())break t;f=T,c.currentTarget=U;try{f(c)}catch(G){Zo(G)}c.currentTarget=null,f=D}}}}function Dt(t,n){var a=n[Bs];a===void 0&&(a=n[Bs]=new Set);var l=t+"__bubble";a.has(l)||(Ty(n,t,2,!1),a.add(l))}function Sf(t,n,a){var l=0;n&&(l|=4),Ty(a,t,l,n)}var zu="_reactListening"+Math.random().toString(36).slice(2);function wf(t){if(!t[zu]){t[zu]=!0,Wr.forEach(function(a){a!=="selectionchange"&&(i2.has(a)||Sf(a,!1,t),Sf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[zu]||(n[zu]=!0,Sf("selectionchange",!1,n))}}function Ty(t,n,a,l){switch($y(n)){case 2:var c=I2;break;case 8:c=V2;break;default:c=Bf}a=c.bind(null,n,a,t),c=void 0,!ns||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function xf(t,n,a,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var T=l.stateNode.containerInfo;if(T===c)break;if(p===4)for(p=l.return;p!==null;){var D=p.tag;if((D===3||D===4)&&p.stateNode.containerInfo===c)return;p=p.return}for(;T!==null;){if(p=si(T),p===null)return;if(D=p.tag,D===5||D===6||D===26||D===27){l=f=p;continue t}T=T.parentNode}}l=l.return}aa(function(){var U=f,G=xn(a),K=[];t:{var B=tg.get(t);if(B!==void 0){var H=fi,lt=t;switch(t){case"keypress":if(as(a)===0)break t;case"keydown":case"keyup":H=Ko;break;case"focusin":lt="focus",H=rs;break;case"focusout":lt="blur",H=rs;break;case"beforeblur":case"afterblur":H=rs;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=fl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Uo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case $m:case Zm:case Jm:H=Po;break;case Wm:H=A;break;case"scroll":case"scrollend":H=hl;break;case"wheel":H=P;break;case"copy":case"cut":case"paste":H=qo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Ni;break;case"toggle":case"beforetoggle":H=At}var gt=(n&4)!==0,Jt=!gt&&(t==="scroll"||t==="scrollend"),j=gt?B!==null?B+"Capture":null:B;gt=[];for(var I=U,L;I!==null;){var Q=I;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||j===null||(Q=Hn(I,j),Q!=null&&gt.push(ql(I,Q,L))),Jt)break;I=I.return}0<gt.length&&(B=new H(B,lt,null,a,G),K.push({event:B,listeners:gt}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",B&&a!==ol&&(lt=a.relatedTarget||a.fromElement)&&(si(lt)||lt[ii]))break t;if((H||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,H?(lt=a.relatedTarget||a.toElement,H=U,lt=lt?si(lt):null,lt!==null&&(Jt=h(lt),gt=lt.tag,lt!==Jt||gt!==5&&gt!==27&&gt!==6)&&(lt=null)):(H=null,lt=U),H!==lt)){if(gt=fl,Q="onMouseLeave",j="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(gt=Ni,Q="onPointerLeave",j="onPointerEnter",I="pointer"),Jt=H==null?B:fn(H),L=lt==null?B:fn(lt),B=new gt(Q,I+"leave",H,a,G),B.target=Jt,B.relatedTarget=L,Q=null,si(G)===U&&(gt=new gt(j,I+"enter",lt,a,G),gt.target=L,gt.relatedTarget=Jt,Q=gt),Jt=Q,H&&lt)e:{for(gt=a2,j=H,I=lt,L=0,Q=j;Q;Q=gt(Q))L++;Q=0;for(var ht=I;ht;ht=gt(ht))Q++;for(;0<L-Q;)j=gt(j),L--;for(;0<Q-L;)I=gt(I),Q--;for(;L--;){if(j===I||I!==null&&j===I.alternate){gt=j;break e}j=gt(j),I=gt(I)}gt=null}else gt=null;H!==null&&by(K,B,H,gt,!1),lt!==null&&Jt!==null&&by(K,Jt,lt,gt,!0)}}t:{if(B=U?fn(U):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Bt=Um;else if(zm(B))if(Bm)Bt=gE;else{Bt=dE;var ot=fE}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?U&&Gs(U.elementType)&&(Bt=Um):Bt=mE;if(Bt&&(Bt=Bt(t,U))){Lm(K,Bt,a,G);break t}ot&&ot(t,B,U),t==="focusout"&&U&&B.type==="number"&&U.memoizedProps.value!=null&&sl(B,"number",B.value)}switch(ot=U?fn(U):window,t){case"focusin":(zm(ot)||ot.contentEditable==="true")&&(Js=ot,th=U,yl=null);break;case"focusout":yl=th=Js=null;break;case"mousedown":eh=!0;break;case"contextmenu":case"mouseup":case"dragend":eh=!1,Km(K,a,G);break;case"selectionchange":if(yE)break;case"keydown":case"keyup":Km(K,a,G)}var xt;if(qt)t:{switch(t){case"compositionstart":var It="onCompositionStart";break t;case"compositionend":It="onCompositionEnd";break t;case"compositionupdate":It="onCompositionUpdate";break t}It=void 0}else Zs?ls(t,a)&&(It="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(It="onCompositionStart");It&&(gi&&a.locale!=="ko"&&(Zs||It!=="onCompositionStart"?It==="onCompositionEnd"&&Zs&&(xt=cl()):(hi=G,ul="value"in hi?hi.value:hi.textContent,Zs=!0)),ot=Lu(U,It),0<ot.length&&(It=new mi(It,t,null,a,G),K.push({event:It,listeners:ot}),xt?It.data=xt:(xt=$s(a),xt!==null&&(It.data=xt)))),(xt=Rn?oE(t,a):uE(t,a))&&(It=Lu(U,"onBeforeInput"),0<It.length&&(ot=new mi("onBeforeInput","beforeinput",null,a,G),K.push({event:ot,listeners:It}),ot.data=xt)),t2(K,t,U,a,G)}Ey(K,n)})}function ql(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Lu(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Hn(t,a),c!=null&&l.unshift(ql(t,c,f)),c=Hn(t,n),c!=null&&l.push(ql(t,c,f))),t.tag===3)return l;t=t.return}return[]}function a2(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function by(t,n,a,l,c){for(var f=n._reactName,p=[];a!==null&&a!==l;){var T=a,D=T.alternate,U=T.stateNode;if(T=T.tag,D!==null&&D===l)break;T!==5&&T!==26&&T!==27||U===null||(D=U,c?(U=Hn(a,f),U!=null&&p.unshift(ql(a,U,D))):c||(U=Hn(a,f),U!=null&&p.push(ql(a,U,D)))),a=a.return}p.length!==0&&t.push({event:n,listeners:p})}var s2=/\r\n?/g,r2=/\u0000|\uFFFD/g;function Ay(t){return(typeof t=="string"?t:""+t).replace(s2,`
`).replace(r2,"")}function Sy(t,n){return n=Ay(n),Ay(t)===n}function Zt(t,n,a,l,c,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||an(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&an(t,""+l);break;case"className":dn(t,"class",l);break;case"tabIndex":dn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":dn(t,a,l);break;case"style":ll(t,l,f);break;case"data":if(n!=="object"){dn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Fs(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Zt(t,n,"name",c.name,c,null),Zt(t,n,"formEncType",c.formEncType,c,null),Zt(t,n,"formMethod",c.formMethod,c,null),Zt(t,n,"formTarget",c.formTarget,c,null)):(Zt(t,n,"encType",c.encType,c,null),Zt(t,n,"method",c.method,c,null),Zt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Fs(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=qn);break;case"onScroll":l!=null&&Dt("scroll",t);break;case"onScrollEnd":l!=null&&Dt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Fs(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Dt("beforetoggle",t),Dt("toggle",t),qs(t,"popover",l);break;case"xlinkActuate":be(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":be(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":be(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":be(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":be(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":be(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":be(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":be(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":be(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":qs(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Lo.get(a)||a,qs(t,a,l))}}function Cf(t,n,a,l,c,f){switch(a){case"style":ll(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?an(t,l):(typeof l=="number"||typeof l=="bigint")&&an(t,""+l);break;case"onScroll":l!=null&&Dt("scroll",t);break;case"onScrollEnd":l!=null&&Dt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!tl.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=t[je]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):qs(t,a,l)}}}function Ge(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",t),Dt("load",t);var l=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var p=a[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Zt(t,n,f,p,a,null)}}c&&Zt(t,n,"srcSet",a.srcSet,a,null),l&&Zt(t,n,"src",a.src,a,null);return;case"input":Dt("invalid",t);var T=f=p=c=null,D=null,U=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":c=G;break;case"type":p=G;break;case"checked":D=G;break;case"defaultChecked":U=G;break;case"value":f=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,n));break;default:Zt(t,n,l,G,a,null)}}jo(t,f,T,D,U,p,c,!1);return;case"select":Dt("invalid",t),l=p=f=null;for(c in a)if(a.hasOwnProperty(c)&&(T=a[c],T!=null))switch(c){case"value":f=T;break;case"defaultValue":p=T;break;case"multiple":l=T;default:Zt(t,n,c,T,a,null)}n=f,a=p,t.multiple=!!l,n!=null?ta(t,!!l,n,!1):a!=null&&ta(t,!!l,a,!0);return;case"textarea":Dt("invalid",t),f=c=l=null;for(p in a)if(a.hasOwnProperty(p)&&(T=a[p],T!=null))switch(p){case"value":l=T;break;case"defaultValue":c=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:Zt(t,n,p,T,a,null)}ea(t,l,c,f);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Zt(t,n,D,l,a,null)}return;case"dialog":Dt("beforetoggle",t),Dt("toggle",t),Dt("cancel",t),Dt("close",t);break;case"iframe":case"object":Dt("load",t);break;case"video":case"audio":for(l=0;l<Pl.length;l++)Dt(Pl[l],t);break;case"image":Dt("error",t),Dt("load",t);break;case"details":Dt("toggle",t);break;case"embed":case"source":case"link":Dt("error",t),Dt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(l=a[U],l!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Zt(t,n,U,l,a,null)}return;default:if(Gs(n)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&Cf(t,n,G,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Zt(t,n,T,l,a,null))}function l2(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,p=null,T=null,D=null,U=null,G=null;for(H in a){var K=a[H];if(a.hasOwnProperty(H)&&K!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":D=K;default:l.hasOwnProperty(H)||Zt(t,n,H,null,l,K)}}for(var B in l){var H=l[B];if(K=a[B],l.hasOwnProperty(B)&&(H!=null||K!=null))switch(B){case"type":f=H;break;case"name":c=H;break;case"checked":U=H;break;case"defaultChecked":G=H;break;case"value":p=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:H!==K&&Zt(t,n,B,H,l,K)}}Hs(t,p,T,D,U,G,f,c);return;case"select":H=p=T=B=null;for(f in a)if(D=a[f],a.hasOwnProperty(f)&&D!=null)switch(f){case"value":break;case"multiple":H=D;default:l.hasOwnProperty(f)||Zt(t,n,f,null,l,D)}for(c in l)if(f=l[c],D=a[c],l.hasOwnProperty(c)&&(f!=null||D!=null))switch(c){case"value":B=f;break;case"defaultValue":T=f;break;case"multiple":p=f;default:f!==D&&Zt(t,n,c,f,l,D)}n=T,a=p,l=H,B!=null?ta(t,!!a,B,!1):!!l!=!!a&&(n!=null?ta(t,!!a,n,!0):ta(t,!!a,a?[]:"",!1));return;case"textarea":H=B=null;for(T in a)if(c=a[T],a.hasOwnProperty(T)&&c!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Zt(t,n,T,null,l,c)}for(p in l)if(c=l[p],f=a[p],l.hasOwnProperty(p)&&(c!=null||f!=null))switch(p){case"value":B=c;break;case"defaultValue":H=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==f&&Zt(t,n,p,c,l,f)}ko(t,B,H);return;case"option":for(var lt in a)if(B=a[lt],a.hasOwnProperty(lt)&&B!=null&&!l.hasOwnProperty(lt))switch(lt){case"selected":t.selected=!1;break;default:Zt(t,n,lt,null,l,B)}for(D in l)if(B=l[D],H=a[D],l.hasOwnProperty(D)&&B!==H&&(B!=null||H!=null))switch(D){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Zt(t,n,D,B,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in a)B=a[gt],a.hasOwnProperty(gt)&&B!=null&&!l.hasOwnProperty(gt)&&Zt(t,n,gt,null,l,B);for(U in l)if(B=l[U],H=a[U],l.hasOwnProperty(U)&&B!==H&&(B!=null||H!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:Zt(t,n,U,B,l,H)}return;default:if(Gs(n)){for(var Jt in a)B=a[Jt],a.hasOwnProperty(Jt)&&B!==void 0&&!l.hasOwnProperty(Jt)&&Cf(t,n,Jt,void 0,l,B);for(G in l)B=l[G],H=a[G],!l.hasOwnProperty(G)||B===H||B===void 0&&H===void 0||Cf(t,n,G,B,l,H);return}}for(var j in a)B=a[j],a.hasOwnProperty(j)&&B!=null&&!l.hasOwnProperty(j)&&Zt(t,n,j,null,l,B);for(K in l)B=l[K],H=a[K],!l.hasOwnProperty(K)||B===H||B==null&&H==null||Zt(t,n,K,B,l,H)}function wy(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function o2(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var c=a[l],f=c.transferSize,p=c.initiatorType,T=c.duration;if(f&&T&&wy(p)){for(p=0,T=c.responseEnd,l+=1;l<a.length;l++){var D=a[l],U=D.startTime;if(U>T)break;var G=D.transferSize,K=D.initiatorType;G&&wy(K)&&(D=D.responseEnd,p+=G*(D<T?1:(T-U)/(D-U)))}if(--l,n+=8*(f+p)/(c.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Rf=null,Df=null;function Uu(t){return t.nodeType===9?t:t.ownerDocument}function xy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Cy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Nf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var If=null;function u2(){var t=window.event;return t&&t.type==="popstate"?t===If?!1:(If=t,!0):(If=null,!1)}var Ry=typeof setTimeout=="function"?setTimeout:void 0,c2=typeof clearTimeout=="function"?clearTimeout:void 0,Dy=typeof Promise=="function"?Promise:void 0,h2=typeof queueMicrotask=="function"?queueMicrotask:typeof Dy<"u"?function(t){return Dy.resolve(null).then(t).catch(f2)}:Ry;function f2(t){setTimeout(function(){throw t})}function Sa(t){return t==="head"}function Ny(t,n){var a=n,l=0;do{var c=a.nextSibling;if(t.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(c),wr(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Hl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Hl(a);for(var f=a.firstChild;f;){var p=f.nextSibling,T=f.nodeName;f[ai]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=p}}else a==="body"&&Hl(t.ownerDocument.body);a=c}while(a);wr(n)}function Iy(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Vf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Vf(a),Ps(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function d2(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ai])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=jn(t.nextSibling),t===null)break}return null}function m2(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=jn(t.nextSibling),t===null))return null;return t}function Vy(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=jn(t.nextSibling),t===null))return null;return t}function Mf(t){return t.data==="$?"||t.data==="$~"}function Of(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function g2(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function jn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var jf=null;function My(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return jn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function Oy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function jy(t,n,a){switch(n=Uu(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Hl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ps(t)}var kn=new Map,ky=new Set;function Bu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Fi=nt.d;nt.d={f:p2,r:y2,D:_2,C:v2,L:E2,m:T2,X:A2,S:b2,M:S2};function p2(){var t=Fi.f(),n=Iu();return t||n}function y2(t){var n=wn(t);n!==null&&n.tag===5&&n.type==="form"?Wg(n):Fi.r(t)}var br=typeof document>"u"?null:document;function zy(t,n,a){var l=br;if(l&&typeof n=="string"&&n){var c=nn(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),ky.has(c)||(ky.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Ge(n,"link",t),Te(n),l.head.appendChild(n)))}}function _2(t){Fi.D(t),zy("dns-prefetch",t,null)}function v2(t,n){Fi.C(t,n),zy("preconnect",t,n)}function E2(t,n,a){Fi.L(t,n,a);var l=br;if(l&&t&&n){var c='link[rel="preload"][as="'+nn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+nn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+nn(a.imageSizes)+'"]')):c+='[href="'+nn(t)+'"]';var f=c;switch(n){case"style":f=Ar(t);break;case"script":f=Sr(t)}kn.has(f)||(t=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),kn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Gl(f))||n==="script"&&l.querySelector(Fl(f))||(n=l.createElement("link"),Ge(n,"link",t),Te(n),l.head.appendChild(n)))}}function T2(t,n){Fi.m(t,n);var a=br;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+nn(l)+'"][href="'+nn(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Sr(t)}if(!kn.has(f)&&(t=S({rel:"modulepreload",href:t},n),kn.set(f,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Fl(f)))return}l=a.createElement("link"),Ge(l,"link",t),Te(l),a.head.appendChild(l)}}}function b2(t,n,a){Fi.S(t,n,a);var l=br;if(l&&t){var c=ri(l).hoistableStyles,f=Ar(t);n=n||"default";var p=c.get(f);if(!p){var T={loading:0,preload:null};if(p=l.querySelector(Gl(f)))T.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},a),(a=kn.get(f))&&kf(t,a);var D=p=l.createElement("link");Te(D),Ge(D,"link",t),D._p=new Promise(function(U,G){D.onload=U,D.onerror=G}),D.addEventListener("load",function(){T.loading|=1}),D.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Pu(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:T},c.set(f,p)}}}function A2(t,n){Fi.X(t,n);var a=br;if(a&&t){var l=ri(a).hoistableScripts,c=Sr(t),f=l.get(c);f||(f=a.querySelector(Fl(c)),f||(t=S({src:t,async:!0},n),(n=kn.get(c))&&zf(t,n),f=a.createElement("script"),Te(f),Ge(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function S2(t,n){Fi.M(t,n);var a=br;if(a&&t){var l=ri(a).hoistableScripts,c=Sr(t),f=l.get(c);f||(f=a.querySelector(Fl(c)),f||(t=S({src:t,async:!0,type:"module"},n),(n=kn.get(c))&&zf(t,n),f=a.createElement("script"),Te(f),Ge(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Ly(t,n,a,l){var c=(c=wt.current)?Bu(c):null;if(!c)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Ar(a.href),a=ri(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ar(a.href);var f=ri(c).hoistableStyles,p=f.get(t);if(p||(c=c.ownerDocument||c,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=c.querySelector(Gl(t)))&&!f._p&&(p.instance=f,p.state.loading=5),kn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},kn.set(t,a),f||w2(c,t,a,p.state))),n&&l===null)throw Error(r(528,""));return p}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Sr(a),a=ri(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Ar(t){return'href="'+nn(t)+'"'}function Gl(t){return'link[rel="stylesheet"]['+t+"]"}function Uy(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function w2(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Ge(n,"link",a),Te(n),t.head.appendChild(n))}function Sr(t){return'[src="'+nn(t)+'"]'}function Fl(t){return"script[async]"+t}function By(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+nn(a.href)+'"]');if(l)return n.instance=l,Te(l),l;var c=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Te(l),Ge(l,"style",c),Pu(l,a.precedence,t),n.instance=l;case"stylesheet":c=Ar(a.href);var f=t.querySelector(Gl(c));if(f)return n.state.loading|=4,n.instance=f,Te(f),f;l=Uy(a),(c=kn.get(c))&&kf(l,c),f=(t.ownerDocument||t).createElement("link"),Te(f);var p=f;return p._p=new Promise(function(T,D){p.onload=T,p.onerror=D}),Ge(f,"link",l),n.state.loading|=4,Pu(f,a.precedence,t),n.instance=f;case"script":return f=Sr(a.src),(c=t.querySelector(Fl(f)))?(n.instance=c,Te(c),c):(l=a,(c=kn.get(f))&&(l=S({},a),zf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),Te(c),Ge(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Pu(l,a.precedence,t));return n.instance}function Pu(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,p=0;p<l.length;p++){var T=l[p];if(T.dataset.precedence===n)f=T;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function kf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function zf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var qu=null;function Py(t,n,a){if(qu===null){var l=new Map,c=qu=new Map;c.set(a,l)}else c=qu,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var f=a[c];if(!(f[ai]||f[Ee]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var T=l.get(p);T?T.push(f):l.set(p,[f])}}return l}function qy(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function x2(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Hy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function C2(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var c=Ar(l.href),f=n.querySelector(Gl(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Hu.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,Te(f);return}f=n.ownerDocument||n,l=Uy(l),(c=kn.get(c))&&kf(l,c),f=f.createElement("link"),Te(f);var p=f;p._p=new Promise(function(T,D){p.onload=T,p.onerror=D}),Ge(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Hu.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Lf=0;function R2(t,n){return t.stylesheets&&t.count===0&&Fu(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Fu(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Lf===0&&(Lf=62500*o2());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Fu(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Lf?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Hu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Fu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Gu=null;function Fu(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Gu=new Map,n.forEach(D2,t),Gu=null,Hu.call(t))}function D2(t,n){if(!(n.state.loading&4)){var a=Gu.get(t);if(a)var l=a.get(null);else{a=new Map,Gu.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var p=c[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),l=p)}l&&a.set(null,l)}c=n.instance,p=c.getAttribute("data-precedence"),f=a.get(p)||l,f===l&&a.set(null,c),a.set(p,c),this.count++,l=Hu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Ql={$$typeof:mt,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function N2(t,n,a,l,c,f,p,T,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ni(0),this.hiddenUpdates=ni(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Gy(t,n,a,l,c,f,p,T,D,U,G,K){return t=new N2(t,n,a,p,D,U,G,K,T),n=1,f===!0&&(n|=24),f=gn(3,null,null,n),t.current=f,f.stateNode=t,n=ph(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},Eh(f),t}function Fy(t){return t?(t=er,t):er}function Qy(t,n,a,l,c,f){c=Fy(c),l.context===null?l.context=c:l.pendingContext=c,l=da(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=ma(t,l,n),a!==null&&(un(a,t,n),Sl(a,t,n))}function Yy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Uf(t,n){Yy(t,n),(t=t.alternate)&&Yy(t,n)}function Ky(t){if(t.tag===13||t.tag===31){var n=cs(t,67108864);n!==null&&un(n,t,67108864),Uf(t,67108864)}}function Xy(t){if(t.tag===13||t.tag===31){var n=En();n=Ja(n);var a=cs(t,n);a!==null&&un(a,t,n),Uf(t,n)}}var Qu=!0;function I2(t,n,a,l){var c=F.T;F.T=null;var f=nt.p;try{nt.p=2,Bf(t,n,a,l)}finally{nt.p=f,F.T=c}}function V2(t,n,a,l){var c=F.T;F.T=null;var f=nt.p;try{nt.p=8,Bf(t,n,a,l)}finally{nt.p=f,F.T=c}}function Bf(t,n,a,l){if(Qu){var c=Pf(l);if(c===null)xf(t,n,l,Yu,a),Zy(t,l);else if(O2(c,t,n,a,l))l.stopPropagation();else if(Zy(t,l),n&4&&-1<M2.indexOf(t)){for(;c!==null;){var f=wn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=ti(f.pendingLanes);if(p!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;p;){var D=1<<31-fe(p);T.entanglements[1]|=D,p&=~D}vi(f),(Ht&6)===0&&(Du=Je()+500,Bl(0))}}break;case 31:case 13:T=cs(f,2),T!==null&&un(T,f,2),Iu(),Uf(f,2)}if(f=Pf(l),f===null&&xf(t,n,l,Yu,a),f===c)break;c=f}c!==null&&l.stopPropagation()}else xf(t,n,l,null,a)}}function Pf(t){return t=xn(t),qf(t)}var Yu=null;function qf(t){if(Yu=null,t=si(t),t!==null){var n=h(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=g(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Yu=t,null}function $y(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ka()){case Xr:return 2;case $r:return 8;case Ji:case Yc:return 32;case wo:return 268435456;default:return 32}default:return 32}}var Hf=!1,wa=null,xa=null,Ca=null,Yl=new Map,Kl=new Map,Ra=[],M2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Zy(t,n){switch(t){case"focusin":case"focusout":wa=null;break;case"dragenter":case"dragleave":xa=null;break;case"mouseover":case"mouseout":Ca=null;break;case"pointerover":case"pointerout":Yl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kl.delete(n.pointerId)}}function Xl(t,n,a,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=wn(n),n!==null&&Ky(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function O2(t,n,a,l,c){switch(n){case"focusin":return wa=Xl(wa,t,n,a,l,c),!0;case"dragenter":return xa=Xl(xa,t,n,a,l,c),!0;case"mouseover":return Ca=Xl(Ca,t,n,a,l,c),!0;case"pointerover":var f=c.pointerId;return Yl.set(f,Xl(Yl.get(f)||null,t,n,a,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Kl.set(f,Xl(Kl.get(f)||null,t,n,a,l,c)),!0}return!1}function Jy(t){var n=si(t.target);if(n!==null){var a=h(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,Bn(t.priority,function(){Xy(a)});return}}else if(n===31){if(n=g(a),n!==null){t.blockedOn=n,Bn(t.priority,function(){Xy(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ku(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Pf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);ol=l,a.target.dispatchEvent(l),ol=null}else return n=wn(a),n!==null&&Ky(n),t.blockedOn=a,!1;n.shift()}return!0}function Wy(t,n,a){Ku(t)&&a.delete(n)}function j2(){Hf=!1,wa!==null&&Ku(wa)&&(wa=null),xa!==null&&Ku(xa)&&(xa=null),Ca!==null&&Ku(Ca)&&(Ca=null),Yl.forEach(Wy),Kl.forEach(Wy)}function Xu(t,n){t.blockedOn===n&&(t.blockedOn=null,Hf||(Hf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,j2)))}var $u=null;function t0(t){$u!==t&&($u=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){$u===t&&($u=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(qf(l||a)===null)continue;break}var f=wn(a);f!==null&&(t.splice(n,3),n-=3,Bh(f,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function wr(t){function n(D){return Xu(D,t)}wa!==null&&Xu(wa,t),xa!==null&&Xu(xa,t),Ca!==null&&Xu(Ca,t),Yl.forEach(n),Kl.forEach(n);for(var a=0;a<Ra.length;a++){var l=Ra[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ra.length&&(a=Ra[0],a.blockedOn===null);)Jy(a),a.blockedOn===null&&Ra.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],f=a[l+1],p=c[je]||null;if(typeof f=="function")p||t0(a);else if(p){var T=null;if(f&&f.hasAttribute("formAction")){if(c=f,p=f[je]||null)T=p.formAction;else if(qf(c)!==null)continue}else T=p.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),t0(a)}}}function e0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return c=p})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function Gf(t){this._internalRoot=t}Zu.prototype.render=Gf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=En();Qy(a,l,t,n,null,null)},Zu.prototype.unmount=Gf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Qy(t.current,2,null,t,null,null),Iu(),n[ii]=null}};function Zu(t){this._internalRoot=t}Zu.prototype.unstable_scheduleHydration=function(t){if(t){var n=Io();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Ra.length&&n!==0&&n<Ra[a].priority;a++);Ra.splice(a,0,t),a===0&&Jy(t)}};var n0=e.version;if(n0!=="19.2.3")throw Error(r(527,n0,"19.2.3"));nt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(n),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var k2={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ju.isDisabled&&Ju.supportsFiber)try{Ln=Ju.inject(k2),Ue=Ju}catch{}}return Zl.createRoot=function(t,n){if(!o(t))throw Error(r(299));var a=!1,l="",c=up,f=cp,p=hp;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=Gy(t,1,!1,null,null,a,l,null,c,f,p,e0),t[ii]=n.current,wf(t),new Gf(n)},Zl.hydrateRoot=function(t,n,a){if(!o(t))throw Error(r(299));var l=!1,c="",f=up,p=cp,T=hp,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),n=Gy(t,1,!0,n,a??null,l,c,D,f,p,T,e0),n.context=Fy(null),a=n.current,l=En(),l=Ja(l),c=da(l),c.callback=null,ma(a,c,l),a=l,n.current.lanes=a,$a(n,a),vi(n),t[ii]=n.current,wf(t),new Zu(n)},Zl.version="19.2.3",Zl}var f0;function Y2(){if(f0)return Yf.exports;f0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Yf.exports=Q2(),Yf.exports}var K2=Y2();const X2=B_(K2);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),P_=(...s)=>s.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim();/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Z2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=Tt.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:o="",children:h,iconNode:d,...g},_)=>Tt.createElement("svg",{ref:_,...Z2,width:e,height:e,stroke:s,strokeWidth:r?Number(i)*24/Number(e):i,className:P_("lucide",o),...g},[...d.map(([y,b])=>Tt.createElement(y,b)),...Array.isArray(h)?h:[h]]));/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=(s,e)=>{const i=Tt.forwardRef(({className:r,...o},h)=>Tt.createElement(J2,{ref:h,iconNode:e,className:P_(`lucide-${$2(s)}`,r),...o}));return i.displayName=`${s}`,i};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]],tT=jt("Ban",W2);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M17 14h-6",key:"bkmgh3"}],["path",{d:"M13 18H7",key:"bb0bb7"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 18h.01",key:"1bdyru"}]],nT=jt("CalendarRange",eT);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ud=jt("Calendar",iT);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],q_=jt("ChartColumn",aT);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],rT=jt("Check",sT);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Bd=jt("ChevronLeft",lT);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Pd=jt("ChevronRight",oT);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],cT=jt("CircleCheck",uT);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],fT=jt("CircleX",hT);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],H_=jt("ClipboardCheck",dT);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],qd=jt("Clock",mT);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],pT=jt("Download",gT);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],G_=jt("EyeOff",yT);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],F_=jt("Eye",_T);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ET=jt("FileText",vT);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Q_=jt("LayoutDashboard",TT);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],AT=jt("Lock",bT);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],wT=jt("LogOut",ST);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],Y_=jt("MessageCircle",xT);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],RT=jt("Pencil",CT);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],Zf=jt("Phone",DT);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],d0=jt("Plus",NT);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],VT=jt("RotateCcw",IT);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],OT=jt("Save",MT);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],kT=jt("Send",jT);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],K_=jt("Settings",zT);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],UT=jt("ShieldCheck",LT);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],PT=jt("Shield",BT);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],HT=jt("Smartphone",qT);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]],hc=jt("StickyNote",GT);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],QT=jt("Trash2",FT);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],KT=jt("TrendingUp",YT);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],X_=jt("Trophy",XT);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],$_=jt("User",$T);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],fc=jt("X",ZT);var xs=(s=>(s.ADMIN="ADMIN",s.SUPERVISOR="SUPERVISOR",s.MONITOR="MONITOR",s))(xs||{}),Wt=(s=>(s.LOGIN="LOGIN",s.DASHBOARD="DASHBOARD",s.BOOKINGS="BOOKINGS",s.TRACKING="TRACKING",s.MEMOS="MEMOS",s.SETTINGS="SETTINGS",s))(Wt||{});const JT=({className:s="w-24 h-24"})=>E.jsxs("div",{className:`${s} relative group`,children:[E.jsx("div",{className:"absolute inset-0 bg-[#5DC447]/30 blur-[50px] rounded-full group-hover:bg-[#5DC447]/50 transition-all duration-1000 animate-pulse"}),E.jsx("div",{className:"absolute -inset-4 bg-[#004D3C]/10 blur-[30px] rounded-full animate-ping duration-[3000ms]"}),E.jsxs("svg",{viewBox:"0 0 100 100",className:"relative z-10 w-full h-full drop-shadow-[0_12px_24px_rgba(0,0,0,0.4)]",children:[E.jsx("circle",{cx:"50",cy:"50",r:"48",fill:"#5DC447"}),E.jsxs("g",{fill:"#004D3C",children:[E.jsx("path",{d:"M50 38 L59.5 45 L56 56 L44 56 L40.5 45 Z"}),E.jsx("path",{d:"M50 12 L32 25 L41 36 L59 36 L68 25 Z"}),E.jsx("path",{d:"M72 28 L86 42 L74 54 L62 46 L62 33 Z"}),E.jsx("path",{d:"M72 58 L60 67 L48 88 L75 80 L84 65 Z"}),E.jsx("path",{d:"M28 58 L16 65 L25 80 L52 88 L40 67 Z"}),E.jsx("path",{d:"M28 28 L38 33 L38 46 L26 54 L14 42 Z"})]}),E.jsx("circle",{cx:"50",cy:"50",r:"48",fill:"none",stroke:"#004D3C",strokeWidth:"0.5",opacity:"0.2"})]})]}),WT=({onLogin:s,settings:e})=>{const[i,r]=Tt.useState(""),[o,h]=Tt.useState(!1),[d,g]=Tt.useState(""),_=y=>{y.preventDefault(),i===e.adminPassword?s(xs.ADMIN):i===e.supervisorPassword?s(xs.SUPERVISOR):i===e.monitorPassword?s(xs.MONITOR):g("   ")};return E.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-[#020403] p-4 relative overflow-hidden font-sans text-right",dir:"rtl",children:[E.jsx("div",{className:"absolute top-[-20%] right-[-10%] w-[80%] h-[80%] bg-[#5DC447]/10 rounded-full blur-[160px] animate-pulse"}),E.jsx("div",{className:"absolute bottom-[-20%] left-[-10%] w-[80%] h-[80%] bg-[#004D3C]/20 rounded-full blur-[160px]"}),E.jsxs("div",{className:"bg-white/5 backdrop-blur-3xl rounded-[4rem] shadow-[0_50px_100px_rgba(0,0,0,0.8)] w-full max-w-sm p-12 border border-white/10 relative z-10 animate-in fade-in zoom-in duration-1000",children:[E.jsxs("div",{className:"flex flex-col items-center mb-12 text-center",children:[E.jsx(JT,{className:"w-36 h-36 mb-8 transform hover:scale-105 transition-all duration-700 cursor-pointer"}),E.jsx("h1",{className:"text-5xl font-black text-white mb-3 tracking-tighter drop-shadow-2xl",children:" "}),E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("span",{className:"h-[2px] w-6 bg-[#5DC447] rounded-full shadow-[0_0_15px_#5DC447]"}),E.jsx("p",{className:"text-[#5DC447] text-[11px] font-black tracking-[0.5em] uppercase opacity-90",children:"  "}),E.jsx("span",{className:"h-[2px] w-6 bg-[#5DC447] rounded-full shadow-[0_0_15px_#5DC447]"})]})]}),E.jsxs("form",{onSubmit:_,className:"space-y-8",children:[E.jsxs("div",{className:"space-y-4",children:[E.jsx("label",{className:"block text-[10px] font-black text-emerald-200/40 pr-4 uppercase tracking-[0.3em]",children:"  "}),E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:"absolute inset-y-0 right-0 pr-6 flex items-center pointer-events-none text-[#5DC447]",children:E.jsx(AT,{size:20})}),E.jsx("input",{type:o?"text":"password",value:i,onChange:y=>{r(y.target.value),g("")},className:`block w-full pr-14 pl-14 py-6 bg-white/5 border border-white/10 rounded-[2rem] focus:border-[#5DC447] focus:bg-white/10 transition-all text-white font-black text-center outline-none shadow-2xl ${o?"text-2xl tracking-[0.2em]":"text-3xl tracking-[0.4em]"}`,placeholder:"",maxLength:8,autoFocus:!0}),E.jsx("button",{type:"button",onClick:()=>h(!o),className:"absolute inset-y-0 left-0 pl-6 flex items-center text-white/20 hover:text-[#5DC447] transition outline-none",children:o?E.jsx(G_,{size:20}):E.jsx(F_,{size:20})})]})]}),d&&E.jsx("div",{className:"bg-red-500/10 text-red-400 text-xs p-5 rounded-[1.5rem] border border-red-500/20 flex items-center gap-2 animate-bounce font-black justify-center",children:d}),E.jsxs("button",{type:"submit",className:"w-full bg-gradient-to-br from-[#5DC447] to-[#004D3C] hover:from-[#4ab339] hover:to-[#00382c] text-white font-black py-6 rounded-[2rem] shadow-[0_25px_50px_rgba(93,196,71,0.4)] active:scale-95 transition-all text-2xl border-b-4 border-[#00261d] group relative overflow-hidden",children:[E.jsx("span",{className:"relative z-10",children:" "}),E.jsx("div",{className:"absolute inset-0 bg-white/20 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000 skew-x-12"})]})]}),E.jsx("div",{className:"mt-16 text-center text-[12px] text-white/20 font-bold uppercase tracking-widest",children:"   2025"})]})]})},Hd=s=>{if(!s)return"";const e=new Date(s),i=["","","","","","","","","","","",""];return`${e.getDate()} ${i[e.getMonth()]} ${e.getFullYear()}`},dd=(s,e)=>{const i=s.startsWith("0")?"212"+s.substring(1):s,r=encodeURIComponent(e),o=`https://wa.me/${i}?text=${r}`;window.open(o,"_blank")},tb=(s,e)=>{const i=new Date,r=i.toISOString().split("T")[0];if(e<r)return!0;if(e>r)return!1;const o=parseInt(s.split(":")[0]),h=new Date;return h.setHours(o,15,0,0),i>h},Z_=({isOpen:s,onConfirm:e,onCancel:i,type:r="confirm"})=>{if(!s)return null;const o=r==="cancel";return E.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md z-[250] flex items-center justify-center p-4",dir:"rtl",children:E.jsxs("div",{className:"bg-white w-full max-w-xs rounded-[2.5rem] overflow-hidden shadow-2xl animate-in zoom-in duration-300 p-8 space-y-6 text-center border-t-8 border-[#004D3C]",children:[E.jsx("div",{className:`w-20 h-20 rounded-full flex items-center justify-center mx-auto ${o?"bg-red-50 text-red-500":"bg-emerald-50 text-emerald-600"}`,children:o?E.jsx(tT,{size:40}):E.jsx(Y_,{size:40})}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("h3",{className:"text-2xl font-black text-gray-800 tracking-tighter",children:o?" ":" "}),E.jsx("p",{className:"text-gray-500 font-bold text-xs",children:o?"        ":"       "})]}),E.jsxs("div",{className:"flex flex-col gap-3",children:[E.jsxs("button",{onClick:e,className:`w-full text-white font-black py-4 rounded-2xl flex items-center justify-center gap-2 shadow-lg active:scale-95 transition-all ${o?"bg-red-600 shadow-red-100":"bg-[#25D366] shadow-emerald-100"}`,children:[E.jsx(kT,{size:20}),"   "]}),E.jsx("button",{onClick:i,className:"w-full bg-gray-100 text-gray-400 font-black py-4 rounded-2xl active:scale-95 transition-all",children:o?"  ":"  "})]})]})})},eb=({isOpen:s,onClose:e,bookings:i,settings:r,type:o})=>{const[h,d]=Tt.useState(new Date().getMonth()),[g,_]=Tt.useState(new Date().getFullYear()),y=Tt.useMemo(()=>{const b=i.filter(N=>{const q=new Date(N.date);return o==="month"?q.getMonth()===h&&q.getFullYear()===g:q.getFullYear()===g}),S=b.filter(N=>N.status==="completed");return{total:b.length,completed:S.length,income:S.length*r.bookingPrice,rejected:b.filter(N=>N.status==="rejected").length}},[i,h,g,r.bookingPrice,o]);return s?E.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-xl z-[200] flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-white w-full max-w-md rounded-[2.5rem] overflow-hidden shadow-2xl animate-in slide-in-from-bottom-10 duration-500 my-auto flex flex-col max-h-[92vh]",children:[E.jsxs("div",{className:"bg-gradient-to-l from-[#004D3C] to-[#00382c] p-6 text-white flex justify-between items-center sticky top-0 z-10",children:[E.jsxs("div",{children:[E.jsx("h3",{className:"text-xl font-black flex items-center gap-2",children:o==="month"?E.jsxs(E.Fragment,{children:[E.jsx(q_,{size:20}),"  "]}):E.jsxs(E.Fragment,{children:[E.jsx(X_,{size:20}),"  "]})}),E.jsx("p",{className:"text-[10px] font-bold opacity-60 mt-1 uppercase tracking-widest",children:"  "})]}),E.jsx("button",{onClick:e,className:"bg-white/10 p-2.5 rounded-full hover:bg-white/20 transition-all",children:E.jsx(fc,{size:18})})]}),E.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto",children:[E.jsxs("div",{className:"flex gap-3",children:[o==="month"&&E.jsx("select",{value:h,onChange:b=>d(parseInt(b.target.value)),className:"flex-1 bg-gray-50 p-4 rounded-2xl font-black text-sm outline-none border-2 border-transparent focus:border-[#5DC447] transition-all",children:["","","","","","","","","","","",""].map((b,S)=>E.jsx("option",{value:S,children:b},S))}),E.jsx("select",{value:g,onChange:b=>_(parseInt(b.target.value)),className:`bg-gray-50 p-4 rounded-2xl font-black text-sm outline-none border-2 border-transparent focus:border-[#5DC447] transition-all ${o==="year"?"w-full":"w-1/3"}`,children:[2024,2025,2026].map(b=>E.jsx("option",{value:b,children:b},b))})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[E.jsxs("div",{className:"bg-gray-50 p-5 rounded-[2rem] text-center border border-gray-100",children:[E.jsx("p",{className:"text-[9px] font-black text-gray-400 mb-1 uppercase tracking-tighter",children:" "}),E.jsx("p",{className:"text-2xl font-black text-[#004D3C]",children:y.total})]}),E.jsxs("div",{className:"bg-emerald-50 p-5 rounded-[2rem] text-center border border-emerald-100",children:[E.jsx("p",{className:"text-[9px] font-black text-emerald-600 mb-1 uppercase tracking-tighter",children:""}),E.jsx("p",{className:"text-2xl font-black text-emerald-700",children:y.completed})]})]}),E.jsxs("div",{className:"bg-gradient-to-br from-[#5DC447] to-[#004D3C] p-8 rounded-[2rem] text-center text-white shadow-xl relative overflow-hidden group",children:[E.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-white/10 rounded-full blur-2xl group-hover:scale-110 transition-all"}),E.jsx("p",{className:"text-xs font-bold opacity-80 mb-2",children:"  (DH)"}),E.jsx("div",{className:"flex items-baseline justify-center gap-2",children:E.jsx("span",{className:"text-5xl font-black leading-none",children:y.income.toLocaleString()})})]}),E.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[E.jsxs("div",{className:"bg-red-50 p-5 rounded-[1.5rem] flex items-center justify-between px-8 border border-red-100",children:[E.jsx("p",{className:"text-[10px] font-black text-red-600 uppercase",children:" "}),E.jsx("p",{className:"text-xl font-black text-red-700",children:y.rejected})]}),E.jsxs("div",{className:"bg-amber-50 p-5 rounded-[1.5rem] flex items-center justify-between px-8 border border-amber-100",children:[E.jsx("p",{className:"text-[10px] font-black text-amber-600 uppercase",children:" "}),E.jsxs("p",{className:"text-xl font-black text-amber-700",children:[y.total>0?Math.round(y.completed/y.total*100):0,"%"]})]})]})]}),E.jsx("div",{className:"p-6 border-t border-gray-100 bg-white sticky bottom-0",children:E.jsx("button",{onClick:e,className:"w-full bg-[#004D3C] text-white font-black py-4 rounded-2xl active:scale-95 transition-all text-sm shadow-lg shadow-[#004D3C]/20",children:" "})})]})}):null},nb=({bookings:s,settings:e})=>{const[i,r]=Tt.useState(new Date),[o,h]=Tt.useState(null),d=i.toISOString().split("T")[0],g=s.filter(J=>J.date===d),_=g.filter(J=>J.status==="completed"),y=_.length*e.bookingPrice,b=new Date().getMonth(),S=new Date().getFullYear(),q=s.filter(J=>{const ut=new Date(J.date);return ut.getMonth()===b&&ut.getFullYear()===S&&J.status==="completed"}).length*e.bookingPrice,tt=s.filter(J=>new Date(J.date).getFullYear()===S&&J.status==="completed").length*e.bookingPrice;return E.jsxs("div",{className:"space-y-4 pb-4 animate-fade-in",children:[E.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border p-4 flex items-center justify-between",children:[E.jsx("button",{onClick:()=>r(new Date(i.setDate(i.getDate()-1))),className:"p-2 bg-gray-50 rounded-xl hover:bg-emerald-50 text-emerald-700 transition-colors",children:E.jsx(Pd,{size:20})}),E.jsxs("div",{className:"text-center",children:[E.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-tighter",children:"  "}),E.jsx("div",{className:"font-black text-lg text-gray-800",children:Hd(d)})]}),E.jsx("button",{onClick:()=>r(new Date(i.setDate(i.getDate()+1))),className:"p-2 bg-gray-50 rounded-xl hover:bg-emerald-50 text-emerald-700 transition-colors",children:E.jsx(Bd,{size:20})})]}),E.jsxs("div",{className:"bg-[#004D3C] rounded-[2.5rem] p-10 text-center text-white shadow-2xl relative overflow-hidden group border-b-8 border-[#00261d]",children:[E.jsx("div",{className:"absolute top-[-20%] right-[-10%] w-40 h-40 bg-[#5DC447]/20 rounded-full blur-3xl group-hover:bg-[#5DC447]/40 transition-all"}),E.jsx("p",{className:"text-sm font-bold opacity-70 mb-4 tracking-widest uppercase",children:"  "}),E.jsxs("div",{className:"flex items-baseline justify-center gap-2",children:[E.jsx("span",{className:"text-lg font-bold opacity-50",children:"DH"}),E.jsx("span",{className:"text-7xl font-black",children:y.toLocaleString()})]})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("div",{className:"bg-white rounded-[2rem] p-6 shadow-sm border-2 border-gray-50 flex flex-col items-center justify-center text-center space-y-2 relative overflow-hidden",children:[E.jsx("div",{className:"bg-blue-50 text-blue-600 p-3 rounded-2xl mb-2",children:E.jsx(q_,{size:20})}),E.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase",children:"  "}),E.jsxs("p",{className:"text-2xl font-black text-gray-800",children:[q.toLocaleString()," ",E.jsx("span",{className:"text-[10px] opacity-40",children:"DH"})]})]}),E.jsxs("div",{className:"bg-white rounded-[2rem] p-6 shadow-sm border-2 border-gray-50 flex flex-col items-center justify-center text-center space-y-2 relative overflow-hidden",children:[E.jsx("div",{className:"bg-amber-50 text-amber-600 p-3 rounded-2xl mb-2",children:E.jsx(X_,{size:20})}),E.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase",children:"  "}),E.jsxs("p",{className:"text-2xl font-black text-gray-800",children:[tt.toLocaleString()," ",E.jsx("span",{className:"text-[10px] opacity-40",children:"DH"})]})]})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("button",{onClick:()=>h("month"),className:"bg-white border hover:bg-emerald-50 text-emerald-800 font-black py-5 rounded-[1.5rem] flex items-center justify-center gap-2 shadow-sm transition-all text-xs",children:[E.jsx(ET,{size:18}),"  "]}),E.jsxs("button",{onClick:()=>h("year"),className:"bg-white border hover:bg-amber-50 text-amber-800 font-black py-5 rounded-[1.5rem] flex items-center justify-center gap-2 shadow-sm transition-all text-xs",children:[E.jsx(KT,{size:18}),"  "]})]}),E.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[E.jsx(Wu,{label:" ",value:g.length,icon:Ud,color:"text-gray-500"}),E.jsx(Wu,{label:"",value:_.length,icon:cT,color:"text-emerald-500"}),E.jsx(Wu,{label:"",value:g.filter(J=>J.status==="pending").length,icon:qd,color:"text-amber-500"}),E.jsx(Wu,{label:"",value:g.filter(J=>J.status==="rejected").length,icon:fT,color:"text-red-500"})]}),o&&E.jsx(eb,{type:o,isOpen:!!o,onClose:()=>h(null),bookings:s,settings:e})]})},Wu=({label:s,value:e,icon:i,color:r})=>E.jsxs("div",{className:"bg-white p-4 rounded-2xl border text-center shadow-sm",children:[E.jsx(i,{size:14,className:`${r} mx-auto mb-1 opacity-50`}),E.jsx("p",{className:"text-lg font-black text-gray-800 leading-none",children:e}),E.jsx("p",{className:"text-[8px] font-black text-gray-400 mt-1 uppercase tracking-tighter",children:s})]}),ib=({bookings:s,onAddBooking:e,settings:i})=>{const[r,o]=Tt.useState(new Date),[h,d]=Tt.useState(""),[g,_]=Tt.useState(""),[y,b]=Tt.useState(null),[S,N]=Tt.useState(!1),[q,W]=Tt.useState(null),tt=[];for(let ct=i.openingTime;ct<i.closingTime;ct++)tt.push(`${ct}:00 - ${ct+1}:00`);const J=r.toISOString().split("T")[0],ut=s.filter(ct=>ct.date===J&&ct.status!=="rejected"),pt=tt.filter(ct=>!ut.some(Y=>Y.timeSlot===ct)&&!tb(ct,J)),mt=()=>{if(!h||!g||!y)return alert("  ");const ct={id:Date.now().toString(),customerName:h,phone:g,date:J,timeSlot:y,createdAt:new Date().toISOString(),status:"pending"};W(ct),N(!0)},Ct=ct=>{q&&(e(q),ct&&dd(q.phone,`      ${q.date} / ${q.timeSlot}.  .`),d(""),_(""),b(null),N(!1))};return E.jsxs("div",{className:"space-y-4 animate-fade-in",children:[E.jsxs("div",{className:"bg-white rounded-2xl p-4 flex items-center justify-between border shadow-sm",children:[E.jsx("button",{onClick:()=>o(new Date(r.setDate(r.getDate()-1))),className:"p-2 hover:text-[#5DC447]",children:E.jsx(Pd,{})}),E.jsx("span",{className:"font-black text-gray-700",children:Hd(J)}),E.jsx("button",{onClick:()=>o(new Date(r.setDate(r.getDate()+1))),className:"p-2 hover:text-[#5DC447]",children:E.jsx(Bd,{})})]}),E.jsxs("div",{className:"bg-white rounded-[2.5rem] shadow-xl p-8 space-y-6",children:[E.jsxs("div",{className:"space-y-4",children:[E.jsx("input",{type:"text",placeholder:" ",value:h,onChange:ct=>d(ct.target.value),className:"w-full bg-gray-50 border-2 border-transparent rounded-2xl py-4 px-6 text-center text-lg font-black focus:border-[#5DC447] focus:bg-white outline-none transition-all shadow-inner"}),E.jsx("input",{type:"tel",placeholder:" ",value:g,dir:"ltr",onChange:ct=>_(ct.target.value),className:"w-full bg-gray-50 border-2 border-transparent rounded-2xl py-4 px-6 text-center text-lg font-black focus:border-[#5DC447] focus:bg-white outline-none transition-all shadow-inner"})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-3 max-h-[300px] overflow-y-auto pr-2 scrollbar-thin",children:[pt.map(ct=>E.jsx("button",{onClick:()=>b(ct),className:`py-4 rounded-2xl border-2 text-xs font-black transition-all ${y===ct?"bg-[#004D3C] border-[#004D3C] text-white shadow-lg shadow-[#004D3C]/30 scale-[1.02]":"bg-white border-gray-100 text-gray-400 hover:border-emerald-200"}`,children:ct},ct)),pt.length===0&&E.jsx("div",{className:"col-span-2 py-8 text-center text-gray-300 font-black",children:"   "})]}),E.jsx("button",{onClick:mt,className:"w-full bg-gradient-to-r from-[#5DC447] to-[#004D3C] text-white font-black py-5 rounded-2xl text-xl shadow-xl shadow-[#5DC447]/20 active:scale-95 transition-all",children:" "})]}),E.jsx(Z_,{isOpen:S,onConfirm:()=>Ct(!0),onCancel:()=>Ct(!1)})]})},ab=({bookings:s,onUpdateBooking:e,settings:i})=>{const[r,o]=Tt.useState(new Date),[h,d]=Tt.useState("all"),[g,_]=Tt.useState(null),[y,b]=Tt.useState({date:"",timeSlot:"",customerName:"",phone:""}),[S,N]=Tt.useState(!1),[q,W]=Tt.useState(null),tt=r.toISOString().split("T")[0],J=Tt.useMemo(()=>{if(!g)return[];const Y=[];for(let w=i.openingTime;w<i.closingTime;w++)Y.push(`${w}:00 - ${w+1}:00`);const x=s.filter(w=>w.date===y.date&&w.id!==g&&w.status!=="rejected").map(w=>w.timeSlot);return Y.filter(w=>!x.includes(w))},[y.date,g,s,i]),ut=Tt.useMemo(()=>s.filter(Y=>{const x=Y.date===tt;return h==="all"?x:x&&Y.status===h}).sort((Y,x)=>{const w=parseInt(Y.timeSlot.split(":")[0]),C=parseInt(x.timeSlot.split(":")[0]);return w-C}),[s,tt,h]),pt=Y=>{_(Y.id),b({date:Y.date,timeSlot:Y.timeSlot,customerName:Y.customerName,phone:Y.phone})},mt=Y=>{e({...Y,...y}),_(null)},Ct=Y=>{W(Y),N(!0)},ct=Y=>{q&&(e({...q,status:"rejected"}),Y&&dd(q.phone,`  ${q.customerName}       ${q.date} / ${q.timeSlot} .  `),N(!1),W(null))};return E.jsxs("div",{className:"space-y-4 pb-4 animate-fade-in",children:[E.jsxs("div",{className:"bg-white rounded-2xl p-4 flex items-center justify-between border shadow-sm",children:[E.jsx("button",{onClick:()=>o(new Date(r.setDate(r.getDate()-1))),className:"p-2 text-gray-400 hover:text-[#004D3C] transition-colors",children:E.jsx(Pd,{})}),E.jsx("span",{className:"font-black text-gray-800 tracking-tighter",children:Hd(tt)}),E.jsx("button",{onClick:()=>o(new Date(r.setDate(r.getDate()+1))),className:"p-2 text-gray-400 hover:text-[#004D3C] transition-colors",children:E.jsx(Bd,{})})]}),E.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-none px-1",children:["all","pending","completed","rejected"].map(Y=>E.jsx("button",{onClick:()=>d(Y),className:`px-6 py-2 rounded-full text-[10px] font-black whitespace-nowrap transition-all border-2 ${h===Y?"bg-[#004D3C] border-[#004D3C] text-white shadow-lg":"bg-white border-gray-100 text-gray-400"}`,children:Y==="all"?"":Y==="pending"?"":Y==="completed"?"":""},Y))}),E.jsxs("div",{className:"space-y-3",children:[ut.length===0&&E.jsx("div",{className:"text-center py-20 text-gray-300 font-black",children:"     "}),ut.map(Y=>E.jsxs("div",{className:"bg-white p-5 rounded-[2.2rem] border-2 border-gray-50 shadow-sm relative overflow-hidden group hover:border-[#004D3C]/10 transition-all",children:[E.jsx("div",{className:`absolute top-0 right-0 w-2.5 h-full transition-all ${Y.status==="pending"?"bg-amber-400":Y.status==="completed"?"bg-emerald-500":"bg-red-500"}`}),E.jsxs("div",{className:"flex flex-col gap-4",children:[E.jsxs("div",{className:"flex justify-between items-start gap-4",children:[g===Y.id?E.jsxs("div",{className:"flex-1 space-y-4 animate-in slide-in-from-right-2",children:[E.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[E.jsxs("div",{className:"space-y-1",children:[E.jsxs("label",{className:"text-[8px] font-black text-[#004D3C] mr-2 uppercase tracking-widest flex items-center gap-1",children:[E.jsx($_,{size:10}),"  "]}),E.jsx("input",{value:y.customerName,onChange:x=>b({...y,customerName:x.target.value}),className:"w-full bg-gray-50 p-3 rounded-2xl font-black text-sm border focus:border-[#004D3C] outline-none"})]}),E.jsxs("div",{className:"space-y-1",children:[E.jsxs("label",{className:"text-[8px] font-black text-[#004D3C] mr-2 uppercase tracking-widest flex items-center gap-1",children:[E.jsx(Zf,{size:10}),"  "]}),E.jsx("input",{value:y.phone,dir:"ltr",onChange:x=>b({...y,phone:x.target.value}),className:"w-full bg-gray-50 p-3 rounded-2xl font-black text-sm border focus:border-[#004D3C] outline-none"})]})]}),E.jsxs("div",{className:"space-y-1",children:[E.jsxs("label",{className:"text-[8px] font-black text-[#004D3C] mr-2 uppercase tracking-widest flex items-center gap-1",children:[E.jsx(nT,{size:10}),"   "]}),E.jsx("input",{type:"date",value:y.date,onChange:x=>b({...y,date:x.target.value,timeSlot:""}),className:"w-full bg-emerald-50/50 p-3 rounded-2xl font-black text-sm border-2 border-emerald-100 focus:border-[#004D3C] outline-none transition-all"})]}),E.jsxs("div",{className:"space-y-1",children:[E.jsxs("label",{className:"text-[8px] font-black text-[#004D3C] mr-2 uppercase tracking-widest flex items-center gap-1",children:[E.jsx(qd,{size:10}),"   "]}),E.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-[160px] overflow-y-auto pr-2 scrollbar-thin",children:J.map(x=>E.jsx("button",{onClick:()=>b({...y,timeSlot:x}),className:`py-2 px-1 rounded-xl border-2 text-[10px] font-black transition-all ${y.timeSlot===x?"bg-[#004D3C] border-[#004D3C] text-white shadow-md":"bg-white border-gray-50 text-gray-400"}`,children:x},x))})]})]}):E.jsxs("div",{className:"space-y-1",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("p",{className:"text-sm font-black text-gray-800 tracking-tighter",children:Y.customerName}),E.jsx("span",{className:`px-2 py-0.5 rounded-full text-[8px] font-black ${Y.status==="pending"?"bg-amber-50 text-amber-600":Y.status==="completed"?"bg-emerald-50 text-emerald-600":"bg-red-50 text-red-600"}`,children:Y.status==="pending"?" ":Y.status==="completed"?" ":""})]}),E.jsx("p",{className:"text-3xl font-black text-[#004D3C] tracking-tighter leading-none my-1",children:Y.timeSlot}),E.jsxs("p",{className:"text-[10px] font-bold text-gray-400 flex items-center gap-1",children:[E.jsx(Zf,{size:10,className:"text-[#5DC447]"})," ",Y.phone]})]}),E.jsx("div",{className:"flex flex-col gap-2 shrink-0",children:g===Y.id?E.jsxs("div",{className:"flex flex-col gap-2",children:[E.jsx("button",{onClick:()=>mt(Y),className:"p-3 bg-emerald-600 text-white rounded-2xl shadow-lg active:scale-90 transition-all border-b-4 border-emerald-800",children:E.jsx(OT,{size:20})}),E.jsx("button",{onClick:()=>_(null),className:"p-3 bg-gray-100 text-gray-400 rounded-2xl active:scale-90 transition-all",children:E.jsx(fc,{size:20})})]}):E.jsx("button",{onClick:()=>pt(Y),className:"p-3 bg-gray-50 text-gray-400 rounded-2xl hover:bg-[#004D3C] hover:text-white transition-all active:scale-90",children:E.jsx(RT,{size:18})})})]}),!g&&E.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-50",children:[E.jsxs("div",{className:"flex gap-2",children:[E.jsxs("button",{onClick:()=>window.open(`tel:${Y.phone}`),className:"flex items-center gap-2 bg-blue-50 text-blue-600 px-4 py-2 rounded-xl text-[10px] font-black active:scale-95 transition-all",children:[E.jsx(Zf,{size:14})," "]}),E.jsxs("button",{onClick:()=>dd(Y.phone,` ${Y.customerName}        ${Y.date} / ${Y.timeSlot}.    .`),className:"flex items-center gap-2 bg-emerald-50 text-emerald-600 px-4 py-2 rounded-xl text-[10px] font-black active:scale-95 transition-all",children:[E.jsx(Y_,{size:14})," "]})]}),E.jsxs("div",{className:"flex gap-2",children:[Y.status==="pending"&&E.jsxs(E.Fragment,{children:[E.jsx("button",{onClick:()=>e({...Y,status:"completed"}),className:"p-2 bg-emerald-50 text-emerald-600 rounded-lg hover:bg-emerald-100 transition-all shadow-sm",children:E.jsx(rT,{size:20})}),E.jsx("button",{onClick:()=>Ct(Y),className:"p-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-all shadow-sm",children:E.jsx(fc,{size:20})})]}),Y.status!=="pending"&&E.jsx("button",{onClick:()=>e({...Y,status:"pending"}),className:"p-2 bg-gray-50 text-gray-300 rounded-lg hover:bg-gray-100 transition-all",children:E.jsx(VT,{size:18})})]})]})]})]},Y.id))]}),E.jsx(Z_,{isOpen:S,onConfirm:()=>ct(!0),onCancel:()=>ct(!1),type:"cancel"})]})},sb=({memos:s,onAddMemo:e,onDeleteMemo:i})=>{const[r,o]=Tt.useState(""),[h,d]=Tt.useState(""),[g,_]=Tt.useState(!1),y=()=>{h&&(e({id:Date.now().toString(),title:r||" ",content:h,date:new Date().toLocaleDateString("ar-MA"),color:"bg-white"}),o(""),d(""),_(!1))};return E.jsxs("div",{className:"space-y-6 animate-fade-in pb-24 relative min-h-[70vh]",children:[E.jsxs("div",{className:"flex justify-between items-center px-2 bg-white/50 backdrop-blur-md p-4 rounded-[2rem] sticky top-0 z-20 shadow-sm border border-white/20",children:[E.jsxs("h2",{className:"text-2xl font-black flex items-center gap-3 text-gray-800 tracking-tighter",children:[E.jsx(hc,{className:"text-[#5DC447]",size:26})," "]}),E.jsx("button",{onClick:()=>_(!0),className:"w-12 h-12 bg-[#004D3C] text-white rounded-full shadow-lg flex items-center justify-center active:scale-90 transition-all",children:E.jsx(d0,{size:24,strokeWidth:3})})]}),E.jsx("button",{onClick:()=>_(!0),className:"fixed bottom-28 left-6 w-16 h-16 bg-[#5DC447] text-white rounded-full shadow-[0_12px_35px_rgba(93,196,71,0.5)] flex items-center justify-center z-[100] active:scale-90 transition-all border-4 border-white animate-bounce-subtle",children:E.jsx(d0,{size:32,strokeWidth:3})}),g&&E.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md z-[200] flex items-center justify-center p-4 overflow-y-auto",dir:"rtl",children:E.jsxs("div",{className:"bg-white w-full max-w-sm rounded-[3rem] overflow-hidden shadow-2xl animate-in zoom-in duration-300 my-auto",children:[E.jsxs("div",{className:"bg-[#004D3C] p-6 text-white flex justify-between items-center",children:[E.jsx("h3",{className:"text-xl font-black",children:"  "}),E.jsx("button",{onClick:()=>_(!1),className:"p-2 hover:bg-white/10 rounded-full",children:E.jsx(fc,{size:20})})]}),E.jsxs("div",{className:"p-8 space-y-4",children:[E.jsx("input",{type:"text",placeholder:" ",value:r,onChange:b=>o(b.target.value),className:"w-full bg-gray-50 p-4 rounded-2xl font-black outline-none border-2 border-transparent focus:border-[#5DC447] transition-all"}),E.jsx("textarea",{placeholder:"   ...",value:h,onChange:b=>d(b.target.value),className:"w-full bg-gray-50 p-5 rounded-2xl font-bold min-h-[180px] outline-none border-2 border-transparent focus:border-[#5DC447] transition-all"}),E.jsx("button",{onClick:y,className:"w-full bg-[#004D3C] text-white py-5 rounded-2xl font-black text-xl shadow-lg active:scale-95",children:"  "})]})]})}),E.jsxs("div",{className:"grid gap-4 px-1",children:[s.length===0&&!g&&E.jsxs("div",{className:"text-center py-24 text-gray-300 font-black space-y-4",children:[E.jsx("div",{className:"w-20 h-20 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-4",children:E.jsx(hc,{size:40,className:"opacity-20"})}),E.jsx("p",{children:"   ."}),E.jsx("p",{className:"text-[10px] opacity-60",children:"  (+)    "})]}),s.map(b=>E.jsxs("div",{className:"bg-white p-6 rounded-[2.5rem] border-2 border-gray-50 shadow-sm relative group hover:border-[#5DC447]/30 transition-all animate-in slide-in-from-bottom-2",children:[E.jsx("button",{onClick:()=>i(b.id),className:"absolute top-6 left-6 text-gray-200 hover:text-red-500 transition-all",children:E.jsx(QT,{size:20})}),E.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[E.jsx("div",{className:"w-2.5 h-2.5 bg-[#5DC447] rounded-full shadow-[0_0_8px_#5DC447]"}),E.jsx("h4",{className:"font-black text-gray-800 text-lg leading-none tracking-tighter",children:b.title})]}),E.jsx("p",{className:"text-sm font-bold text-gray-600 mb-4 pr-4 border-r-4 border-gray-50",children:b.content}),E.jsx("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-gray-50",children:E.jsx("span",{className:"text-[10px] font-black text-emerald-600 bg-emerald-50 px-4 py-1.5 rounded-full uppercase tracking-tighter",children:b.date})})]},b.id))]}),E.jsx("style",{children:`
        @keyframes bounce-subtle {
          0%, 100% { transform: translateY(0); }
          50% { transform: translateY(-10px); }
        }
        .animate-bounce-subtle { animation: bounce-subtle 3s ease-in-out infinite; }
      `})]})},rb=({settings:s,setSettings:e})=>{const[i,r]=Tt.useState(s),[o,h]=Tt.useState({admin:!1,sup:!1,mon:!1}),d=_=>h(y=>({...y,[_]:!y[_]})),g=(_,y)=>{const b=_==="sup"?"supervisorViews":"monitorViews",S=i[b],N=S.includes(y)?S.filter(q=>q!==y):[...S,y];r({...i,[b]:N})};return E.jsx("div",{className:"animate-fade-in",children:E.jsxs("div",{className:"bg-white rounded-[2rem] shadow-xl p-4 space-y-3 border relative overflow-hidden",children:[E.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-[#5DC447]/5 rounded-full blur-3xl"}),E.jsxs("h2",{className:"text-2xl font-black flex items-center gap-2 text-gray-800 border-b border-gray-50 pb-3 tracking-tighter",children:[E.jsx(K_,{className:"text-[#004D3C]",size:24}),"  "]}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsxs("h3",{className:"text-[9px] font-black text-[#004D3C] uppercase tracking-widest flex items-center gap-2 px-1 border-r-4 border-[#004D3C]",children:[E.jsx(qd,{size:12}),"  "]}),E.jsx("div",{className:"bg-gray-50 p-4 rounded-[1.5rem] space-y-3 border border-gray-100",children:E.jsxs("div",{className:"flex items-center justify-between gap-4",children:[E.jsxs("div",{className:"flex-1 space-y-1",children:[E.jsx("label",{className:"text-[8px] font-black text-gray-400 uppercase",children:" "}),E.jsx("input",{type:"number",value:i.bookingPrice,onChange:_=>r({...i,bookingPrice:Number(_.target.value)}),className:"w-full bg-white p-2.5 rounded-xl text-center text-xl font-black outline-none border border-transparent focus:border-[#004D3C] shadow-sm"})]}),E.jsxs("div",{className:"flex-1 space-y-1",children:[E.jsx("label",{className:"text-[8px] font-black text-gray-400 uppercase",children:""}),E.jsx("input",{type:"number",value:i.openingTime,onChange:_=>r({...i,openingTime:Number(_.target.value)}),className:"w-full bg-white p-4 rounded-xl text-center font-black border border-transparent focus:border-[#004D3C] shadow-sm"})]}),E.jsxs("div",{className:"flex-1 space-y-1",children:[E.jsx("label",{className:"text-[8px] font-black text-gray-400 uppercase",children:""}),E.jsx("input",{type:"number",value:i.closingTime,onChange:_=>r({...i,closingTime:Number(_.target.value)}),className:"w-full bg-white p-4 rounded-xl text-center font-black border border-transparent focus:border-[#004D3C] shadow-sm"})]})]})})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsxs("h3",{className:"text-[9px] font-black text-[#004D3C] uppercase tracking-widest flex items-center gap-2 px-1 border-r-4 border-[#004D3C]",children:[E.jsx(PT,{size:12}),"  "]}),E.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[E.jsx(Jf,{label:" ",value:i.adminPassword,onChange:_=>r({...i,adminPassword:_}),show:o.admin,toggle:()=>d("admin")}),E.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[E.jsx(Jf,{label:" ",value:i.supervisorPassword,onChange:_=>r({...i,supervisorPassword:_}),show:o.sup,toggle:()=>d("sup")}),E.jsx(Jf,{label:" ",value:i.monitorPassword,onChange:_=>r({...i,monitorPassword:_}),show:o.mon,toggle:()=>d("mon")})]})]})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsxs("h3",{className:"text-[9px] font-black text-[#004D3C] uppercase tracking-widest flex items-center gap-2 px-1 border-r-4 border-[#004D3C]",children:[E.jsx(UT,{size:12})," "]}),E.jsxs("div",{className:"bg-gray-50 p-4 rounded-[1.5rem] border border-gray-100 space-y-4",children:[E.jsx(m0,{title:" ",views:i.supervisorViews,onToggle:_=>g("sup",_)}),E.jsx("div",{className:"h-px bg-gray-200 opacity-30"}),E.jsx(m0,{title:" ",views:i.monitorViews,onToggle:_=>g("mon",_)})]})]}),E.jsxs("button",{onClick:()=>e(i),className:"w-full bg-[#004D3C] text-white py-4 rounded-[1.5rem] font-black text-lg active:scale-95 shadow-xl shadow-[#004D3C]/20 flex items-center justify-center gap-3 transition-all border-b-4 border-[#00261d]",children:[E.jsx(pT,{size:20}),"  "]})]})]})})},Jf=({label:s,value:e,onChange:i,show:r,toggle:o})=>E.jsxs("div",{className:"bg-gray-50/50 p-2.5 rounded-xl space-y-1 group border border-transparent hover:border-gray-100 transition-all",children:[E.jsxs("label",{className:"text-[7px] font-black text-gray-400 mr-1 flex items-center gap-1 uppercase tracking-tighter",children:[E.jsx($_,{size:8})," ",s]}),E.jsxs("div",{className:"relative",children:[E.jsx("input",{type:r?"text":"password",value:e,onChange:h=>i(h.target.value),className:"w-full bg-white p-2 rounded-lg text-center font-black border border-transparent focus:border-[#004D3C] tracking-widest text-sm shadow-sm"}),E.jsx("button",{onClick:o,className:"absolute inset-y-0 left-3 text-gray-300 hover:text-[#004D3C] transition-all",children:r?E.jsx(G_,{size:14}):E.jsx(F_,{size:14})})]})]}),m0=({title:s,views:e,onToggle:i})=>E.jsxs("div",{className:"space-y-2",children:[E.jsxs("p",{className:"text-[9px] font-black text-gray-500 mb-1 flex items-center gap-1 uppercase tracking-tighter",children:[E.jsx(HT,{size:10,className:"text-[#004D3C]"})," ",s]}),E.jsx("div",{className:"grid grid-cols-4 gap-1.5",children:[{v:Wt.DASHBOARD,i:Q_},{v:Wt.BOOKINGS,i:Ud},{v:Wt.TRACKING,i:H_},{v:Wt.MEMOS,i:hc}].map(r=>E.jsx("button",{onClick:()=>i(r.v),className:`flex items-center justify-center p-2 rounded-xl border transition-all ${e.includes(r.v)?"bg-[#004D3C] border-[#004D3C] text-white":"bg-white border-gray-100 text-gray-300"}`,children:E.jsx(r.i,{size:16,fill:e.includes(r.v)?"white":"none",strokeWidth:e.includes(r.v)?3:2})},r.v))})]}),g0=new Date().getFullYear(),lb={name:" ",season:`${g0}-${g0+1}`,bookingPrice:350,openingTime:8,closingTime:24,adminPassword:"1234",supervisorPassword:"12345",monitorPassword:"123456",supervisorViews:[Wt.DASHBOARD,Wt.BOOKINGS,Wt.TRACKING,Wt.MEMOS],monitorViews:[Wt.DASHBOARD,Wt.BOOKINGS,Wt.TRACKING,Wt.MEMOS]},ob=()=>{};var p0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},ub=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const o=s[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const h=s[i++];e[r++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=s[i++],d=s[i++],g=s[i++],_=((o&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[r++]=String.fromCharCode(55296+(_>>10)),e[r++]=String.fromCharCode(56320+(_&1023))}else{const h=s[i++],d=s[i++];e[r++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},W_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const h=s[o],d=o+1<s.length,g=d?s[o+1]:0,_=o+2<s.length,y=_?s[o+2]:0,b=h>>2,S=(h&3)<<4|g>>4;let N=(g&15)<<2|y>>6,q=y&63;_||(q=64,d||(N=64)),r.push(i[b],i[S],i[N],i[q])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(J_(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):ub(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const h=i[s.charAt(o++)],g=o<s.length?i[s.charAt(o)]:0;++o;const y=o<s.length?i[s.charAt(o)]:64;++o;const S=o<s.length?i[s.charAt(o)]:64;if(++o,h==null||g==null||y==null||S==null)throw new cb;const N=h<<2|g>>4;if(r.push(N),y!==64){const q=g<<4&240|y>>2;if(r.push(q),S!==64){const W=y<<6&192|S;r.push(W)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class cb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hb=function(s){const e=J_(s);return W_.encodeByteArray(e,!0)},dc=function(s){return hb(s).replace(/\./g,"")},fb=function(s){try{return W_.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function db(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb=()=>db().__FIREBASE_DEFAULTS__,gb=()=>{if(typeof process>"u"||typeof p0>"u")return;const s=p0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},pb=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&fb(s[1]);return e&&JSON.parse(e)},Gd=()=>{try{return ob()||mb()||gb()||pb()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},yb=s=>{var e,i;return(i=(e=Gd())==null?void 0:e.emulatorHosts)==null?void 0:i[s]},_b=s=>{const e=yb(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},tv=()=>{var s;return(s=Gd())==null?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fd(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Eb(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...s};return[dc(JSON.stringify(i)),dc(JSON.stringify(d)),""].join(".")}const no={};function bb(){const s={prod:[],emulator:[]};for(const e of Object.keys(no))no[e]?s.emulator.push(e):s.prod.push(e);return s}function Ab(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let y0=!1;function Sb(s,e){if(typeof window>"u"||typeof document>"u"||!Fd(window.location.host)||no[s]===e||no[s]||y0)return;no[s]=e;function i(N){return`__firebase__banner__${N}`}const r="__firebase__banner",h=bb().prod.length>0;function d(){const N=document.getElementById(r);N&&N.remove()}function g(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function _(N,q){N.setAttribute("width","24"),N.setAttribute("id",q),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function y(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{y0=!0,d()},N}function b(N,q){N.setAttribute("id",q),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function S(){const N=Ab(r),q=i("text"),W=document.getElementById(q)||document.createElement("span"),tt=i("learnmore"),J=document.getElementById(tt)||document.createElement("a"),ut=i("preprendIcon"),pt=document.getElementById(ut)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const mt=N.element;g(mt),b(J,tt);const Ct=y();_(pt,ut),mt.append(pt,W,J,Ct),document.body.appendChild(mt)}h?(W.innerText="Preview backend disconnected.",pt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(pt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xb(){var e;const s=(e=Gd())==null?void 0:e.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Cb(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function Rb(){return!xb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ev(){try{return typeof indexedDB=="object"}catch{return!1}}function nv(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var h;e(((h=o.error)==null?void 0:h.message)||"")}}catch(i){e(i)}})}function Db(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb="FirebaseError";class Ha extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=Nb,Object.setPrototypeOf(this,Ha.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rc.prototype.create)}}class Rc{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?Ib(h,r):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Ha(o,g,r)}}function Ib(s,e){return s.replace(Vb,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const Vb=/\{\$([^}]+)}/g;function lo(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const h=s[o],d=e[o];if(_0(h)&&_0(d)){if(!lo(h,d))return!1}else if(h!==d)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function _0(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb=1e3,Ob=2,jb=14400*1e3,kb=.5;function v0(s,e=Mb,i=Ob){const r=e*Math.pow(i,s),o=Math.round(kb*r*(Math.random()-.5)*2);return Math.min(jb,r+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(s){return s&&s._delegate?s._delegate:s}class Yi{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new vb;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ub(e))try{this.getOrInitializeService({instanceIdentifier:As})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});r.resolve(h)}catch{}}}}clearInstance(e=As){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=As){return this.instances.has(e)}getOptions(e=As){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);r===g&&d.resolve(o)}return o}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const h=this.instances.get(r);return h&&e(h,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Lb(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=As){return this.component?this.component.multipleInstances?e:As:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Lb(s){return s===As?void 0:s}function Ub(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new zb(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Lt||(Lt={}));const Pb={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},qb=Lt.INFO,Hb={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},Gb=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=Hb[e];if(o)console[o](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qd{constructor(e){this.name=e,this._logLevel=qb,this._logHandler=Gb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Pb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...e),this._logHandler(this,Lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...e),this._logHandler(this,Lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...e),this._logHandler(this,Lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...e),this._logHandler(this,Lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...e),this._logHandler(this,Lt.ERROR,...e)}}const Fb=(s,e)=>e.some(i=>s instanceof i);let E0,T0;function Qb(){return E0||(E0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Yb(){return T0||(T0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iv=new WeakMap,md=new WeakMap,av=new WeakMap,Wf=new WeakMap,Yd=new WeakMap;function Kb(s){const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(Va(s.result)),o()},d=()=>{r(s.error),o()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&iv.set(i,s)}).catch(()=>{}),Yd.set(e,s),e}function Xb(s){if(md.has(s))return;const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});md.set(s,e)}let gd={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return md.get(s);if(e==="objectStoreNames")return s.objectStoreNames||av.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Va(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function $b(s){gd=s(gd)}function Zb(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(td(this),e,...i);return av.set(r,e.sort?e.sort():[e]),Va(r)}:Yb().includes(s)?function(...e){return s.apply(td(this),e),Va(iv.get(this))}:function(...e){return Va(s.apply(td(this),e))}}function Jb(s){return typeof s=="function"?Zb(s):(s instanceof IDBTransaction&&Xb(s),Fb(s,Qb())?new Proxy(s,gd):s)}function Va(s){if(s instanceof IDBRequest)return Kb(s);if(Wf.has(s))return Wf.get(s);const e=Jb(s);return e!==s&&(Wf.set(s,e),Yd.set(e,s)),e}const td=s=>Yd.get(s);function sv(s,e,{blocked:i,upgrade:r,blocking:o,terminated:h}={}){const d=indexedDB.open(s,e),g=Va(d);return r&&d.addEventListener("upgradeneeded",_=>{r(Va(d.result),_.oldVersion,_.newVersion,Va(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{h&&_.addEventListener("close",()=>h()),o&&_.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const Wb=["get","getKey","getAll","getAllKeys","count"],tA=["put","add","delete","clear"],ed=new Map;function b0(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(ed.get(e))return ed.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=tA.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||Wb.includes(i)))return;const h=async function(d,...g){const _=this.transaction(d,o?"readwrite":"readonly");let y=_.store;return r&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),o&&_.done]))[0]};return ed.set(e,h),h}$b(s=>({...s,get:(e,i,r)=>b0(e,i)||s.get(e,i,r),has:(e,i)=>!!b0(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(nA(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function nA(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const pd="@firebase/app",A0="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki=new Qd("@firebase/app"),iA="@firebase/app-compat",aA="@firebase/analytics-compat",sA="@firebase/analytics",rA="@firebase/app-check-compat",lA="@firebase/app-check",oA="@firebase/auth",uA="@firebase/auth-compat",cA="@firebase/database",hA="@firebase/data-connect",fA="@firebase/database-compat",dA="@firebase/functions",mA="@firebase/functions-compat",gA="@firebase/installations",pA="@firebase/installations-compat",yA="@firebase/messaging",_A="@firebase/messaging-compat",vA="@firebase/performance",EA="@firebase/performance-compat",TA="@firebase/remote-config",bA="@firebase/remote-config-compat",AA="@firebase/storage",SA="@firebase/storage-compat",wA="@firebase/firestore",xA="@firebase/ai",CA="@firebase/firestore-compat",RA="firebase",DA="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd="[DEFAULT]",NA={[pd]:"fire-core",[iA]:"fire-core-compat",[sA]:"fire-analytics",[aA]:"fire-analytics-compat",[lA]:"fire-app-check",[rA]:"fire-app-check-compat",[oA]:"fire-auth",[uA]:"fire-auth-compat",[cA]:"fire-rtdb",[hA]:"fire-data-connect",[fA]:"fire-rtdb-compat",[dA]:"fire-fn",[mA]:"fire-fn-compat",[gA]:"fire-iid",[pA]:"fire-iid-compat",[yA]:"fire-fcm",[_A]:"fire-fcm-compat",[vA]:"fire-perf",[EA]:"fire-perf-compat",[TA]:"fire-rc",[bA]:"fire-rc-compat",[AA]:"fire-gcs",[SA]:"fire-gcs-compat",[wA]:"fire-fst",[CA]:"fire-fst-compat",[xA]:"fire-vertex","fire-js":"fire-js",[RA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mc=new Map,IA=new Map,_d=new Map;function S0(s,e){try{s.container.addComponent(e)}catch(i){Ki.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function ka(s){const e=s.name;if(_d.has(e))return Ki.debug(`There were multiple attempts to register component ${e}.`),!1;_d.set(e,s);for(const i of mc.values())S0(i,s);for(const i of IA.values())S0(i,s);return!0}function yo(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function VA(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ma=new Rc("app","Firebase",MA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Yi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ma.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA=DA;function rv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:yd,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Ma.create("bad-app-name",{appName:String(o)});if(i||(i=tv()),!i)throw Ma.create("no-options");const h=mc.get(o);if(h){if(lo(i,h.options)&&lo(r,h.config))return h;throw Ma.create("duplicate-app",{appName:o})}const d=new Bb(o);for(const _ of _d.values())d.addComponent(_);const g=new OA(i,r,d);return mc.set(o,g),g}function lv(s=yd){const e=mc.get(s);if(!e&&s===yd&&tv())return rv();if(!e)throw Ma.create("no-app",{appName:s});return e}function Ti(s,e,i){let r=NA[s]??s;i&&(r+=`-${i}`);const o=r.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const d=[`Unable to register library "${r}" with version "${e}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ki.warn(d.join(" "));return}ka(new Yi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA="firebase-heartbeat-database",zA=1,oo="firebase-heartbeat-store";let nd=null;function ov(){return nd||(nd=sv(kA,zA,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(oo)}catch(i){console.warn(i)}}}}).catch(s=>{throw Ma.create("idb-open",{originalErrorMessage:s.message})})),nd}async function LA(s){try{const i=(await ov()).transaction(oo),r=await i.objectStore(oo).get(uv(s));return await i.done,r}catch(e){if(e instanceof Ha)Ki.warn(e.message);else{const i=Ma.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ki.warn(i.message)}}}async function w0(s,e){try{const r=(await ov()).transaction(oo,"readwrite");await r.objectStore(oo).put(e,uv(s)),await r.done}catch(i){if(i instanceof Ha)Ki.warn(i.message);else{const r=Ma.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Ki.warn(r.message)}}}function uv(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA=1024,BA=30;class PA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new HA(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=x0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:o}),this._heartbeatsCache.heartbeats.length>BA){const d=GA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ki.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=x0(),{heartbeatsToSend:r,unsentEntries:o}=qA(this._heartbeatsCache.heartbeats),h=dc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Ki.warn(i),""}}}function x0(){return new Date().toISOString().substring(0,10)}function qA(s,e=UA){const i=[];let r=s.slice();for(const o of s){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),C0(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),C0(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class HA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ev()?nv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await LA(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return w0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return w0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function C0(s){return dc(JSON.stringify({version:2,heartbeats:s})).length}function GA(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FA(s){ka(new Yi("platform-logger",e=>new eA(e),"PRIVATE")),ka(new Yi("heartbeat",e=>new PA(e),"PRIVATE")),Ti(pd,A0,s),Ti(pd,A0,"esm2020"),Ti("fire-js","")}FA("");var QA="firebase",YA="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ti(QA,YA,"app");var R0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Oa,cv;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,w){function C(){}C.prototype=w.prototype,x.F=w.prototype,x.prototype=new C,x.prototype.constructor=x,x.D=function(O,V,k){for(var R=Array(arguments.length-2),se=2;se<arguments.length;se++)R[se-2]=arguments[se];return w.prototype[V].apply(O,R)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,w,C){C||(C=0);const O=Array(16);if(typeof w=="string")for(var V=0;V<16;++V)O[V]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(V=0;V<16;++V)O[V]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=x.g[0],C=x.g[1],V=x.g[2];let k=x.g[3],R;R=w+(k^C&(V^k))+O[0]+3614090360&4294967295,w=C+(R<<7&4294967295|R>>>25),R=k+(V^w&(C^V))+O[1]+3905402710&4294967295,k=w+(R<<12&4294967295|R>>>20),R=V+(C^k&(w^C))+O[2]+606105819&4294967295,V=k+(R<<17&4294967295|R>>>15),R=C+(w^V&(k^w))+O[3]+3250441966&4294967295,C=V+(R<<22&4294967295|R>>>10),R=w+(k^C&(V^k))+O[4]+4118548399&4294967295,w=C+(R<<7&4294967295|R>>>25),R=k+(V^w&(C^V))+O[5]+1200080426&4294967295,k=w+(R<<12&4294967295|R>>>20),R=V+(C^k&(w^C))+O[6]+2821735955&4294967295,V=k+(R<<17&4294967295|R>>>15),R=C+(w^V&(k^w))+O[7]+4249261313&4294967295,C=V+(R<<22&4294967295|R>>>10),R=w+(k^C&(V^k))+O[8]+1770035416&4294967295,w=C+(R<<7&4294967295|R>>>25),R=k+(V^w&(C^V))+O[9]+2336552879&4294967295,k=w+(R<<12&4294967295|R>>>20),R=V+(C^k&(w^C))+O[10]+4294925233&4294967295,V=k+(R<<17&4294967295|R>>>15),R=C+(w^V&(k^w))+O[11]+2304563134&4294967295,C=V+(R<<22&4294967295|R>>>10),R=w+(k^C&(V^k))+O[12]+1804603682&4294967295,w=C+(R<<7&4294967295|R>>>25),R=k+(V^w&(C^V))+O[13]+4254626195&4294967295,k=w+(R<<12&4294967295|R>>>20),R=V+(C^k&(w^C))+O[14]+2792965006&4294967295,V=k+(R<<17&4294967295|R>>>15),R=C+(w^V&(k^w))+O[15]+1236535329&4294967295,C=V+(R<<22&4294967295|R>>>10),R=w+(V^k&(C^V))+O[1]+4129170786&4294967295,w=C+(R<<5&4294967295|R>>>27),R=k+(C^V&(w^C))+O[6]+3225465664&4294967295,k=w+(R<<9&4294967295|R>>>23),R=V+(w^C&(k^w))+O[11]+643717713&4294967295,V=k+(R<<14&4294967295|R>>>18),R=C+(k^w&(V^k))+O[0]+3921069994&4294967295,C=V+(R<<20&4294967295|R>>>12),R=w+(V^k&(C^V))+O[5]+3593408605&4294967295,w=C+(R<<5&4294967295|R>>>27),R=k+(C^V&(w^C))+O[10]+38016083&4294967295,k=w+(R<<9&4294967295|R>>>23),R=V+(w^C&(k^w))+O[15]+3634488961&4294967295,V=k+(R<<14&4294967295|R>>>18),R=C+(k^w&(V^k))+O[4]+3889429448&4294967295,C=V+(R<<20&4294967295|R>>>12),R=w+(V^k&(C^V))+O[9]+568446438&4294967295,w=C+(R<<5&4294967295|R>>>27),R=k+(C^V&(w^C))+O[14]+3275163606&4294967295,k=w+(R<<9&4294967295|R>>>23),R=V+(w^C&(k^w))+O[3]+4107603335&4294967295,V=k+(R<<14&4294967295|R>>>18),R=C+(k^w&(V^k))+O[8]+1163531501&4294967295,C=V+(R<<20&4294967295|R>>>12),R=w+(V^k&(C^V))+O[13]+2850285829&4294967295,w=C+(R<<5&4294967295|R>>>27),R=k+(C^V&(w^C))+O[2]+4243563512&4294967295,k=w+(R<<9&4294967295|R>>>23),R=V+(w^C&(k^w))+O[7]+1735328473&4294967295,V=k+(R<<14&4294967295|R>>>18),R=C+(k^w&(V^k))+O[12]+2368359562&4294967295,C=V+(R<<20&4294967295|R>>>12),R=w+(C^V^k)+O[5]+4294588738&4294967295,w=C+(R<<4&4294967295|R>>>28),R=k+(w^C^V)+O[8]+2272392833&4294967295,k=w+(R<<11&4294967295|R>>>21),R=V+(k^w^C)+O[11]+1839030562&4294967295,V=k+(R<<16&4294967295|R>>>16),R=C+(V^k^w)+O[14]+4259657740&4294967295,C=V+(R<<23&4294967295|R>>>9),R=w+(C^V^k)+O[1]+2763975236&4294967295,w=C+(R<<4&4294967295|R>>>28),R=k+(w^C^V)+O[4]+1272893353&4294967295,k=w+(R<<11&4294967295|R>>>21),R=V+(k^w^C)+O[7]+4139469664&4294967295,V=k+(R<<16&4294967295|R>>>16),R=C+(V^k^w)+O[10]+3200236656&4294967295,C=V+(R<<23&4294967295|R>>>9),R=w+(C^V^k)+O[13]+681279174&4294967295,w=C+(R<<4&4294967295|R>>>28),R=k+(w^C^V)+O[0]+3936430074&4294967295,k=w+(R<<11&4294967295|R>>>21),R=V+(k^w^C)+O[3]+3572445317&4294967295,V=k+(R<<16&4294967295|R>>>16),R=C+(V^k^w)+O[6]+76029189&4294967295,C=V+(R<<23&4294967295|R>>>9),R=w+(C^V^k)+O[9]+3654602809&4294967295,w=C+(R<<4&4294967295|R>>>28),R=k+(w^C^V)+O[12]+3873151461&4294967295,k=w+(R<<11&4294967295|R>>>21),R=V+(k^w^C)+O[15]+530742520&4294967295,V=k+(R<<16&4294967295|R>>>16),R=C+(V^k^w)+O[2]+3299628645&4294967295,C=V+(R<<23&4294967295|R>>>9),R=w+(V^(C|~k))+O[0]+4096336452&4294967295,w=C+(R<<6&4294967295|R>>>26),R=k+(C^(w|~V))+O[7]+1126891415&4294967295,k=w+(R<<10&4294967295|R>>>22),R=V+(w^(k|~C))+O[14]+2878612391&4294967295,V=k+(R<<15&4294967295|R>>>17),R=C+(k^(V|~w))+O[5]+4237533241&4294967295,C=V+(R<<21&4294967295|R>>>11),R=w+(V^(C|~k))+O[12]+1700485571&4294967295,w=C+(R<<6&4294967295|R>>>26),R=k+(C^(w|~V))+O[3]+2399980690&4294967295,k=w+(R<<10&4294967295|R>>>22),R=V+(w^(k|~C))+O[10]+4293915773&4294967295,V=k+(R<<15&4294967295|R>>>17),R=C+(k^(V|~w))+O[1]+2240044497&4294967295,C=V+(R<<21&4294967295|R>>>11),R=w+(V^(C|~k))+O[8]+1873313359&4294967295,w=C+(R<<6&4294967295|R>>>26),R=k+(C^(w|~V))+O[15]+4264355552&4294967295,k=w+(R<<10&4294967295|R>>>22),R=V+(w^(k|~C))+O[6]+2734768916&4294967295,V=k+(R<<15&4294967295|R>>>17),R=C+(k^(V|~w))+O[13]+1309151649&4294967295,C=V+(R<<21&4294967295|R>>>11),R=w+(V^(C|~k))+O[4]+4149444226&4294967295,w=C+(R<<6&4294967295|R>>>26),R=k+(C^(w|~V))+O[11]+3174756917&4294967295,k=w+(R<<10&4294967295|R>>>22),R=V+(w^(k|~C))+O[2]+718787259&4294967295,V=k+(R<<15&4294967295|R>>>17),R=C+(k^(V|~w))+O[9]+3951481745&4294967295,x.g[0]=x.g[0]+w&4294967295,x.g[1]=x.g[1]+(V+(R<<21&4294967295|R>>>11))&4294967295,x.g[2]=x.g[2]+V&4294967295,x.g[3]=x.g[3]+k&4294967295}r.prototype.v=function(x,w){w===void 0&&(w=x.length);const C=w-this.blockSize,O=this.C;let V=this.h,k=0;for(;k<w;){if(V==0)for(;k<=C;)o(this,x,k),k+=this.blockSize;if(typeof x=="string"){for(;k<w;)if(O[V++]=x.charCodeAt(k++),V==this.blockSize){o(this,O),V=0;break}}else for(;k<w;)if(O[V++]=x[k++],V==this.blockSize){o(this,O),V=0;break}}this.h=V,this.o+=w},r.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var w=1;w<x.length-8;++w)x[w]=0;w=this.o*8;for(var C=x.length-8;C<x.length;++C)x[C]=w&255,w/=256;for(this.v(x),x=Array(16),w=0,C=0;C<4;++C)for(let O=0;O<32;O+=8)x[w++]=this.g[C]>>>O&255;return x};function h(x,w){var C=g;return Object.prototype.hasOwnProperty.call(C,x)?C[x]:C[x]=w(x)}function d(x,w){this.h=w;const C=[];let O=!0;for(let V=x.length-1;V>=0;V--){const k=x[V]|0;O&&k==w||(C[V]=k,O=!1)}this.g=C}var g={};function _(x){return-128<=x&&x<128?h(x,function(w){return new d([w|0],w<0?-1:0)}):new d([x|0],x<0?-1:0)}function y(x){if(isNaN(x)||!isFinite(x))return S;if(x<0)return J(y(-x));const w=[];let C=1;for(let O=0;x>=C;O++)w[O]=x/C|0,C*=4294967296;return new d(w,0)}function b(x,w){if(x.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(x.charAt(0)=="-")return J(b(x.substring(1),w));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(w,8));let O=S;for(let k=0;k<x.length;k+=8){var V=Math.min(8,x.length-k);const R=parseInt(x.substring(k,k+V),w);V<8?(V=y(Math.pow(w,V)),O=O.j(V).add(y(R))):(O=O.j(C),O=O.add(y(R)))}return O}var S=_(0),N=_(1),q=_(16777216);s=d.prototype,s.m=function(){if(tt(this))return-J(this).m();let x=0,w=1;for(let C=0;C<this.g.length;C++){const O=this.i(C);x+=(O>=0?O:4294967296+O)*w,w*=4294967296}return x},s.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(W(this))return"0";if(tt(this))return"-"+J(this).toString(x);const w=y(Math.pow(x,6));var C=this;let O="";for(;;){const V=Ct(C,w).g;C=ut(C,V.j(w));let k=((C.g.length>0?C.g[0]:C.h)>>>0).toString(x);if(C=V,W(C))return k+O;for(;k.length<6;)k="0"+k;O=k+O}},s.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function W(x){if(x.h!=0)return!1;for(let w=0;w<x.g.length;w++)if(x.g[w]!=0)return!1;return!0}function tt(x){return x.h==-1}s.l=function(x){return x=ut(this,x),tt(x)?-1:W(x)?0:1};function J(x){const w=x.g.length,C=[];for(let O=0;O<w;O++)C[O]=~x.g[O];return new d(C,~x.h).add(N)}s.abs=function(){return tt(this)?J(this):this},s.add=function(x){const w=Math.max(this.g.length,x.g.length),C=[];let O=0;for(let V=0;V<=w;V++){let k=O+(this.i(V)&65535)+(x.i(V)&65535),R=(k>>>16)+(this.i(V)>>>16)+(x.i(V)>>>16);O=R>>>16,k&=65535,R&=65535,C[V]=R<<16|k}return new d(C,C[C.length-1]&-2147483648?-1:0)};function ut(x,w){return x.add(J(w))}s.j=function(x){if(W(this)||W(x))return S;if(tt(this))return tt(x)?J(this).j(J(x)):J(J(this).j(x));if(tt(x))return J(this.j(J(x)));if(this.l(q)<0&&x.l(q)<0)return y(this.m()*x.m());const w=this.g.length+x.g.length,C=[];for(var O=0;O<2*w;O++)C[O]=0;for(O=0;O<this.g.length;O++)for(let V=0;V<x.g.length;V++){const k=this.i(O)>>>16,R=this.i(O)&65535,se=x.i(V)>>>16,Ne=x.i(V)&65535;C[2*O+2*V]+=R*Ne,pt(C,2*O+2*V),C[2*O+2*V+1]+=k*Ne,pt(C,2*O+2*V+1),C[2*O+2*V+1]+=R*se,pt(C,2*O+2*V+1),C[2*O+2*V+2]+=k*se,pt(C,2*O+2*V+2)}for(x=0;x<w;x++)C[x]=C[2*x+1]<<16|C[2*x];for(x=w;x<2*w;x++)C[x]=0;return new d(C,0)};function pt(x,w){for(;(x[w]&65535)!=x[w];)x[w+1]+=x[w]>>>16,x[w]&=65535,w++}function mt(x,w){this.g=x,this.h=w}function Ct(x,w){if(W(w))throw Error("division by zero");if(W(x))return new mt(S,S);if(tt(x))return w=Ct(J(x),w),new mt(J(w.g),J(w.h));if(tt(w))return w=Ct(x,J(w)),new mt(J(w.g),w.h);if(x.g.length>30){if(tt(x)||tt(w))throw Error("slowDivide_ only works with positive integers.");for(var C=N,O=w;O.l(x)<=0;)C=ct(C),O=ct(O);var V=Y(C,1),k=Y(O,1);for(O=Y(O,2),C=Y(C,2);!W(O);){var R=k.add(O);R.l(x)<=0&&(V=V.add(C),k=R),O=Y(O,1),C=Y(C,1)}return w=ut(x,V.j(w)),new mt(V,w)}for(V=S;x.l(w)>=0;){for(C=Math.max(1,Math.floor(x.m()/w.m())),O=Math.ceil(Math.log(C)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),k=y(C),R=k.j(w);tt(R)||R.l(x)>0;)C-=O,k=y(C),R=k.j(w);W(k)&&(k=N),V=V.add(k),x=ut(x,R)}return new mt(V,x)}s.B=function(x){return Ct(this,x).h},s.and=function(x){const w=Math.max(this.g.length,x.g.length),C=[];for(let O=0;O<w;O++)C[O]=this.i(O)&x.i(O);return new d(C,this.h&x.h)},s.or=function(x){const w=Math.max(this.g.length,x.g.length),C=[];for(let O=0;O<w;O++)C[O]=this.i(O)|x.i(O);return new d(C,this.h|x.h)},s.xor=function(x){const w=Math.max(this.g.length,x.g.length),C=[];for(let O=0;O<w;O++)C[O]=this.i(O)^x.i(O);return new d(C,this.h^x.h)};function ct(x){const w=x.g.length+1,C=[];for(let O=0;O<w;O++)C[O]=x.i(O)<<1|x.i(O-1)>>>31;return new d(C,x.h)}function Y(x,w){const C=w>>5;w%=32;const O=x.g.length-C,V=[];for(let k=0;k<O;k++)V[k]=w>0?x.i(k+C)>>>w|x.i(k+C+1)<<32-w:x.i(k+C);return new d(V,x.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,cv=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=b,Oa=d}).apply(typeof R0<"u"?R0:typeof self<"u"?self:typeof window<"u"?window:{});var tc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hv,Jl,fv,sc,vd,dv,mv,gv;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof tc=="object"&&tc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function o(u,m){if(m)t:{var v=r;u=u.split(".");for(var A=0;A<u.length-1;A++){var z=u[A];if(!(z in v))break t;v=v[z]}u=u[u.length-1],A=v[u],m=m(A),m!=A&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&v.push([A,m[A]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function b(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(A,z,P){for(var et=Array(arguments.length-2),At=2;At<arguments.length;At++)et[At-2]=arguments[At];return m.prototype[z].apply(A,et)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function q(u){const m=u.length;if(m>0){const v=Array(m);for(let A=0;A<m;A++)v[A]=u[A];return v}return[]}function W(u,m){for(let A=1;A<arguments.length;A++){const z=arguments[A];var v=typeof z;if(v=v!="object"?v:z?Array.isArray(z)?"array":v:"null",v=="array"||v=="object"&&typeof z.length=="number"){v=u.length||0;const P=z.length||0;u.length=v+P;for(let et=0;et<P;et++)u[v+et]=z[et]}else u.push(z)}}class tt{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(u){d.setTimeout(()=>{throw u},0)}function ut(){var u=x;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class pt{constructor(){this.h=this.g=null}add(m,v){const A=mt.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var mt=new tt(()=>new Ct,u=>u.reset());class Ct{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ct,Y=!1,x=new pt,w=()=>{const u=Promise.resolve(void 0);ct=()=>{u.then(C)}};function C(){for(var u;u=ut();){try{u.h.call(u.g)}catch(v){J(v)}var m=mt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Y=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function se(u,m){V.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(se,V),se.prototype.init=function(u,m){const v=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&se.Z.h.call(this)},se.prototype.h=function(){se.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ne="closure_listenable_"+(Math.random()*1e6|0),F=0;function nt(u,m,v,A,z){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=z,this.key=++F,this.da=this.fa=!1}function dt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ut(u,m,v){for(const A in u)m.call(v,u[A],A,u)}function Ft(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function M(u){const m={};for(const v in u)m[v]=u[v];return m}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(u,m){let v,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(v in A)u[v]=A[v];for(let P=0;P<X.length;P++)v=X[P],Object.prototype.hasOwnProperty.call(A,v)&&(u[v]=A[v])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,v,A,z){const P=u.toString();u=this.g[P],u||(u=this.g[P]=[],this.h++);const et=wt(u,m,A,z);return et>-1?(m=u[et],v||(m.fa=!1)):(m=new nt(m,this.src,P,!!A,z),m.fa=v,u.push(m)),m};function _t(u,m){const v=m.type;if(v in u.g){var A=u.g[v],z=Array.prototype.indexOf.call(A,m,void 0),P;(P=z>=0)&&Array.prototype.splice.call(A,z,1),P&&(dt(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function wt(u,m,v,A){for(let z=0;z<u.length;++z){const P=u[z];if(!P.da&&P.listener==m&&P.capture==!!v&&P.ha==A)return z}return-1}var kt="closure_lm_"+(Math.random()*1e6|0),Ie={};function re(u,m,v,A,z){if(Array.isArray(m)){for(let P=0;P<m.length;P++)re(u,m[P],v,A,z);return null}return v=Kr(v),u&&u[Ne]?u.J(m,v,g(A)?!!A.capture:!1,z):Qa(u,m,v,!1,A,z)}function Qa(u,m,v,A,z,P){if(!m)throw Error("Invalid event type");const et=g(z)?!!z.capture:!!z;let At=Ya(u);if(At||(u[kt]=At=new rt(u)),v=At.add(m,v,A,et,P),v.proxy)return v;if(A=ks(),v.proxy=A,A.src=u,A.listener=v,u.addEventListener)k||(z=et),z===void 0&&(z=!1),u.addEventListener(m.toString(),A,z);else if(u.attachEvent)u.attachEvent(Jn(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ks(){function u(v){return m.call(u.src,u.listener,v)}const m=Qr;return u}function zs(u,m,v,A,z){if(Array.isArray(m))for(var P=0;P<m.length;P++)zs(u,m[P],v,A,z);else A=g(A)?!!A.capture:!!A,v=Kr(v),u&&u[Ne]?(u=u.i,P=String(m).toString(),P in u.g&&(m=u.g[P],v=wt(m,v,A,z),v>-1&&(dt(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[P],u.h--)))):u&&(u=Ya(u))&&(m=u.g[m.toString()],u=-1,m&&(u=wt(m,v,A,z)),(v=u>-1?m[u]:null)&&Ls(v))}function Ls(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ne])_t(m.i,u);else{var v=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(v,A,u.capture):m.detachEvent?m.detachEvent(Jn(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=Ya(m))?(_t(v,u),v.h==0&&(v.src=null,m[kt]=null)):dt(u)}}}function Jn(u){return u in Ie?Ie[u]:Ie[u]="on"+u}function Qr(u,m){if(u.da)u=!0;else{m=new se(m,this);const v=u.listener,A=u.ha||u.src;u.fa&&Ls(u),u=v.call(A,m)}return u}function Ya(u){return u=u[kt],u instanceof rt?u:null}var Yr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Kr(u){return typeof u=="function"?u:(u[Yr]||(u[Yr]=function(m){return u.handleEvent(m)}),u[Yr])}function _e(){O.call(this),this.i=new rt(this),this.M=this,this.G=null}S(_e,O),_e.prototype[Ne]=!0,_e.prototype.removeEventListener=function(u,m,v,A){zs(this,u,m,v,A)};function Ve(u,m){var v,A=u.G;if(A)for(v=[];A;A=A.G)v.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new V(m,u);else if(m instanceof V)m.target=m.target||u;else{var z=m;m=new V(A,u),it(m,z)}z=!0;let P,et;if(v)for(et=v.length-1;et>=0;et--)P=m.g=v[et],z=Zi(P,A,!0,m)&&z;if(P=m.g=u,z=Zi(P,A,!0,m)&&z,z=Zi(P,A,!1,m)&&z,v)for(et=0;et<v.length;et++)P=m.g=v[et],z=Zi(P,A,!1,m)&&z}_e.prototype.N=function(){if(_e.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let A=0;A<v.length;A++)dt(v[A]);delete u.g[m],u.h--}}this.G=null},_e.prototype.J=function(u,m,v,A){return this.i.add(String(u),m,!1,v,A)},_e.prototype.K=function(u,m,v,A){return this.i.add(String(u),m,!0,v,A)};function Zi(u,m,v,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let z=!0;for(let P=0;P<m.length;++P){const et=m[P];if(et&&!et.da&&et.capture==v){const At=et.listener,de=et.ha||et.src;et.fa&&_t(u.i,et),z=At.call(de,A)!==!1&&z}}return z&&!A.defaultPrevented}function Qc(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function So(u){u.g=Qc(()=>{u.g=null,u.i&&(u.i=!1,So(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Je extends O{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:So(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ka(u){O.call(this),this.h=u,this.g={}}S(Ka,O);var Xr=[];function $r(u){Ut(u.g,function(m,v){this.g.hasOwnProperty(v)&&Ls(m)},u),u.g={}}Ka.prototype.N=function(){Ka.Z.N.call(this),$r(this)},Ka.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ji=d.JSON.stringify,Yc=d.JSON.parse,wo=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function xo(){}function Co(){}var Ln={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ue(){V.call(this,"d")}S(Ue,V);function Sn(){V.call(this,"c")}S(Sn,V);var fe={},Ro=null;function Us(){return Ro=Ro||new _e}fe.Ia="serverreachability";function Do(u){V.call(this,fe.Ia,u)}S(Do,V);function Wn(u){const m=Us();Ve(m,new Do(m))}fe.STAT_EVENT="statevent";function Xa(u,m){V.call(this,fe.STAT_EVENT,u),this.stat=m}S(Xa,V);function ve(u){const m=Us();Ve(m,new Xa(m,u))}fe.Ja="timingevent";function ti(u,m){V.call(this,fe.Ja,u),this.size=m}S(ti,V);function ei(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Un(){this.g=!0}Un.prototype.ua=function(){this.g=!1};function Kc(u,m,v,A,z,P){u.info(function(){if(u.g)if(P){var et="",At=P.split("&");for(let qt=0;qt<At.length;qt++){var de=At[qt].split("=");if(de.length>1){const le=de[0];de=de[1];const Rn=le.split("_");et=Rn.length>=2&&Rn[1]=="type"?et+(le+"="+de+"&"):et+(le+"=redacted&")}}}else et=null;else et=P;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+m+`
`+v+`
`+et})}function No(u,m,v,A,z,P,et){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+m+`
`+v+`
`+P+" "+et})}function ni(u,m,v,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Xc(u,v)+(A?" "+A:"")})}function $a(u,m){u.info(function(){return"TIMEOUT: "+m})}Un.prototype.info=function(){};function Xc(u,m){if(!u.g)return m;if(!m)return null;try{const P=JSON.parse(m);if(P){for(u=0;u<P.length;u++)if(Array.isArray(P[u])){var v=P[u];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var z=A[0];if(z!="noop"&&z!="stop"&&z!="close")for(let et=1;et<A.length;et++)A[et]=""}}}}return Ji(P)}catch{return m}}var Za={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Zr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Jr;function Ja(){}S(Ja,xo),Ja.prototype.g=function(){return new XMLHttpRequest},Jr=new Ja;function Ci(u){return encodeURIComponent(String(u))}function Io(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Bn(u,m,v,A){this.j=u,this.i=m,this.l=v,this.S=A||1,this.V=new Ka(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Pn}function Pn(){this.i=null,this.g="",this.h=!1}var Ee={},je={};function ii(u,m,v){u.M=1,u.A=Wa(be(m)),u.u=v,u.R=!0,Bs(u,null)}function Bs(u,m){u.F=Date.now(),ai(u),u.B=be(u.A);var v=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),Gs(v.i,"t",A),u.C=0,v=u.j.L,u.h=new Pn,u.g=Qo(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Je(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,A=u.ba;var z="readystatechange";Array.isArray(z)||(z&&(Xr[0]=z.toString()),z=Xr);for(let P=0;P<z.length;P++){const et=re(v,z[P],A||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Wn(),Kc(u.i,u.v,u.B,u.l,u.S,u.u)}Bn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Gn(u)==3?m.j():this.Y(u)},Bn.prototype.Y=function(u){try{if(u==this.g)t:{const At=Gn(this.g),de=this.g.ya(),qt=this.g.ca();if(!(At<3)&&(At!=3||this.g&&(this.h.h||this.g.la()||Be(this.g)))){this.K||At!=4||de==7||(de==8||qt<=0?Wn(3):Wn(2)),si(this);var m=this.g.ca();this.X=m;var v=$c(this);if(this.o=m==200,No(this.i,this.v,this.B,this.l,this.S,At,m),this.o){if(this.U&&!this.L){e:{if(this.g){var A,z=this.g;if((A=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(A)){var P=A;break e}}P=null}if(u=P)ni(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ri(this,u);else{this.o=!1,this.m=3,ve(12),fn(this),wn(this);break t}}if(this.R){u=!0;let le;for(;!this.K&&this.C<v.length;)if(le=Mo(this,v),le==je){At==4&&(this.m=4,ve(14),u=!1),ni(this.i,this.l,null,"[Incomplete Response]");break}else if(le==Ee){this.m=4,ve(15),ni(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ni(this.i,this.l,le,null),ri(this,le);if(Vo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||v.length!=0||this.h.h||(this.m=1,ve(16),u=!1),this.o=this.o&&u,!u)ni(this.i,this.l,v,"[Invalid Chunked Response]"),fn(this),wn(this);else if(v.length>0&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.aa&&!et.P&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),dl(et),et.P=!0,ve(11))}}else ni(this.i,this.l,v,null),ri(this,v);At==4&&fn(this),this.o&&!this.K&&(At==4?qo(this.j,this):(this.o=!1,ai(this)))}else Di(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,ve(12)):(this.m=0,ve(13)),fn(this),wn(this)}}}catch{}finally{}};function $c(u){if(!Vo(u))return u.g.la();const m=Be(u.g);if(m==="")return"";let v="";const A=m.length,z=Gn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return fn(u),wn(u),"";u.h.i=new d.TextDecoder}for(let P=0;P<A;P++)u.h.h=!0,v+=u.h.i.decode(m[P],{stream:!(z&&P==A-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function Vo(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Mo(u,m){var v=u.C,A=m.indexOf(`
`,v);return A==-1?je:(v=Number(m.substring(v,A)),isNaN(v)?Ee:(A+=1,A+v>m.length?je:(m=m.slice(A,A+v),u.C=A+v,m)))}Bn.prototype.cancel=function(){this.K=!0,fn(this)};function ai(u){u.T=Date.now()+u.H,Ps(u,u.H)}function Ps(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ei(y(u.aa,u),m)}function si(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Bn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?($a(this.i,this.B),this.M!=2&&(Wn(),ve(17)),fn(this),this.m=2,wn(this)):Ps(this,this.T-u)};function wn(u){u.j.I==0||u.K||qo(u.j,u)}function fn(u){si(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,$r(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ri(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||oi(v.h,u))){if(!u.L&&oi(v.h,u)&&v.I==3){try{var A=v.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Xs(v),ra(v);else break t;rs(v),ve(18)}}else v.xa=z[1],0<v.xa-v.K&&z[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ei(y(v.Va,v),6e3));li(v.h)<=1&&v.ta&&(v.ta=void 0)}else mi(v,11)}else if((u.L||v.g==u)&&Xs(v),!R(m))for(z=v.Ba.g.parse(m),m=0;m<z.length;m++){let qt=z[m];const le=qt[0];if(!(le<=v.K))if(v.K=le,qt=qt[1],v.I==2)if(qt[0]=="c"){v.M=qt[1],v.ba=qt[2];const Rn=qt[3];Rn!=null&&(v.ka=Rn,v.j.info("VER="+v.ka));const gi=qt[4];gi!=null&&(v.za=gi,v.j.info("SVER="+v.za));const Fn=qt[5];Fn!=null&&typeof Fn=="number"&&Fn>0&&(A=1.5*Fn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Qn=u.g;if(Qn){const ls=Qn.g?Qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ls){var P=A.h;P.g||ls.indexOf("spdy")==-1&&ls.indexOf("quic")==-1&&ls.indexOf("h2")==-1||(P.j=P.l,P.g=new Set,P.h&&(el(P,P.h),P.h=null))}if(A.G){const $s=Qn.g?Qn.g.getResponseHeader("X-HTTP-Session-Id"):null;$s&&(A.wa=$s,Qt(A.J,A.G,$s))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var et=u;if(A.na=Fo(A,A.L?A.ba:null,A.W),et.L){nl(A.h,et);var At=et,de=A.O;de&&(At.H=de),At.D&&(si(At),ai(At)),A.g=et}else Bo(A);v.i.length>0&&di(v)}else qt[0]!="stop"&&qt[0]!="close"||mi(v,7);else v.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?mi(v,7):hl(v):qt[0]!="noop"&&v.l&&v.l.qa(qt),v.A=0)}}Wn(4)}catch{}}var Te=class{constructor(u,m){this.g=u,this.map=m}};function Wr(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function tl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function li(u){return u.h?1:u.g?u.g.size:0}function oi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function el(u,m){u.g?u.g.add(m):u.h=m}function nl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Wr.prototype.cancel=function(){if(this.i=il(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function il(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return q(u.i)}var Oo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qs(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const A=u[v].indexOf("=");let z,P=null;A>=0?(z=u[v].substring(0,A),P=u[v].substring(A+1)):z=u[v],m(z,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function dn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof dn?(this.l=u.l,ke(this,u.j),this.o=u.o,this.g=u.g,Wi(this,u.u),this.h=u.h,al(this,Lo(u.i)),this.m=u.m):u&&(m=String(u).match(Oo))?(this.l=!1,ke(this,m[1]||"",!0),this.o=ui(m[2]||""),this.g=ui(m[3]||"",!0),Wi(this,m[4]),this.h=ui(m[5]||"",!0),al(this,m[6]||"",!0),this.m=ui(m[7]||"")):(this.l=!1,this.i=new ea(null,this.l))}dn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(ts(m,Hs,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ts(m,Hs,!0),"@"),u.push(Ci(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(ts(v,v.charAt(0)=="/"?sl:jo,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",ts(v,ko)),u.join("")},dn.prototype.resolve=function(u){const m=be(this);let v=!!u.j;v?ke(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var A=u.h;if(v)Wi(m,u.u);else if(v=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var z=m.h.lastIndexOf("/");z!=-1&&(A=m.h.slice(0,z+1)+A)}if(z=A,z==".."||z==".")A="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){A=z.lastIndexOf("/",0)==0,z=z.split("/");const P=[];for(let et=0;et<z.length;){const At=z[et++];At=="."?A&&et==z.length&&P.push(""):At==".."?((P.length>1||P.length==1&&P[0]!="")&&P.pop(),A&&et==z.length&&P.push("")):(P.push(At),A=!0)}A=P.join("/")}else A=z}return v?m.h=A:v=u.i.toString()!=="",v?al(m,Lo(u.i)):v=!!u.m,v&&(m.m=u.m),m};function be(u){return new dn(u)}function ke(u,m,v){u.j=v?ui(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Wi(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function al(u,m,v){m instanceof ea?(u.i=m,Fs(u.i,u.l)):(v||(m=ts(m,ta)),u.i=new ea(m,u.l))}function Qt(u,m,v){u.i.set(m,v)}function Wa(u){return Qt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ui(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ts(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,nn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function nn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Hs=/[#\/\?@]/g,jo=/[#\?:]/g,sl=/[#\?]/g,ta=/[#\?@]/g,ko=/#/g;function ea(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function an(u){u.g||(u.g=new Map,u.h=0,u.i&&qs(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=ea.prototype,s.add=function(u,m){an(this),this.i=null,u=na(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function zo(u,m){an(u),m=na(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function rl(u,m){return an(u),m=na(u,m),u.g.has(m)}s.forEach=function(u,m){an(this),this.g.forEach(function(v,A){v.forEach(function(z){u.call(m,z,A,this)},this)},this)};function ll(u,m){an(u);let v=[];if(typeof m=="string")rl(u,m)&&(v=v.concat(u.g.get(na(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return an(this),this.i=null,u=na(this,u),rl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=ll(this,u),u.length>0?String(u[0]):m):m};function Gs(u,m,v){zo(u,m),v.length>0&&(u.i=null,u.g.set(na(u,m),q(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var v=m[A];const z=Ci(v);v=ll(this,v);for(let P=0;P<v.length;P++){let et=z;v[P]!==""&&(et+="="+Ci(v[P])),u.push(et)}}return this.i=u.join("&")};function Lo(u){const m=new ea;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function na(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Fs(u,m){m&&!u.j&&(an(u),u.i=null,u.g.forEach(function(v,A){const z=A.toLowerCase();A!=z&&(zo(this,A),Gs(this,z,v))},u)),u.j=m}function qn(u,m){const v=new Un;if(d.Image){const A=new Image;A.onload=b(xn,v,"TestLoadImage: loaded",!0,m,A),A.onerror=b(xn,v,"TestLoadImage: error",!1,m,A),A.onabort=b(xn,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=b(xn,v,"TestLoadImage: timeout",!1,m,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function ol(u,m){const v=new Un,A=new AbortController,z=setTimeout(()=>{A.abort(),xn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(P=>{clearTimeout(z),P.ok?xn(v,"TestPingServer: ok",!0,m):xn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),xn(v,"TestPingServer: error",!1,m)})}function xn(u,m,v,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(v)}catch{}}function ia(){this.g=new wo}function ci(u){this.i=u.Sb||null,this.h=u.ab||!1}S(ci,xo),ci.prototype.g=function(){return new es(this.i,this.h)};function es(u,m){_e.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(es,_e),s=es.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Hn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,aa(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Qs(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Qs(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?aa(this):Hn(this),this.readyState==3&&Qs(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,aa(this))},s.Na=function(u){this.g&&(this.response=u,aa(this))},s.ga=function(){this.g&&aa(this)};function aa(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Hn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Hn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(es.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Cn(u){let m="";return Ut(u,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function ns(u,m,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=Cn(v),typeof u=="string"?v!=null&&Ci(v):Qt(u,m,v))}function Xt(u){_e.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Xt,_e);var hi=/^https?$/i,ul=["POST","PUT"];s=Xt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Jr.g(),this.g.onreadystatechange=N(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(P){is(this,P);return}if(u=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)v.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const P of A.keys())v.set(P,A.get(P));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(P=>P.toLowerCase()=="content-type"),z=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(ul,m,void 0)>=0)||A||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[P,et]of v)this.g.setRequestHeader(P,et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(P){is(this,P)}};function is(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,cl(u),Ri(u)}function cl(u){u.A||(u.A=!0,Ve(u,"complete"),Ve(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ve(this,"complete"),Ve(this,"abort"),Ri(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ri(this,!0)),Xt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?as(this):this.Xa())},s.Xa=function(){as(this)};function as(u){if(u.h&&typeof h<"u"){if(u.v&&Gn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ve(u,"readystatechange"),Gn(u)==4){u.h=!1;try{const P=u.ca();t:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var A;if(A=P===0){let et=String(u.D).match(Oo)[1]||null;!et&&d.self&&d.self.location&&(et=d.self.location.protocol.slice(0,-1)),A=!hi.test(et?et.toLowerCase():"")}v=A}if(v)Ve(u,"complete"),Ve(u,"success");else{u.o=6;try{var z=Gn(u)>2?u.g.statusText:""}catch{z=""}u.l=z+" ["+u.ca()+"]",cl(u)}}finally{Ri(u)}}}}function Ri(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ve(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Gn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Gn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Yc(m)}};function Be(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Di(u){const m={};u=(u.g&&Gn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(R(u[A]))continue;var v=Io(u[A]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const P=m[z]||[];m[z]=P,P.push(v)}Ft(m,function(A){return A.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function fi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function sa(u){this.za=0,this.i=[],this.j=new Un,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=fi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=fi("baseRetryDelayMs",5e3,u),this.Za=fi("retryDelaySeedMs",1e4,u),this.Ta=fi("forwardChannelMaxRetries",2,u),this.va=fi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Wr(u&&u.concurrentRequestLimit),this.Ba=new ia,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=sa.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,A){ve(0),this.W=u,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Fo(this,null,this.W),di(this)};function hl(u){if(Ys(u),u.I==3){var m=u.V++,v=be(u.J);if(Qt(v,"SID",u.M),Qt(v,"RID",m),Qt(v,"TYPE","terminate"),ss(u,v),m=new Bn(u,u.j,m),m.M=2,m.A=Wa(be(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Qo(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ai(m)}Go(u)}function ra(u){u.g&&(dl(u),u.g.cancel(),u.g=null)}function Ys(u){ra(u),u.v&&(d.clearTimeout(u.v),u.v=null),Xs(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function di(u){if(!tl(u.h)&&!u.m){u.m=!0;var m=u.Ea;ct||w(),Y||(ct(),Y=!0),x.add(m,u),u.D=0}}function Ks(u,m){return li(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ei(y(u.Ea,u,m),Ho(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const z=new Bn(this,this.j,u);let P=this.o;if(this.U&&(P?(P=M(P),it(P,this.U)):P=this.U),this.u!==null||this.R||(z.J=P,P=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=Uo(this,z,m),v=be(this.J),Qt(v,"RID",u),Qt(v,"CVER",22),this.G&&Qt(v,"X-HTTP-Session-Id",this.G),ss(this,v),P&&(this.R?m="headers="+Ci(Cn(P))+"&"+m:this.u&&ns(v,this.u,P)),el(this.h,z),this.Ra&&Qt(v,"TYPE","init"),this.S?(Qt(v,"$req",m),Qt(v,"SID","null"),z.U=!0,ii(z,v,null)):ii(z,v,m),this.I=2}}else this.I==3&&(u?fl(this,u):this.i.length==0||tl(this.h)||fl(this))};function fl(u,m){var v;m?v=m.l:v=u.V++;const A=be(u.J);Qt(A,"SID",u.M),Qt(A,"RID",v),Qt(A,"AID",u.K),ss(u,A),u.u&&u.o&&ns(A,u.u,u.o),v=new Bn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Uo(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),el(u.h,v),ii(v,A,m)}function ss(u,m){u.H&&Ut(u.H,function(v,A){Qt(m,A,v)}),u.l&&Ut({},function(v,A){Qt(m,A,v)})}function Uo(u,m,v){v=Math.min(u.i.length,v);const A=u.l?y(u.l.Ka,u.l,u):null;t:{var z=u.i;let At=-1;for(;;){const de=["count="+v];At==-1?v>0?(At=z[0].g,de.push("ofs="+At)):At=0:de.push("ofs="+At);let qt=!0;for(let le=0;le<v;le++){var P=z[le].g;const Rn=z[le].map;if(P-=At,P<0)At=Math.max(0,z[le].g-100),qt=!1;else try{P="req"+P+"_"||"";try{var et=Rn instanceof Map?Rn:Object.entries(Rn);for(const[gi,Fn]of et){let Qn=Fn;g(Fn)&&(Qn=Ji(Fn)),de.push(P+gi+"="+encodeURIComponent(Qn))}}catch(gi){throw de.push(P+"type="+encodeURIComponent("_badmap")),gi}}catch{A&&A(Rn)}}if(qt){et=de.join("&");break t}}et=void 0}return u=u.i.splice(0,v),m.G=u,et}function Bo(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ct||w(),Y||(ct(),Y=!0),x.add(m,u),u.A=0}}function rs(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ei(y(u.Da,u),Ho(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Po(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ei(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ve(10),ra(this),Po(this))};function dl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Po(u){u.g=new Bn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=be(u.na);Qt(m,"RID","rpc"),Qt(m,"SID",u.M),Qt(m,"AID",u.K),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Qt(m,"TO",u.ia),Qt(m,"TYPE","xmlhttp"),ss(u,m),u.u&&u.o&&ns(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Wa(be(m)),v.u=null,v.R=!0,Bs(v,u)}s.Va=function(){this.C!=null&&(this.C=null,ra(this),rs(this),ve(19))};function Xs(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function qo(u,m){var v=null;if(u.g==m){Xs(u),dl(u),u.g=null;var A=2}else if(oi(u.h,m))v=m.G,nl(u.h,m),A=1;else return;if(u.I!=0){if(m.o)if(A==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var z=u.D;A=Us(),Ve(A,new ti(A,v)),di(u)}else Bo(u);else if(z=m.m,z==3||z==0&&m.X>0||!(A==1&&Ks(u,m)||A==2&&rs(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),z){case 1:mi(u,5);break;case 4:mi(u,10);break;case 3:mi(u,6);break;default:mi(u,2)}}}function Ho(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function mi(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),A=u.Ua;const z=!A;A=new dn(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ke(A,"https"),Wa(A),z?qn(A.toString(),v):ol(A.toString(),v)}else ve(2);u.I=0,u.l&&u.l.pa(m),Go(u),Ys(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ve(2)):(this.j.info("Failed to ping google.com"),ve(1))};function Go(u){if(u.I=0,u.ja=[],u.l){const m=il(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,q(u.i),u.i.length=0),u.l.oa()}}function Fo(u,m,v){var A=v instanceof dn?be(v):new dn(v);if(A.g!="")m&&(A.g=m+"."+A.g),Wi(A,A.u);else{var z=d.location;A=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;const P=new dn(null);A&&ke(P,A),m&&(P.g=m),z&&Wi(P,z),v&&(P.h=v),A=P}return v=u.G,m=u.wa,v&&m&&Qt(A,v,m),Qt(A,"VER",u.ka),ss(u,A),A}function Qo(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Xt(new ci({ab:v})):new Xt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yo(){}s=Yo.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function la(){}la.prototype.g=function(u,m){return new We(u,m)};function We(u,m){_e.call(this),this.g=new sa(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ni(this)}S(We,_e),We.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){hl(this.g)},We.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=Ji(u),u=v);m.i.push(new Te(m.Ya++,u)),m.I==3&&di(m)},We.prototype.N=function(){this.g.l=null,delete this.j,hl(this.g),delete this.g,We.Z.N.call(this)};function Ko(u){Ue.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Ko,Ue);function Xo(){Sn.call(this),this.status=1}S(Xo,Sn);function Ni(u){this.g=u}S(Ni,Yo),Ni.prototype.ra=function(){Ve(this.g,"a")},Ni.prototype.qa=function(u){Ve(this.g,new Ko(u))},Ni.prototype.pa=function(u){Ve(this.g,new Xo)},Ni.prototype.oa=function(){Ve(this.g,"b")},la.prototype.createWebChannel=la.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,gv=function(){return new la},mv=function(){return Us()},dv=fe,vd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Za.NO_ERROR=0,Za.TIMEOUT=8,Za.HTTP_ERROR=6,sc=Za,Zr.COMPLETE="complete",fv=Zr,Co.EventType=Ln,Ln.OPEN="a",Ln.CLOSE="b",Ln.ERROR="c",Ln.MESSAGE="d",_e.prototype.listen=_e.prototype.J,Jl=Co,Xt.prototype.listenOnce=Xt.prototype.K,Xt.prototype.getLastError=Xt.prototype.Ha,Xt.prototype.getLastErrorCode=Xt.prototype.ya,Xt.prototype.getStatus=Xt.prototype.ca,Xt.prototype.getResponseJson=Xt.prototype.La,Xt.prototype.getResponseText=Xt.prototype.la,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Fa,hv=Xt}).apply(typeof tc<"u"?tc:typeof self<"u"?self:typeof window<"u"?window:{});const D0="@firebase/firestore",N0="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pr="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds=new Qd("@firebase/firestore");function Cr(){return Ds.logLevel}function st(s,...e){if(Ds.logLevel<=Lt.DEBUG){const i=e.map(Kd);Ds.debug(`Firestore (${Pr}): ${s}`,...i)}}function Xi(s,...e){if(Ds.logLevel<=Lt.ERROR){const i=e.map(Kd);Ds.error(`Firestore (${Pr}): ${s}`,...i)}}function Or(s,...e){if(Ds.logLevel<=Lt.WARN){const i=e.map(Kd);Ds.warn(`Firestore (${Pr}): ${s}`,...i)}}function Kd(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,pv(s,r,i)}function pv(s,e,i){let r=`FIRESTORE (${Pr}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Xi(r),new Error(r)}function Gt(s,e,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,s||pv(e,o,r)}function bt(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends Ha{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class KA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i($e.UNAUTHENTICATED)))}shutdown(){}}class XA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class $A{constructor(e){this.t=e,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Gt(this.o===void 0,42304);let r=this.i;const o=_=>this.i!==r?(r=this.i,i(_)):Promise.resolve();let h=new Cs;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Cs,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const _=h;e.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},g=_=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Cs)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Gt(typeof r.accessToken=="string",31837,{l:r}),new yv(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Gt(e===null||typeof e=="string",2055,{h:e}),new $e(e)}}class ZA{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class JA{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new ZA(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i($e.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class I0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WA{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,VA(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Gt(this.o===void 0,3512);const r=h=>{h.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>r(h)))};const o=h=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new I0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Gt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new I0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=tS(40);for(let h=0;h<o.length;++h)r.length<20&&o[h]<i&&(r+=e.charAt(o[h]%62))}return r}}function Vt(s,e){return s<e?-1:s>e?1:0}function Ed(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const o=s.charAt(r),h=e.charAt(r);if(o!==h)return id(o)===id(h)?Vt(o,h):id(o)?1:-1}return Vt(s.length,e.length)}const eS=55296,nS=57343;function id(s){const e=s.charCodeAt(0);return e>=eS&&e<=nS}function jr(s,e,i){return s.length===e.length&&s.every(((r,o)=>i(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0="__name__";class Ei{constructor(e,i,r){i===void 0?i=0:i>e.length&&yt(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&yt(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return Ei.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Ei?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let o=0;o<r;o++){const h=Ei.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Vt(e.length,i.length)}static compareSegments(e,i){const r=Ei.isNumericId(e),o=Ei.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?Ei.extractNumericId(e).compare(Ei.extractNumericId(i)):Ed(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Oa.fromString(e.substring(4,e.length-2))}}class ee extends Ei{construct(e,i,r){return new ee(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new at($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new ee(i)}static emptyPath(){return new ee([])}}const iS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends Ei{construct(e,i,r){return new Qe(e,i,r)}static isValidIdentifier(e){return iS.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===V0}static keyField(){return new Qe([V0])}static fromServerFormat(e){const i=[];let r="",o=0;const h=()=>{if(r.length===0)throw new at($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new at($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new at($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(r+=g,o++):(h(),o++)}if(h(),d)throw new at($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qe(i)}static emptyPath(){return new Qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.path=e}static fromPath(e){return new ft(ee.fromString(e))}static fromName(e){return new ft(ee.fromString(e).popFirst(5))}static empty(){return new ft(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ee.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ee.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ft(new ee(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(s,e,i){if(!i)throw new at($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function aS(s,e,i,r){if(e===!0&&r===!0)throw new at($.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function M0(s){if(!ft.isDocumentKey(s))throw new at($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function O0(s){if(ft.isDocumentKey(s))throw new at($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function vv(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Dc(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":yt(12329,{type:typeof s})}function Qi(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new at($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Dc(s);throw new at($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(s,e){const i={typeString:s};return e&&(i.value=e),i}function _o(s,e){if(!vv(s))throw new at($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const o=e[r].typeString,h="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(o&&typeof d!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${r}' field to equal '${h.value}'`;break}}if(i)throw new at($.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0=-62135596800,k0=1e6;class ae{static now(){return ae.fromMillis(Date.now())}static fromDate(e){return ae.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*k0);return new ae(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new at($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new at($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<j0)throw new at($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new at($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/k0}_compareTo(e){return this.seconds===e.seconds?Vt(this.nanoseconds,e.nanoseconds):Vt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ae._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(_o(e,ae._jsonSchema))return new ae(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-j0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ae._jsonSchemaVersion="firestore/timestamp/1.0",ae._jsonSchema={type:De("string",ae._jsonSchemaVersion),seconds:De("number"),nanoseconds:De("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{static fromTimestamp(e){return new vt(e)}static min(){return new vt(new ae(0,0))}static max(){return new vt(new ae(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo=-1;function sS(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=vt.fromTimestamp(r===1e9?new ae(i+1,0):new ae(i,r));return new za(o,ft.empty(),e)}function rS(s){return new za(s.readTime,s.key,uo)}class za{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new za(vt.min(),ft.empty(),uo)}static max(){return new za(vt.max(),ft.empty(),uo)}}function lS(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ft.comparator(s.documentKey,e.documentKey),i!==0?i:Vt(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qr(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==oS)throw s;st("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z(((r,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(r,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(r,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.reject(i)}static resolve(e){return new Z(((i,r)=>{i(e)}))}static reject(e){return new Z(((i,r)=>{r(e)}))}static waitFor(e){return new Z(((i,r)=>{let o=0,h=0,d=!1;e.forEach((g=>{++o,g.next((()=>{++h,d&&h===o&&i()}),(_=>r(_)))})),d=!0,h===o&&i()}))}static or(e){let i=Z.resolve(!1);for(const r of e)i=i.next((o=>o?Z.resolve(o):r()));return i}static forEach(e,i){const r=[];return e.forEach(((o,h)=>{r.push(i.call(this,o,h))})),this.waitFor(r)}static mapArray(e,i){return new Z(((r,o)=>{const h=e.length,d=new Array(h);let g=0;for(let _=0;_<h;_++){const y=_;i(e[y]).next((b=>{d[y]=b,++g,g===h&&r(d)}),(b=>o(b)))}}))}static doWhile(e,i){return new Z(((r,o)=>{const h=()=>{e()===!0?i().next((()=>{h()}),o):r()};h()}))}}function cS(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Hr(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Nc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d=-1;function Ic(s){return s==null}function gc(s){return s===0&&1/s==-1/0}function hS(s){return typeof s=="number"&&Number.isInteger(s)&&!gc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev="";function fS(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=z0(e)),e=dS(s.get(i),e);return z0(e)}function dS(s,e){let i=e;const r=s.length;for(let o=0;o<r;o++){const h=s.charAt(o);switch(h){case"\0":i+="";break;case Ev:i+="";break;default:i+=h}}return i}function z0(s){return s+Ev+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Ga(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function Tv(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e,i){this.comparator=e,this.root=i||Fe.EMPTY}insert(e,i){return new ue(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Fe.BLACK,null,null))}remove(e){return new ue(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fe.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ec(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ec(this.root,e,this.comparator,!1)}getReverseIterator(){return new ec(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ec(this.root,e,this.comparator,!0)}}class ec{constructor(e,i,r,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?r(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Fe{constructor(e,i,r,o,h){this.key=e,this.value=i,this.color=r??Fe.RED,this.left=o??Fe.EMPTY,this.right=h??Fe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,o,h){return new Fe(e??this.key,i??this.value,r??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const h=r(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,r),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Fe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Fe.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw yt(27949);return e+(this.isRed()?0:1)}}Fe.EMPTY=null,Fe.RED=!0,Fe.BLACK=!1;Fe.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(e,i,r,o,h){return this}insert(e,i,r){return new Fe(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e){this.comparator=e,this.data=new ue(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new U0(this.data.getIterator())}getIteratorFrom(e){return new U0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Oe)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Oe(this.comparator);return i.data=e,i}}class U0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.fields=e,e.sort(Qe.comparator)}static empty(){return new Tn([])}unionWith(e){let i=new Oe(Qe.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new Tn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return jr(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new bv("Invalid base64 string: "+h):h}})(e);return new Ye(i)}static fromUint8Array(e){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(e);return new Ye(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Vt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ye.EMPTY_BYTE_STRING=new Ye("");const mS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function La(s){if(Gt(!!s,39018),typeof s=="string"){let e=0;const i=mS.exec(s);if(Gt(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:pe(s.seconds),nanos:pe(s.nanos)}}function pe(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Ua(s){return typeof s=="string"?Ye.fromBase64String(s):Ye.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av="server_timestamp",Sv="__type__",wv="__previous_value__",xv="__local_write_time__";function Zd(s){var i,r;return((r=(((i=s==null?void 0:s.mapValue)==null?void 0:i.fields)||{})[Sv])==null?void 0:r.stringValue)===Av}function Vc(s){const e=s.mapValue.fields[wv];return Zd(e)?Vc(e):e}function co(s){const e=La(s.mapValue.fields[xv].timestampValue);return new ae(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e,i,r,o,h,d,g,_,y,b){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=b}}const pc="(default)";class ho{constructor(e,i){this.projectId=e,this.database=i||pc}static empty(){return new ho("","")}get isDefaultDatabase(){return this.database===pc}isEqual(e){return e instanceof ho&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv="__type__",pS="__max__",nc={mapValue:{}},Rv="__vector__",yc="value";function Ba(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Zd(s)?4:_S(s)?9007199254740991:yS(s)?10:11:yt(28295,{value:s})}function xi(s,e){if(s===e)return!0;const i=Ba(s);if(i!==Ba(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return co(s).isEqual(co(e));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=La(o.timestampValue),g=La(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,h){return Ua(o.bytesValue).isEqual(Ua(h.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,h){return pe(o.geoPointValue.latitude)===pe(h.geoPointValue.latitude)&&pe(o.geoPointValue.longitude)===pe(h.geoPointValue.longitude)})(s,e);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return pe(o.integerValue)===pe(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=pe(o.doubleValue),g=pe(h.doubleValue);return d===g?gc(d)===gc(g):isNaN(d)&&isNaN(g)}return!1})(s,e);case 9:return jr(s.arrayValue.values||[],e.arrayValue.values||[],xi);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},g=h.mapValue.fields||{};if(L0(d)!==L0(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!xi(d[_],g[_])))return!1;return!0})(s,e);default:return yt(52216,{left:s})}}function fo(s,e){return(s.values||[]).find((i=>xi(i,e)))!==void 0}function kr(s,e){if(s===e)return 0;const i=Ba(s),r=Ba(e);if(i!==r)return Vt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Vt(s.booleanValue,e.booleanValue);case 2:return(function(h,d){const g=pe(h.integerValue||h.doubleValue),_=pe(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(s,e);case 3:return B0(s.timestampValue,e.timestampValue);case 4:return B0(co(s),co(e));case 5:return Ed(s.stringValue,e.stringValue);case 6:return(function(h,d){const g=Ua(h),_=Ua(d);return g.compareTo(_)})(s.bytesValue,e.bytesValue);case 7:return(function(h,d){const g=h.split("/"),_=d.split("/");for(let y=0;y<g.length&&y<_.length;y++){const b=Vt(g[y],_[y]);if(b!==0)return b}return Vt(g.length,_.length)})(s.referenceValue,e.referenceValue);case 8:return(function(h,d){const g=Vt(pe(h.latitude),pe(d.latitude));return g!==0?g:Vt(pe(h.longitude),pe(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return P0(s.arrayValue,e.arrayValue);case 10:return(function(h,d){var N,q,W,tt;const g=h.fields||{},_=d.fields||{},y=(N=g[yc])==null?void 0:N.arrayValue,b=(q=_[yc])==null?void 0:q.arrayValue,S=Vt(((W=y==null?void 0:y.values)==null?void 0:W.length)||0,((tt=b==null?void 0:b.values)==null?void 0:tt.length)||0);return S!==0?S:P0(y,b)})(s.mapValue,e.mapValue);case 11:return(function(h,d){if(h===nc.mapValue&&d===nc.mapValue)return 0;if(h===nc.mapValue)return 1;if(d===nc.mapValue)return-1;const g=h.fields||{},_=Object.keys(g),y=d.fields||{},b=Object.keys(y);_.sort(),b.sort();for(let S=0;S<_.length&&S<b.length;++S){const N=Ed(_[S],b[S]);if(N!==0)return N;const q=kr(g[_[S]],y[b[S]]);if(q!==0)return q}return Vt(_.length,b.length)})(s.mapValue,e.mapValue);default:throw yt(23264,{he:i})}}function B0(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Vt(s,e);const i=La(s),r=La(e),o=Vt(i.seconds,r.seconds);return o!==0?o:Vt(i.nanos,r.nanos)}function P0(s,e){const i=s.values||[],r=e.values||[];for(let o=0;o<i.length&&o<r.length;++o){const h=kr(i[o],r[o]);if(h)return h}return Vt(i.length,r.length)}function zr(s){return Td(s)}function Td(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=La(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Ua(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ft.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",o=!0;for(const h of i.values||[])o?o=!1:r+=",",r+=Td(h);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of r)h?h=!1:o+=",",o+=`${d}:${Td(i.fields[d])}`;return o+"}"})(s.mapValue):yt(61005,{value:s})}function rc(s){switch(Ba(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Vc(s);return e?16+rc(e):16;case 5:return 2*s.stringValue.length;case 6:return Ua(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,h)=>o+rc(h)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return Ga(r.fields,((h,d)=>{o+=h.length+rc(d)})),o})(s.mapValue);default:throw yt(13486,{value:s})}}function q0(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function bd(s){return!!s&&"integerValue"in s}function Jd(s){return!!s&&"arrayValue"in s}function H0(s){return!!s&&"nullValue"in s}function G0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function lc(s){return!!s&&"mapValue"in s}function yS(s){var i,r;return((r=(((i=s==null?void 0:s.mapValue)==null?void 0:i.fields)||{})[Cv])==null?void 0:r.stringValue)===Rv}function io(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Ga(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=io(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=io(s.arrayValue.values[i]);return e}return{...s}}function _S(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===pS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.value=e}static empty(){return new hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!lc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=io(i)}setAll(e){let i=Qe.emptyPath(),r={},o=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,r,o),r={},o=[],i=g.popLast()}d?r[g.lastSegment()]=io(d):o.push(g.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,r,o)}delete(e){const i=this.field(e.popLast());lc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return xi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=i.mapValue.fields[e.get(r)];lc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,r){Ga(i,((o,h)=>e[o]=h));for(const o of r)delete e[o]}clone(){return new hn(io(this.value))}}function Dv(s){const e=[];return Ga(s.fields,((i,r)=>{const o=new Qe([i]);if(lc(r)){const h=Dv(r.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)})),new Tn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e,i,r,o,h,d,g){this.key=e,this.documentType=i,this.version=r,this.readTime=o,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Ze(e,0,vt.min(),vt.min(),vt.min(),hn.empty(),0)}static newFoundDocument(e,i,r,o){return new Ze(e,1,i,vt.min(),r,o,0)}static newNoDocument(e,i){return new Ze(e,2,i,vt.min(),vt.min(),hn.empty(),0)}static newUnknownDocument(e,i){return new Ze(e,3,i,vt.min(),vt.min(),hn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ze&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,i){this.position=e,this.inclusive=i}}function F0(s,e,i){let r=0;for(let o=0;o<s.position.length;o++){const h=e[o],d=s.position[o];if(h.field.isKeyField()?r=ft.comparator(ft.fromName(d.referenceValue),i.key):r=kr(d,i.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function Q0(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!xi(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e,i="asc"){this.field=e,this.dir=i}}function vS(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{}class Re extends Nv{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new TS(e,i,r):i==="array-contains"?new SS(e,r):i==="in"?new wS(e,r):i==="not-in"?new xS(e,r):i==="array-contains-any"?new CS(e,r):new Re(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new bS(e,r):new AS(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(kr(i,this.value)):i!==null&&Ba(this.value)===Ba(i)&&this.matchesComparison(kr(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zn extends Nv{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Zn(e,i)}matches(e){return Iv(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Iv(s){return s.op==="and"}function Vv(s){return ES(s)&&Iv(s)}function ES(s){for(const e of s.filters)if(e instanceof Zn)return!1;return!0}function Ad(s){if(s instanceof Re)return s.field.canonicalString()+s.op.toString()+zr(s.value);if(Vv(s))return s.filters.map((e=>Ad(e))).join(",");{const e=s.filters.map((i=>Ad(i))).join(",");return`${s.op}(${e})`}}function Mv(s,e){return s instanceof Re?(function(r,o){return o instanceof Re&&r.op===o.op&&r.field.isEqual(o.field)&&xi(r.value,o.value)})(s,e):s instanceof Zn?(function(r,o){return o instanceof Zn&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((h,d,g)=>h&&Mv(d,o.filters[g])),!0):!1})(s,e):void yt(19439)}function Ov(s){return s instanceof Re?(function(i){return`${i.field.canonicalString()} ${i.op} ${zr(i.value)}`})(s):s instanceof Zn?(function(i){return i.op.toString()+" {"+i.getFilters().map(Ov).join(" ,")+"}"})(s):"Filter"}class TS extends Re{constructor(e,i,r){super(e,i,r),this.key=ft.fromName(r.referenceValue)}matches(e){const i=ft.comparator(e.key,this.key);return this.matchesComparison(i)}}class bS extends Re{constructor(e,i){super(e,"in",i),this.keys=jv("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class AS extends Re{constructor(e,i){super(e,"not-in",i),this.keys=jv("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function jv(s,e){var i;return(((i=e.arrayValue)==null?void 0:i.values)||[]).map((r=>ft.fromName(r.referenceValue)))}class SS extends Re{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Jd(i)&&fo(i.arrayValue,this.value)}}class wS extends Re{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&fo(this.value.arrayValue,i)}}class xS extends Re{constructor(e,i){super(e,"not-in",i)}matches(e){if(fo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!fo(this.value.arrayValue,i)}}class CS extends Re{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Jd(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>fo(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e,i=null,r=[],o=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=h,this.startAt=d,this.endAt=g,this.Te=null}}function Y0(s,e=null,i=[],r=[],o=null,h=null,d=null){return new RS(s,e,i,r,o,h,d)}function Wd(s){const e=bt(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>Ad(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(h){return h.field.canonicalString()+h.dir})(r))).join(","),Ic(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>zr(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>zr(r))).join(",")),e.Te=i}return e.Te}function tm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!vS(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!Mv(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Q0(s.startAt,e.startAt)&&Q0(s.endAt,e.endAt)}function Sd(s){return ft.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e,i=null,r=[],o=[],h=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function DS(s,e,i,r,o,h,d,g){return new Gr(s,e,i,r,o,h,d,g)}function em(s){return new Gr(s)}function K0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function kv(s){return s.collectionGroup!==null}function ao(s){const e=bt(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Oe(Qe.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new mo(h,r))})),i.has(Qe.keyField().canonicalString())||e.Ie.push(new mo(Qe.keyField(),r))}return e.Ie}function bi(s){const e=bt(s);return e.Ee||(e.Ee=NS(e,ao(s))),e.Ee}function NS(s,e){if(s.limitType==="F")return Y0(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new mo(o.field,h)}));const i=s.endAt?new _c(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new _c(s.startAt.position,s.startAt.inclusive):null;return Y0(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function wd(s,e){const i=s.filters.concat([e]);return new Gr(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function xd(s,e,i){return new Gr(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Mc(s,e){return tm(bi(s),bi(e))&&s.limitType===e.limitType}function zv(s){return`${Wd(bi(s))}|lt:${s.limitType}`}function Rr(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>Ov(o))).join(", ")}]`),Ic(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>zr(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>zr(o))).join(",")),`Target(${r})`})(bi(s))}; limitType=${s.limitType})`}function Oc(s,e){return e.isFoundDocument()&&(function(r,o){const h=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):ft.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)})(s,e)&&(function(r,o){for(const h of ao(r))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const h of r.filters)if(!h.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(d,g,_){const y=F0(d,g,_);return d.inclusive?y<=0:y<0})(r.startAt,ao(r),o)||r.endAt&&!(function(d,g,_){const y=F0(d,g,_);return d.inclusive?y>=0:y>0})(r.endAt,ao(r),o))})(s,e)}function IS(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Lv(s){return(e,i)=>{let r=!1;for(const o of ao(s)){const h=VS(o,e,i);if(h!==0)return h;r=r||o.field.isKeyField()}return 0}}function VS(s,e,i){const r=s.field.isKeyField()?ft.comparator(e.key,i.key):(function(h,d,g){const _=d.data.field(h),y=g.data.field(h);return _!==null&&y!==null?kr(_,y):yt(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return yt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[o,h]of r)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ga(this.inner,((i,r)=>{for(const[o,h]of r)e(o,h)}))}isEmpty(){return Tv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS=new ue(ft.comparator);function $i(){return MS}const Uv=new ue(ft.comparator);function Wl(...s){let e=Uv;for(const i of s)e=e.insert(i.key,i);return e}function Bv(s){let e=Uv;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function Ss(){return so()}function Pv(){return so()}function so(){return new Ms((s=>s.toString()),((s,e)=>s.isEqual(e)))}const OS=new ue(ft.comparator),jS=new Oe(ft.comparator);function Mt(...s){let e=jS;for(const i of s)e=e.add(i);return e}const kS=new Oe(Vt);function zS(){return kS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gc(e)?"-0":e}}function qv(s){return{integerValue:""+s}}function LS(s,e){return hS(e)?qv(e):nm(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(){this._=void 0}}function US(s,e,i){return s instanceof vc?(function(o,h){const d={fields:{[Sv]:{stringValue:Av},[xv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&Zd(h)&&(h=Vc(h)),h&&(d.fields[wv]=h),{mapValue:d}})(i,e):s instanceof go?Gv(s,e):s instanceof po?Fv(s,e):(function(o,h){const d=Hv(o,h),g=X0(d)+X0(o.Ae);return bd(d)&&bd(o.Ae)?qv(g):nm(o.serializer,g)})(s,e)}function BS(s,e,i){return s instanceof go?Gv(s,e):s instanceof po?Fv(s,e):i}function Hv(s,e){return s instanceof Ec?(function(r){return bd(r)||(function(h){return!!h&&"doubleValue"in h})(r)})(e)?e:{integerValue:0}:null}class vc extends jc{}class go extends jc{constructor(e){super(),this.elements=e}}function Gv(s,e){const i=Qv(e);for(const r of s.elements)i.some((o=>xi(o,r)))||i.push(r);return{arrayValue:{values:i}}}class po extends jc{constructor(e){super(),this.elements=e}}function Fv(s,e){let i=Qv(e);for(const r of s.elements)i=i.filter((o=>!xi(o,r)));return{arrayValue:{values:i}}}class Ec extends jc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function X0(s){return pe(s.integerValue||s.doubleValue)}function Qv(s){return Jd(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function PS(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof go&&o instanceof go||r instanceof po&&o instanceof po?jr(r.elements,o.elements,xi):r instanceof Ec&&o instanceof Ec?xi(r.Ae,o.Ae):r instanceof vc&&o instanceof vc})(s.transform,e.transform)}class qS{constructor(e,i){this.version=e,this.transformResults=i}}class $n{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new $n}static exists(e){return new $n(void 0,e)}static updateTime(e){return new $n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function oc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class kc{}function Yv(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new im(s.key,$n.none()):new vo(s.key,s.data,$n.none());{const i=s.data,r=hn.empty();let o=new Oe(Qe.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?r.delete(h):r.set(h,d),o=o.add(h)}return new Fa(s.key,r,new Tn(o.toArray()),$n.none())}}function HS(s,e,i){s instanceof vo?(function(o,h,d){const g=o.value.clone(),_=Z0(o.fieldTransforms,h,d.transformResults);g.setAll(_),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,i):s instanceof Fa?(function(o,h,d){if(!oc(o.precondition,h))return void h.convertToUnknownDocument(d.version);const g=Z0(o.fieldTransforms,h,d.transformResults),_=h.data;_.setAll(Kv(o)),_.setAll(g),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,e,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function ro(s,e,i,r){return s instanceof vo?(function(h,d,g,_){if(!oc(h.precondition,d))return g;const y=h.value.clone(),b=J0(h.fieldTransforms,_,d);return y.setAll(b),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,e,i,r):s instanceof Fa?(function(h,d,g,_){if(!oc(h.precondition,d))return g;const y=J0(h.fieldTransforms,_,d),b=d.data;return b.setAll(Kv(h)),b.setAll(y),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((S=>S.field)))})(s,e,i,r):(function(h,d,g){return oc(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,e,i)}function GS(s,e){let i=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),h=Hv(r.transform,o||null);h!=null&&(i===null&&(i=hn.empty()),i.set(r.field,h))}return i||null}function $0(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&jr(r,o,((h,d)=>PS(h,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class vo extends kc{constructor(e,i,r,o=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Fa extends kc{constructor(e,i,r,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Kv(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function Z0(s,e,i){const r=new Map;Gt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let o=0;o<i.length;o++){const h=s[o],d=h.transform,g=e.data.field(h.field);r.set(h.field,BS(d,g,i[o]))}return r}function J0(s,e,i){const r=new Map;for(const o of s){const h=o.transform,d=i.data.field(o.field);r.set(o.field,US(h,d,e))}return r}class im extends kc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FS extends kc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e,i,r,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&HS(h,e,r[o])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=ro(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=ro(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=Pv();return this.mutations.forEach((o=>{const h=e.get(o.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(o.key)?null:g;const _=Yv(d,g);_!==null&&r.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(vt.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Mt())}isEqual(e){return this.batchId===e.batchId&&jr(this.mutations,e.mutations,((i,r)=>$0(i,r)))&&jr(this.baseMutations,e.baseMutations,((i,r)=>$0(i,r)))}}class am{constructor(e,i,r,o){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(e,i,r){Gt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return OS})();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,r[d].version);return new am(e,i,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce,zt;function XS(s){switch(s){case $.OK:return yt(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return yt(15467,{code:s})}}function Xv(s){if(s===void 0)return Xi("GRPC error has no .code"),$.UNKNOWN;switch(s){case Ce.OK:return $.OK;case Ce.CANCELLED:return $.CANCELLED;case Ce.UNKNOWN:return $.UNKNOWN;case Ce.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Ce.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Ce.INTERNAL:return $.INTERNAL;case Ce.UNAVAILABLE:return $.UNAVAILABLE;case Ce.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Ce.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Ce.NOT_FOUND:return $.NOT_FOUND;case Ce.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Ce.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Ce.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Ce.ABORTED:return $.ABORTED;case Ce.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Ce.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Ce.DATA_LOSS:return $.DATA_LOSS;default:return yt(39323,{code:s})}}(zt=Ce||(Ce={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS=new Oa([4294967295,4294967295],0);function W0(s){const e=$S().encode(s),i=new cv;return i.update(e),new Uint8Array(i.digest())}function t_(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Oa([i,r],0),new Oa([o,h],0)]}class sm{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new to(`Invalid padding: ${i}`);if(r<0)throw new to(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new to(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new to(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Oa.fromNumber(this.ge)}ye(e,i,r){let o=e.add(i.multiply(Oa.fromNumber(r)));return o.compare(ZS)===1&&(o=new Oa([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=W0(e),[r,o]=t_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);if(!this.we(d))return!1}return!0}static create(e,i,r){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new sm(h,o,i);return r.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=W0(e),[r,o]=t_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class to extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,i,r,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const o=new Map;return o.set(e,Eo.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new zc(vt.min(),o,new ue(Vt),$i(),Mt())}}class Eo{constructor(e,i,r,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new Eo(r,i,Mt(),Mt(),Mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,i,r,o){this.be=e,this.removedTargetIds=i,this.key=r,this.De=o}}class $v{constructor(e,i){this.targetId=e,this.Ce=i}}class Zv{constructor(e,i,r=Ye.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=o}}class e_{constructor(){this.ve=0,this.Fe=n_(),this.Me=Ye.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Mt(),i=Mt(),r=Mt();return this.Fe.forEach(((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:yt(38017,{changeType:h})}})),new Eo(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=n_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Gt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class JS{constructor(e){this.Ge=e,this.ze=new Map,this.je=$i(),this.Je=ic(),this.He=ic(),this.Ye=new ue(Vt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:yt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,r=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if(Sd(h))if(r===0){const d=new ft(h.path);this.et(i,d,Ze.newNoDocument(d,vt.min()))}else Gt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const g=this.ut(e),_=g?this.ct(g,e,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:h=0}=i;let d,g;try{d=Ua(r).toUint8Array()}catch(_){if(_ instanceof bv)return Or("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new sm(d,o,h)}catch(_){return Or(_ instanceof to?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((h=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.et(i,h,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const g=this.ot(d);if(g){if(h.current&&Sd(g.target)){const _=new ft(g.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Ze.newNoDocument(_,e))}h.Be&&(i.set(d,h.ke()),h.qe())}}));let r=Mt();this.He.forEach(((h,d)=>{let g=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const o=new zc(e,i,this.Ye,this.je,r);return this.je=$i(),this.Je=ic(),this.He=ic(),this.Ye=new ue(Vt),o}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new e_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Oe(Vt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Oe(Vt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||st("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new e_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function ic(){return new ue(ft.comparator)}function n_(){return new ue(ft.comparator)}const WS={asc:"ASCENDING",desc:"DESCENDING"},tw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ew={and:"AND",or:"OR"};class nw{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Cd(s,e){return s.useProto3Json||Ic(e)?e:{value:e}}function Tc(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Jv(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function iw(s,e){return Tc(s,e.toTimestamp())}function Ai(s){return Gt(!!s,49232),vt.fromTimestamp((function(i){const r=La(i);return new ae(r.seconds,r.nanos)})(s))}function rm(s,e){return Rd(s,e).canonicalString()}function Rd(s,e){const i=(function(o){return new ee(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function Wv(s){const e=ee.fromString(s);return Gt(a1(e),10190,{key:e.toString()}),e}function Dd(s,e){return rm(s.databaseId,e.path)}function ad(s,e){const i=Wv(e);if(i.get(1)!==s.databaseId.projectId)throw new at($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new at($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ft(e1(i))}function t1(s,e){return rm(s.databaseId,e)}function aw(s){const e=Wv(s);return e.length===4?ee.emptyPath():e1(e)}function Nd(s){return new ee(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function e1(s){return Gt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function i_(s,e,i){return{name:Dd(s,e),fields:i.value.mapValue.fields}}function sw(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:yt(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=(function(y,b){return y.useProto3Json?(Gt(b===void 0||typeof b=="string",58123),Ye.fromBase64String(b||"")):(Gt(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Ye.fromUint8Array(b||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(y){const b=y.code===void 0?$.UNKNOWN:Xv(y.code);return new at(b,y.message||"")})(d);i=new Zv(r,o,h,g||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=ad(s,r.document.name),h=Ai(r.document.updateTime),d=r.document.createTime?Ai(r.document.createTime):vt.min(),g=new hn({mapValue:{fields:r.document.fields}}),_=Ze.newFoundDocument(o,h,d,g),y=r.targetIds||[],b=r.removedTargetIds||[];i=new uc(y,b,_.key,_)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=ad(s,r.document),h=r.readTime?Ai(r.readTime):vt.min(),d=Ze.newNoDocument(o,h),g=r.removedTargetIds||[];i=new uc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=ad(s,r.document),h=r.removedTargetIds||[];i=new uc([],h,o,null)}else{if(!("filter"in e))return yt(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:h}=r,d=new KS(o,h),g=r.targetId;i=new $v(g,d)}}return i}function rw(s,e){let i;if(e instanceof vo)i={update:i_(s,e.key,e.value)};else if(e instanceof im)i={delete:Dd(s,e.key)};else if(e instanceof Fa)i={update:i_(s,e.key,e.data),updateMask:gw(e.fieldMask)};else{if(!(e instanceof FS))return yt(16599,{Vt:e.type});i={verify:Dd(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(h,d){const g=d.transform;if(g instanceof vc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof go)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof po)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Ec)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw yt(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(o,h){return h.updateTime!==void 0?{updateTime:iw(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:yt(27497)})(s,e.precondition)),i}function lw(s,e){return s&&s.length>0?(Gt(e!==void 0,14353),s.map((i=>(function(o,h){let d=o.updateTime?Ai(o.updateTime):Ai(h);return d.isEqual(vt.min())&&(d=Ai(h)),new qS(d,o.transformResults||[])})(i,e)))):[]}function ow(s,e){return{documents:[t1(s,e.path)]}}function uw(s,e){const i={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=t1(s,o);const h=(function(y){if(y.length!==0)return i1(Zn.create(y,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(y){if(y.length!==0)return y.map((b=>(function(N){return{field:Dr(N.field),direction:fw(N.dir)}})(b)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Cd(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:o}}function cw(s){let e=aw(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){Gt(r===1,65062);const b=i.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let h=[];i.where&&(h=(function(S){const N=n1(S);return N instanceof Zn&&Vv(N)?N.getFilters():[N]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((N=>(function(W){return new mo(Nr(W.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(N)))})(i.orderBy));let g=null;i.limit&&(g=(function(S){let N;return N=typeof S=="object"?S.value:S,Ic(N)?null:N})(i.limit));let _=null;i.startAt&&(_=(function(S){const N=!!S.before,q=S.values||[];return new _c(q,N)})(i.startAt));let y=null;return i.endAt&&(y=(function(S){const N=!S.before,q=S.values||[];return new _c(q,N)})(i.endAt)),DS(e,o,d,h,g,"F",_,y)}function hw(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function n1(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Nr(i.unaryFilter.field);return Re.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Nr(i.unaryFilter.field);return Re.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Nr(i.unaryFilter.field);return Re.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Nr(i.unaryFilter.field);return Re.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Re.create(Nr(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Zn.create(i.compositeFilter.filters.map((r=>n1(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return yt(1026)}})(i.compositeFilter.op))})(s):yt(30097,{filter:s})}function fw(s){return WS[s]}function dw(s){return tw[s]}function mw(s){return ew[s]}function Dr(s){return{fieldPath:s.canonicalString()}}function Nr(s){return Qe.fromServerFormat(s.fieldPath)}function i1(s){return s instanceof Re?(function(i){if(i.op==="=="){if(G0(i.value))return{unaryFilter:{field:Dr(i.field),op:"IS_NAN"}};if(H0(i.value))return{unaryFilter:{field:Dr(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(G0(i.value))return{unaryFilter:{field:Dr(i.field),op:"IS_NOT_NAN"}};if(H0(i.value))return{unaryFilter:{field:Dr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Dr(i.field),op:dw(i.op),value:i.value}}})(s):s instanceof Zn?(function(i){const r=i.getFilters().map((o=>i1(o)));return r.length===1?r[0]:{compositeFilter:{op:mw(i.op),filters:r}}})(s):yt(54877,{filter:s})}function gw(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function a1(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,i,r,o,h=vt.min(),d=vt.min(),g=Ye.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new Ia(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Ia(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ia(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ia(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e){this.yt=e}}function yw(s){const e=cw({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?xd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(){this.Cn=new vw}addToCollectionParentIndex(e,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(za.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(za.min())}updateCollectionGroup(e,i,r){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class vw{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i]||new Oe(ee.comparator),h=!o.has(r);return this.index[i]=o.add(r),h}has(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Oe(ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},s1=41943040;class cn{static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(s1,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Lr(0)}static cr(){return new Lr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_="LruGarbageCollector",Ew=1048576;function r_([s,e],[i,r]){const o=Vt(s,i);return o===0?Vt(e,r):o}class Tw{constructor(e){this.Ir=e,this.buffer=new Oe(r_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();r_(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class bw{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){st(s_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Hr(i)?st(s_,"Ignoring IndexedDB error during garbage collection: ",i):await qr(i)}await this.Vr(3e5)}))}}class Aw{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(Nc.ce);const r=new Tw(i);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(a_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),a_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,o,h,d,g,_,y;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(r=S,g=Date.now(),this.removeTargets(e,r,i)))).next((S=>(h=S,_=Date.now(),this.removeOrphanedDocuments(e,r)))).next((S=>(y=Date.now(),Cr()<=Lt.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${h} targets in `+(_-g)+`ms
	Removed ${S} documents in `+(y-_)+`ms
Total Duration: ${y-b}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:S}))))}}function Sw(s,e){return new Aw(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(){this.changes=new Ms((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ze.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?Z.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e,i,r,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(r!==null&&ro(r.mutation,o,Tn.empty(),ae.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Mt()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Mt()){const o=Ss();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,r).next((h=>{let d=Wl();return h.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=Ss();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Mt())))}populateOverlays(e,i,r){const o=[];return r.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(e,o).next((h=>{h.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,r,o){let h=$i();const d=so(),g=(function(){return so()})();return i.forEach(((_,y)=>{const b=r.get(y.key);o.has(y.key)&&(b===void 0||b.mutation instanceof Fa)?h=h.insert(y.key,y):b!==void 0?(d.set(y.key,b.mutation.getFieldMask()),ro(b.mutation,y,b.mutation.getFieldMask(),ae.now())):d.set(y.key,Tn.empty())})),this.recalculateAndSaveOverlays(e,h).next((_=>(_.forEach(((y,b)=>d.set(y,b))),i.forEach(((y,b)=>g.set(y,new xw(b,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(e,i){const r=so();let o=new ue(((d,g)=>d-g)),h=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let b=r.get(_)||Tn.empty();b=g.applyToLocalView(y,b),r.set(_,b);const S=(o.get(g.batchId)||Mt()).add(_);o=o.insert(g.batchId,S)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),y=_.key,b=_.value,S=Pv();b.forEach((N=>{if(!h.has(N)){const q=Yv(i.get(N),r.get(N));q!==null&&S.set(N,q),h=h.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,S))}return Z.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,o){return(function(d){return ft.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):kv(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,o):this.getDocumentsMatchingCollectionQuery(e,i,r,o)}getNextDocuments(e,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,o-h.size):Z.resolve(Ss());let g=uo,_=h;return d.next((y=>Z.forEach(y,((b,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),h.get(b)?Z.resolve():this.remoteDocumentCache.getEntry(e,b).next((N=>{_=_.insert(b,N)}))))).next((()=>this.populateOverlays(e,y,h))).next((()=>this.computeViews(e,_,y,Mt()))).next((b=>({batchId:g,changes:Bv(b)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ft(i)).next((r=>{let o=Wl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,o){const h=i.collectionGroup;let d=Wl();return this.indexManager.getCollectionParents(e,h).next((g=>Z.forEach(g,(_=>{const y=(function(S,N){return new Gr(N,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,_.child(h));return this.getDocumentsMatchingCollectionQuery(e,y,r,o).next((b=>{b.forEach(((S,N)=>{d=d.insert(S,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,h,o)))).next((d=>{h.forEach(((_,y)=>{const b=y.getKey();d.get(b)===null&&(d=d.insert(b,Ze.newInvalidDocument(b)))}));let g=Wl();return d.forEach(((_,y)=>{const b=h.get(_);b!==void 0&&ro(b.mutation,y,Tn.empty(),ae.now()),Oc(i,y)&&(g=g.insert(_,y))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Ai(o.createTime)}})(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:yw(o.bundledQuery),readTime:Ai(o.readTime)}})(i)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(){this.overlays=new ue(ft.comparator),this.qr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const r=Ss();return Z.forEach(i,(o=>this.getOverlay(e,o).next((h=>{h!==null&&r.set(o,h)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((o,h)=>{this.St(e,i,h)})),Z.resolve()}removeOverlaysForBatchId(e,i,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(r)),Z.resolve()}getOverlaysForCollection(e,i,r){const o=Ss(),h=i.length+1,d=new ft(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===h&&_.largestBatchId>r&&o.set(_.getKey(),_)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,i,r,o){let h=new ue(((y,b)=>y-b));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>r){let b=h.get(y.largestBatchId);b===null&&(b=Ss(),h=h.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const g=Ss(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,b)=>g.set(y,b))),!(g.size()>=o)););return Z.resolve(g)}St(e,i,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new YS(i,r));let h=this.qr.get(i);h===void 0&&(h=Mt(),this.qr.set(i,h)),this.qr.set(i,h.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(){this.sessionToken=Ye.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(){this.Qr=new Oe(Le.$r),this.Ur=new Oe(Le.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new Le(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new Le(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new ft(new ee([])),r=new Le(i,e),o=new Le(i,e+1),h=[];return this.Ur.forEachInRange([r,o],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ft(new ee([])),r=new Le(i,e),o=new Le(i,e+1);let h=Mt();return this.Ur.forEachInRange([r,o],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new Le(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Le{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ft.comparator(e.key,i.key)||Vt(e.Yr,i.Yr)}static Kr(e,i){return Vt(e.Yr,i.Yr)||ft.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Oe(Le.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,o){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new QS(h,i,r,o);this.mutationQueue.push(d);for(const g of o)this.Zr=this.Zr.add(new Le(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,o=this.ei(r),h=o<0?0:o;return Z.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?$d:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Le(i,0),o=new Le(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([r,o],(d=>{const g=this.Xr(d.Yr);h.push(g)})),Z.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Oe(Vt);return i.forEach((o=>{const h=new Le(o,0),d=new Le(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(g=>{r=r.add(g.Yr)}))})),Z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,o=r.length+1;let h=r;ft.isDocumentKey(h)||(h=h.child(""));const d=new Le(new ft(h),0);let g=new Oe(Vt);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(g=g.add(_.Yr)),!0)}),d),Z.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Gt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Z.forEach(i.mutations,(o=>{const h=new Le(o.key,i.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new Le(i,0),o=this.Zr.firstAfterOrEqual(r);return Z.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e){this.ri=e,this.docs=(function(){return new ue(ft.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,o=this.docs.get(r),h=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return Z.resolve(r?r.document.mutableCopy():Ze.newInvalidDocument(i))}getEntries(e,i){let r=$i();return i.forEach((o=>{const h=this.docs.get(o);r=r.insert(o,h?h.document.mutableCopy():Ze.newInvalidDocument(o))})),Z.resolve(r)}getDocumentsMatchingQuery(e,i,r,o){let h=$i();const d=i.path,g=new ft(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:y,value:{document:b}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||lS(rS(b),r)<=0||(o.has(b.key)||Oc(i,b))&&(h=h.insert(b.key,b.mutableCopy()))}return Z.resolve(h)}getAllFromCollectionGroup(e,i,r,o){yt(9500)}ii(e,i){return Z.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new Mw(this)}getSize(e){return Z.resolve(this.size)}}class Mw extends ww{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),Z.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e){this.persistence=e,this.si=new Ms((i=>Wd(i)),tm),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.oi=0,this._i=new lm,this.targetCount=0,this.ai=Lr.ur()}forEachTarget(e,i){return this.si.forEach(((r,o)=>i(o))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),Z.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Lr(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.Pr(i),Z.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,r){let o=0;const h=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&r.get(g.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),Z.waitFor(h).next((()=>o))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return Z.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),Z.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(e,d))})),Z.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return Z.resolve(r)}containsKey(e,i){return Z.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e,i){this.ui={},this.overlays={},this.ci=new Nc(0),this.li=!1,this.li=!0,this.hi=new Nw,this.referenceDelegate=e(this),this.Pi=new Ow(this),this.indexManager=new _w,this.remoteDocumentCache=(function(o){return new Vw(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new pw(i),this.Ii=new Rw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new Dw,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new Iw(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){st("MemoryPersistence","Starting transaction:",e);const o=new jw(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((h=>this.referenceDelegate.di(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ai(e,i){return Z.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class jw extends uS{constructor(e){super(),this.currentSequenceNumber=e}}class om{constructor(e){this.persistence=e,this.Ri=new lm,this.Vi=null}static mi(e){return new om(e)}get fi(){if(this.Vi)return this.Vi;throw yt(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),Z.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((h=>this.fi.add(h.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(r=>{const o=ft.fromPath(r);return this.gi(e,o).next((h=>{h||i.removeEntry(o,vt.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class bc{constructor(e,i){this.persistence=e,this.pi=new Ms((r=>fS(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=Sw(this,i)}static mi(e,i){return new bc(e,i)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((o=>r+o))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return Z.forEach(this.pi,((r,o)=>this.br(e,r,o).next((h=>h?Z.resolve():i(o)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((g=>{g||(r++,h.removeEntry(d,vt.min()))})))).next((()=>h.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=rc(e.data.value)),i}br(e,i,r){return Z.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return Z.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,i,r,o){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=o}static As(e,i){let r=Mt(),o=Mt();for(const h of i.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new um(e,i.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Rb()?8:cS(wb())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,o){const h={result:null};return this.ys(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(e,i,o,r).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new kw;return this.Ss(e,i,d).next((g=>{if(h.result=g,this.Vs)return this.bs(e,i,d,g.size)}))})).next((()=>h.result))}bs(e,i,r,o){return r.documentReadCount<this.fs?(Cr()<=Lt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",Rr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(Cr()<=Lt.DEBUG&&st("QueryEngine","Query:",Rr(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(Cr()<=Lt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",Rr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bi(i))):Z.resolve())}ys(e,i){if(K0(i))return Z.resolve(null);let r=bi(i);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=xd(i,null,"F"),r=bi(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((h=>{const d=Mt(...h);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,r).next((_=>{const y=this.Ds(i,g);return this.Cs(i,y,d,_.readTime)?this.ys(e,xd(i,null,"F")):this.vs(e,y,i,_)}))))})))))}ws(e,i,r,o){return K0(i)||o.isEqual(vt.min())?Z.resolve(null):this.ps.getDocuments(e,r).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,r,o)?Z.resolve(null):(Cr()<=Lt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Rr(i)),this.vs(e,d,i,sS(o,uo)).next((g=>g)))}))}Ds(e,i){let r=new Oe(Lv(e));return i.forEach(((o,h)=>{Oc(e,h)&&(r=r.add(h))})),r}Cs(e,i,r,o){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Ss(e,i,r){return Cr()<=Lt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",Rr(i)),this.ps.getDocumentsMatchingQuery(e,i,za.min(),r)}vs(e,i,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cm="LocalStore",Lw=3e8;class Uw{constructor(e,i,r,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new ue(Vt),this.xs=new Ms((h=>Wd(h)),tm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Cw(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function Bw(s,e,i,r){return new Uw(s,e,i,r)}async function l1(s,e){const i=bt(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((h=>(o=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((h=>{const d=[],g=[];let _=Mt();for(const y of o){d.push(y.batchId);for(const b of y.mutations)_=_.add(b.key)}for(const y of h){g.push(y.batchId);for(const b of y.mutations)_=_.add(b.key)}return i.localDocuments.getDocuments(r,_).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function Pw(s,e){const i=bt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,_,y,b){const S=y.batch,N=S.keys();let q=Z.resolve();return N.forEach((W=>{q=q.next((()=>b.getEntry(_,W))).next((tt=>{const J=y.docVersions.get(W);Gt(J!==null,48541),tt.version.compareTo(J)<0&&(S.applyToRemoteDocument(tt,y),tt.isValidDocument()&&(tt.setReadTime(y.commitVersion),b.addEntry(tt)))}))})),q.next((()=>g.mutationQueue.removeMutationBatch(_,S)))})(i,r,e,h).next((()=>h.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let _=Mt();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(_=_.add(g.batch.mutations[y].key));return _})(e)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function o1(s){const e=bt(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function qw(s,e){const i=bt(s),r=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const g=[];e.targetChanges.forEach(((b,S)=>{const N=o.get(S);if(!N)return;g.push(i.Pi.removeMatchingKeys(h,b.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(h,b.addedDocuments,S))));let q=N.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(S)!==null?q=q.withResumeToken(Ye.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):b.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(b.resumeToken,r)),o=o.insert(S,q),(function(tt,J,ut){return tt.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=Lw?!0:ut.addedDocuments.size+ut.modifiedDocuments.size+ut.removedDocuments.size>0})(N,q,b)&&g.push(i.Pi.updateTargetData(h,q))}));let _=$i(),y=Mt();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,b))})),g.push(Hw(h,d,e.documentUpdates).next((b=>{_=b.ks,y=b.qs}))),!r.isEqual(vt.min())){const b=i.Pi.getLastRemoteSnapshotVersion(h).next((S=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,r)));g.push(b)}return Z.waitFor(g).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,_,y))).next((()=>_))})).then((h=>(i.Ms=o,h)))}function Hw(s,e,i){let r=Mt(),o=Mt();return i.forEach((h=>r=r.add(h))),e.getEntries(s,r).next((h=>{let d=$i();return i.forEach(((g,_)=>{const y=h.get(g);_.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),_.isNoDocument()&&_.version.isEqual(vt.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):st(cm,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",_.version)})),{ks:d,qs:o}}))}function Gw(s,e){const i=bt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=$d),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Fw(s,e){const i=bt(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.Pi.getTargetData(r,e).next((h=>h?(o=h,Z.resolve(o)):i.Pi.allocateTargetId(r).next((d=>(o=new Ia(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function Id(s,e,i){const r=bt(s),o=r.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",h,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Hr(d))throw d;st(cm,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function l_(s,e,i){const r=bt(s);let o=vt.min(),h=Mt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,b){const S=bt(_),N=S.xs.get(b);return N!==void 0?Z.resolve(S.Ms.get(N)):S.Pi.getTargetData(y,b)})(r,d,bi(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,g.targetId).next((_=>{h=_}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,i?o:vt.min(),i?h:Mt()))).next((g=>(Qw(r,IS(e),g),{documents:g,Qs:h})))))}function Qw(s,e,i){let r=s.Os.get(e)||vt.min();i.forEach(((o,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)})),s.Os.set(e,r)}class o_{constructor(){this.activeTargetIds=zS()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Yw{constructor(){this.Mo=new o_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new o_,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_="ConnectivityMonitor";class c_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){st(u_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){st(u_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ac=null;function Vd(){return ac===null?ac=(function(){return 268435456+Math.round(2147483648*Math.random())})():ac++,"0x"+ac.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sd="RestConnection",Xw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $w{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===pc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,i,r,o,h){const d=Vd(),g=this.zo(e,i.toUriEncodedString());st(sd,`Sending RPC '${e}' ${d}:`,g,r);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,o,h);const{host:y}=new URL(g),b=Fd(y);return this.Jo(e,g,_,r,b).then((S=>(st(sd,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw Or(sd,`RPC '${e}' ${d} failed with error: `,S,"url: ",g,"request:",r),S}))}Ho(e,i,r,o,h,d){return this.Go(e,i,r,o,h)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Pr})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>e[h]=o)),r&&r.headers.forEach(((o,h)=>e[h]=o))}zo(e,i){const r=Xw[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xe="WebChannelConnection";class Jw extends $w{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,o,h){const d=Vd();return new Promise(((g,_)=>{const y=new hv;y.setWithCredentials(!0),y.listenOnce(fv.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case sc.NO_ERROR:const S=y.getResponseJson();st(Xe,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),g(S);break;case sc.TIMEOUT:st(Xe,`RPC '${e}' ${d} timed out`),_(new at($.DEADLINE_EXCEEDED,"Request time out"));break;case sc.HTTP_ERROR:const N=y.getStatus();if(st(Xe,`RPC '${e}' ${d} failed with status:`,N,"response text:",y.getResponseText()),N>0){let q=y.getResponseJson();Array.isArray(q)&&(q=q[0]);const W=q==null?void 0:q.error;if(W&&W.status&&W.message){const tt=(function(ut){const pt=ut.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(pt)>=0?pt:$.UNKNOWN})(W.status);_(new at(tt,W.message))}else _(new at($.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new at($.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{st(Xe,`RPC '${e}' ${d} completed.`)}}));const b=JSON.stringify(o);st(Xe,`RPC '${e}' ${d} sending request:`,o),y.send(i,"POST",b,r,15)}))}T_(e,i,r){const o=Vd(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=gv(),g=mv(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,r),_.encodeInitMessageHeaders=!0;const b=h.join("");st(Xe,`Creating RPC '${e}' stream ${o}: ${b}`,_);const S=d.createWebChannel(b,_);this.I_(S);let N=!1,q=!1;const W=new Zw({Yo:J=>{q?st(Xe,`Not sending because RPC '${e}' stream ${o} is closed:`,J):(N||(st(Xe,`Opening RPC '${e}' stream ${o} transport.`),S.open(),N=!0),st(Xe,`RPC '${e}' stream ${o} sending:`,J),S.send(J))},Zo:()=>S.close()}),tt=(J,ut,pt)=>{J.listen(ut,(mt=>{try{pt(mt)}catch(Ct){setTimeout((()=>{throw Ct}),0)}}))};return tt(S,Jl.EventType.OPEN,(()=>{q||(st(Xe,`RPC '${e}' stream ${o} transport opened.`),W.o_())})),tt(S,Jl.EventType.CLOSE,(()=>{q||(q=!0,st(Xe,`RPC '${e}' stream ${o} transport closed`),W.a_(),this.E_(S))})),tt(S,Jl.EventType.ERROR,(J=>{q||(q=!0,Or(Xe,`RPC '${e}' stream ${o} transport errored. Name:`,J.name,"Message:",J.message),W.a_(new at($.UNAVAILABLE,"The operation could not be completed")))})),tt(S,Jl.EventType.MESSAGE,(J=>{var ut;if(!q){const pt=J.data[0];Gt(!!pt,16349);const mt=pt,Ct=(mt==null?void 0:mt.error)||((ut=mt[0])==null?void 0:ut.error);if(Ct){st(Xe,`RPC '${e}' stream ${o} received error:`,Ct);const ct=Ct.status;let Y=(function(C){const O=Ce[C];if(O!==void 0)return Xv(O)})(ct),x=Ct.message;Y===void 0&&(Y=$.INTERNAL,x="Unknown error status: "+ct+" with message "+Ct.message),q=!0,W.a_(new at(Y,x)),S.close()}else st(Xe,`RPC '${e}' stream ${o} received:`,pt),W.u_(pt)}})),tt(g,dv.STAT_EVENT,(J=>{J.stat===vd.PROXY?st(Xe,`RPC '${e}' stream ${o} detected buffering proxy`):J.stat===vd.NOPROXY&&st(Xe,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function rd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(s){return new nw(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e,i,r=1e3,o=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=o,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&st("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_="PersistentStream";class c1{constructor(e,i,r,o,h,d,g,_){this.Mi=e,this.S_=r,this.b_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new u1(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(Xi(i.toString()),Xi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{e((()=>{const o=new at($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return st(h_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(st(h_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Ww extends c1{constructor(e,i,r,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=sw(this.serializer,e),r=(function(h){if(!("targetChange"in h))return vt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?vt.min():d.readTime?Ai(d.readTime):vt.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=Nd(this.serializer),i.addTarget=(function(h,d){let g;const _=d.target;if(g=Sd(_)?{documents:ow(h,_)}:{query:uw(h,_).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=Jv(h,d.resumeToken);const y=Cd(h,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(vt.min())>0){g.readTime=Tc(h,d.snapshotVersion.toTimestamp());const y=Cd(h,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,e);const r=hw(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=Nd(this.serializer),i.removeTarget=e,this.q_(i)}}class tx extends c1{constructor(e,i,r,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Gt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Gt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Gt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=lw(e.writeResults,e.commitTime),r=Ai(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=Nd(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>rw(this.serializer,r)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{}class nx extends ex{constructor(e,i,r,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new at($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(e,Rd(i,r),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new at($.UNKNOWN,h.toString())}))}Ho(e,i,r,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,Rd(i,r),o,d,g,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new at($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class ix{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Xi(i),this.aa=!1):st("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns="RemoteStore";class ax{constructor(e,i,r,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{Os(this)&&(st(Ns,"Restarting streams for network reachability change."),await(async function(_){const y=bt(_);y.Ea.add(4),await To(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Uc(y)})(this))}))})),this.Ra=new ix(r,o)}}async function Uc(s){if(Os(s))for(const e of s.da)await e(!0)}async function To(s){for(const e of s.da)await e(!1)}function h1(s,e){const i=bt(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),mm(i)?dm(i):Fr(i).O_()&&fm(i,e))}function hm(s,e){const i=bt(s),r=Fr(i);i.Ia.delete(e),r.O_()&&f1(i,e),i.Ia.size===0&&(r.O_()?r.L_():Os(i)&&i.Ra.set("Unknown"))}function fm(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(vt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Fr(s).Y_(e)}function f1(s,e){s.Va.Ue(e),Fr(s).Z_(e)}function dm(s){s.Va=new JS({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Fr(s).start(),s.Ra.ua()}function mm(s){return Os(s)&&!Fr(s).x_()&&s.Ia.size>0}function Os(s){return bt(s).Ea.size===0}function d1(s){s.Va=void 0}async function sx(s){s.Ra.set("Online")}async function rx(s){s.Ia.forEach(((e,i)=>{fm(s,e)}))}async function lx(s,e){d1(s),mm(s)?(s.Ra.ha(e),dm(s)):s.Ra.set("Unknown")}async function ox(s,e,i){if(s.Ra.set("Online"),e instanceof Zv&&e.state===2&&e.cause)try{await(async function(o,h){const d=h.cause;for(const g of h.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.Va.removeTarget(g))})(s,e)}catch(r){st(Ns,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ac(s,r)}else if(e instanceof uc?s.Va.Ze(e):e instanceof $v?s.Va.st(e):s.Va.tt(e),!i.isEqual(vt.min()))try{const r=await o1(s.localStore);i.compareTo(r)>=0&&await(function(h,d){const g=h.Va.Tt(d);return g.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const b=h.Ia.get(y);b&&h.Ia.set(y,b.withResumeToken(_.resumeToken,d))}})),g.targetMismatches.forEach(((_,y)=>{const b=h.Ia.get(_);if(!b)return;h.Ia.set(_,b.withResumeToken(Ye.EMPTY_BYTE_STRING,b.snapshotVersion)),f1(h,_);const S=new Ia(b.target,_,y,b.sequenceNumber);fm(h,S)})),h.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(r){st(Ns,"Failed to raise snapshot:",r),await Ac(s,r)}}async function Ac(s,e,i){if(!Hr(e))throw e;s.Ea.add(1),await To(s),s.Ra.set("Offline"),i||(i=()=>o1(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{st(Ns,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Uc(s)}))}function m1(s,e){return e().catch((i=>Ac(s,i,e)))}async function Bc(s){const e=bt(s),i=Pa(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:$d;for(;ux(e);)try{const o=await Gw(e.localStore,r);if(o===null){e.Ta.length===0&&i.L_();break}r=o.batchId,cx(e,o)}catch(o){await Ac(e,o)}g1(e)&&p1(e)}function ux(s){return Os(s)&&s.Ta.length<10}function cx(s,e){s.Ta.push(e);const i=Pa(s);i.O_()&&i.X_&&i.ea(e.mutations)}function g1(s){return Os(s)&&!Pa(s).x_()&&s.Ta.length>0}function p1(s){Pa(s).start()}async function hx(s){Pa(s).ra()}async function fx(s){const e=Pa(s);for(const i of s.Ta)e.ea(i.mutations)}async function dx(s,e,i){const r=s.Ta.shift(),o=am.from(r,e,i);await m1(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Bc(s)}async function mx(s,e){e&&Pa(s).X_&&await(async function(r,o){if((function(d){return XS(d)&&d!==$.ABORTED})(o.code)){const h=r.Ta.shift();Pa(r).B_(),await m1(r,(()=>r.remoteSyncer.rejectFailedWrite(h.batchId,o))),await Bc(r)}})(s,e),g1(s)&&p1(s)}async function f_(s,e){const i=bt(s);i.asyncQueue.verifyOperationInProgress(),st(Ns,"RemoteStore received new credentials");const r=Os(i);i.Ea.add(3),await To(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Uc(i)}async function gx(s,e){const i=bt(s);e?(i.Ea.delete(2),await Uc(i)):e||(i.Ea.add(2),await To(i),i.Ra.set("Unknown"))}function Fr(s){return s.ma||(s.ma=(function(i,r,o){const h=bt(i);return h.sa(),new Ww(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(s.datastore,s.asyncQueue,{Xo:sx.bind(null,s),t_:rx.bind(null,s),r_:lx.bind(null,s),H_:ox.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),mm(s)?dm(s):s.Ra.set("Unknown")):(await s.ma.stop(),d1(s))}))),s.ma}function Pa(s){return s.fa||(s.fa=(function(i,r,o){const h=bt(i);return h.sa(),new tx(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:hx.bind(null,s),r_:mx.bind(null,s),ta:fx.bind(null,s),na:dx.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Bc(s)):(await s.fa.stop(),s.Ta.length>0&&(st(Ns,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e,i,r,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=h,this.deferred=new Cs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,o,h){const d=Date.now()+r,g=new gm(e,i,d,o,h);return g.start(r),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pm(s,e){if(Xi("AsyncQueue",`${e}: ${s}`),Hr(s))return new at($.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{static emptySet(e){return new Ir(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||ft.comparator(i.key,r.key):(i,r)=>ft.comparator(i.key,r.key),this.keyedMap=Wl(),this.sortedSet=new ue(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Ir)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new Ir;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(){this.ga=new ue(ft.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):yt(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class Ur{constructor(e,i,r,o,h,d,g,_,y){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(e,i,r,o,h){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new Ur(e,i,Ir.emptySet(i),d,r,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class yx{constructor(){this.queries=m_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=bt(i),h=o.queries;o.queries=m_(),h.forEach(((d,g)=>{for(const _ of g.Sa)_.onError(r)}))})(this,new at($.ABORTED,"Firestore shutting down"))}}function m_(){return new Ms((s=>zv(s)),Mc)}async function _x(s,e){const i=bt(s);let r=3;const o=e.query;let h=i.queries.get(o);h?!h.ba()&&e.Da()&&(r=2):(h=new px,r=e.Da()?0:1);try{switch(r){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=pm(d,`Initialization of query '${Rr(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&ym(i)}async function vx(s,e){const i=bt(s),r=e.query;let o=3;const h=i.queries.get(r);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?o=e.Da()?0:1:!h.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function Ex(s,e){const i=bt(s);let r=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const g of d.Sa)g.Fa(o)&&(r=!0);d.wa=o}}r&&ym(i)}function Tx(s,e,i){const r=bt(s),o=r.queries.get(e);if(o)for(const h of o.Sa)h.onError(i);r.queries.delete(e)}function ym(s){s.Ca.forEach((e=>{e.next()}))}var Md,g_;(g_=Md||(Md={})).Ma="default",g_.Cache="cache";class bx{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Ur(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Ur.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Md.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e){this.key=e}}class _1{constructor(e){this.key=e}}class Ax{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Mt(),this.mutatedKeys=Mt(),this.eu=Lv(e),this.tu=new Ir(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new d_,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((b,S)=>{const N=o.get(b),q=Oc(this.query,S)?S:null,W=!!N&&this.mutatedKeys.has(N.key),tt=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let J=!1;N&&q?N.data.isEqual(q.data)?W!==tt&&(r.track({type:3,doc:q}),J=!0):this.su(N,q)||(r.track({type:2,doc:q}),J=!0,(_&&this.eu(q,_)>0||y&&this.eu(q,y)<0)&&(g=!0)):!N&&q?(r.track({type:0,doc:q}),J=!0):N&&!q&&(r.track({type:1,doc:N}),J=!0,(_||y)&&(g=!0)),J&&(q?(d=d.add(q),h=tt?h.add(b):h.delete(b)):(d=d.delete(b),h=h.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),h=h.delete(b.key),r.track({type:1,doc:b})}return{tu:d,iu:r,Cs:g,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((b,S)=>(function(q,W){const tt=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Rt:J})}};return tt(q)-tt(W)})(b.type,S.type)||this.eu(b.doc,S.doc))),this.ou(r),o=o??!1;const g=i&&!o?this._u():[],_=this.Xa.size===0&&this.current&&!o?1:0,y=_!==this.Za;return this.Za=_,d.length!==0||y?{snapshot:new Ur(this.query,e.tu,h,d,e.mutatedKeys,_===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new d_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Mt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new _1(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new y1(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=Mt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Ur.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const _m="SyncEngine";class Sx{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class wx{constructor(e){this.key=e,this.hu=!1}}class xx{constructor(e,i,r,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Ms((g=>zv(g)),Mc),this.Iu=new Map,this.Eu=new Set,this.du=new ue(ft.comparator),this.Au=new Map,this.Ru=new lm,this.Vu={},this.mu=new Map,this.fu=Lr.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Cx(s,e,i=!0){const r=S1(s);let o;const h=r.Tu.get(e);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await v1(r,e,i,!0),o}async function Rx(s,e){const i=S1(s);await v1(i,e,!0,!1)}async function v1(s,e,i,r){const o=await Fw(s.localStore,bi(e)),h=o.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let g;return r&&(g=await Dx(s,e,h,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&h1(s.remoteStore,o),g}async function Dx(s,e,i,r,o){s.pu=(S,N,q)=>(async function(tt,J,ut,pt){let mt=J.view.ru(ut);mt.Cs&&(mt=await l_(tt.localStore,J.query,!1).then((({documents:x})=>J.view.ru(x,mt))));const Ct=pt&&pt.targetChanges.get(J.targetId),ct=pt&&pt.targetMismatches.get(J.targetId)!=null,Y=J.view.applyChanges(mt,tt.isPrimaryClient,Ct,ct);return y_(tt,J.targetId,Y.au),Y.snapshot})(s,S,N,q);const h=await l_(s.localStore,e,!0),d=new Ax(e,h.Qs),g=d.ru(h.documents),_=Eo.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",o),y=d.applyChanges(g,s.isPrimaryClient,_);y_(s,i,y.au);const b=new Sx(e,i,d);return s.Tu.set(e,b),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),y.snapshot}async function Nx(s,e,i){const r=bt(s),o=r.Tu.get(e),h=r.Iu.get(o.targetId);if(h.length>1)return r.Iu.set(o.targetId,h.filter((d=>!Mc(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Id(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&hm(r.remoteStore,o.targetId),Od(r,o.targetId)})).catch(qr)):(Od(r,o.targetId),await Id(r.localStore,o.targetId,!0))}async function Ix(s,e){const i=bt(s),r=i.Tu.get(e),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),hm(i.remoteStore,r.targetId))}async function Vx(s,e,i){const r=Ux(s);try{const o=await(function(d,g){const _=bt(d),y=ae.now(),b=g.reduce(((q,W)=>q.add(W.key)),Mt());let S,N;return _.persistence.runTransaction("Locally write mutations","readwrite",(q=>{let W=$i(),tt=Mt();return _.Ns.getEntries(q,b).next((J=>{W=J,W.forEach(((ut,pt)=>{pt.isValidDocument()||(tt=tt.add(ut))}))})).next((()=>_.localDocuments.getOverlayedDocuments(q,W))).next((J=>{S=J;const ut=[];for(const pt of g){const mt=GS(pt,S.get(pt.key).overlayedDocument);mt!=null&&ut.push(new Fa(pt.key,mt,Dv(mt.value.mapValue),$n.exists(!0)))}return _.mutationQueue.addMutationBatch(q,y,ut,g)})).next((J=>{N=J;const ut=J.applyToLocalDocumentSet(S,tt);return _.documentOverlayCache.saveOverlays(q,J.batchId,ut)}))})).then((()=>({batchId:N.batchId,changes:Bv(S)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(d,g,_){let y=d.Vu[d.currentUser.toKey()];y||(y=new ue(Vt)),y=y.insert(g,_),d.Vu[d.currentUser.toKey()]=y})(r,o.batchId,i),await bo(r,o.changes),await Bc(r.remoteStore)}catch(o){const h=pm(o,"Failed to persist write");i.reject(h)}}async function E1(s,e){const i=bt(s);try{const r=await qw(i.localStore,e);e.targetChanges.forEach(((o,h)=>{const d=i.Au.get(h);d&&(Gt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Gt(d.hu,14607):o.removedDocuments.size>0&&(Gt(d.hu,42227),d.hu=!1))})),await bo(i,r,e)}catch(r){await qr(r)}}function p_(s,e,i){const r=bt(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((h,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const _=bt(d);_.onlineState=g;let y=!1;_.queries.forEach(((b,S)=>{for(const N of S.Sa)N.va(g)&&(y=!0)})),y&&ym(_)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Mx(s,e,i){const r=bt(s);r.sharedClientState.updateQueryState(e,"rejected",i);const o=r.Au.get(e),h=o&&o.key;if(h){let d=new ue(ft.comparator);d=d.insert(h,Ze.newNoDocument(h,vt.min()));const g=Mt().add(h),_=new zc(vt.min(),new Map,new ue(Vt),d,g);await E1(r,_),r.du=r.du.remove(h),r.Au.delete(e),vm(r)}else await Id(r.localStore,e,!1).then((()=>Od(r,e,i))).catch(qr)}async function Ox(s,e){const i=bt(s),r=e.batch.batchId;try{const o=await Pw(i.localStore,e);b1(i,r,null),T1(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await bo(i,o)}catch(o){await qr(o)}}async function jx(s,e,i){const r=bt(s);try{const o=await(function(d,g){const _=bt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return _.mutationQueue.lookupMutationBatch(y,g).next((S=>(Gt(S!==null,37113),b=S.keys(),_.mutationQueue.removeMutationBatch(y,S)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,b,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>_.localDocuments.getDocuments(y,b)))}))})(r.localStore,e);b1(r,e,i),T1(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await bo(r,o)}catch(o){await qr(o)}}function T1(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function b1(s,e,i){const r=bt(s);let o=r.Vu[r.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function Od(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||A1(s,r)}))}function A1(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(hm(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),vm(s))}function y_(s,e,i){for(const r of i)r instanceof y1?(s.Ru.addReference(r.key,e),kx(s,r)):r instanceof _1?(st(_m,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||A1(s,r.key)):yt(19791,{wu:r})}function kx(s,e){const i=e.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(st(_m,"New document in limbo: "+i),s.Eu.add(r),vm(s))}function vm(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new ft(ee.fromString(e)),r=s.fu.next();s.Au.set(r,new wx(i)),s.du=s.du.insert(i,r),h1(s.remoteStore,new Ia(bi(em(i.path)),r,"TargetPurposeLimboResolution",Nc.ce))}}async function bo(s,e,i){const r=bt(s),o=[],h=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,_)=>{d.push(r.pu(_,e,i).then((y=>{var b;if((y||i)&&r.isPrimaryClient){const S=y?!y.fromCache:(b=i==null?void 0:i.targetChanges.get(_.targetId))==null?void 0:b.current;r.sharedClientState.updateQueryState(_.targetId,S?"current":"not-current")}if(y){o.push(y);const S=um.As(_.targetId,y);h.push(S)}})))})),await Promise.all(d),r.Pu.H_(o),await(async function(_,y){const b=bt(_);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>Z.forEach(y,(N=>Z.forEach(N.Es,(q=>b.persistence.referenceDelegate.addReference(S,N.targetId,q))).next((()=>Z.forEach(N.ds,(q=>b.persistence.referenceDelegate.removeReference(S,N.targetId,q)))))))))}catch(S){if(!Hr(S))throw S;st(cm,"Failed to update sequence numbers: "+S)}for(const S of y){const N=S.targetId;if(!S.fromCache){const q=b.Ms.get(N),W=q.snapshotVersion,tt=q.withLastLimboFreeSnapshotVersion(W);b.Ms=b.Ms.insert(N,tt)}}})(r.localStore,h))}async function zx(s,e){const i=bt(s);if(!i.currentUser.isEqual(e)){st(_m,"User change. New user:",e.toKey());const r=await l1(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((g=>{g.forEach((_=>{_.reject(new at($.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await bo(i,r.Ls)}}function Lx(s,e){const i=bt(s),r=i.Au.get(e);if(r&&r.hu)return Mt().add(r.key);{let o=Mt();const h=i.Iu.get(e);if(!h)return o;for(const d of h){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function S1(s){const e=bt(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=E1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Lx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Mx.bind(null,e),e.Pu.H_=Ex.bind(null,e.eventManager),e.Pu.yu=Tx.bind(null,e.eventManager),e}function Ux(s){const e=bt(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ox.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jx.bind(null,e),e}class Sc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return Bw(this.persistence,new zw,e.initialUser,this.serializer)}Cu(e){return new r1(om.mi,this.serializer)}Du(e){return new Yw}async terminate(){var e,i;(e=this.gcScheduler)==null||e.stop(),(i=this.indexBackfillerScheduler)==null||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sc.provider={build:()=>new Sc};class Bx extends Sc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Gt(this.persistence.referenceDelegate instanceof bc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new bw(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new r1((r=>bc.mi(r,i)),this.serializer)}}class jd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>p_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=zx.bind(null,this.syncEngine),await gx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new yx})()}createDatastore(e){const i=Lc(e.databaseInfo.databaseId),r=(function(h){return new Jw(h)})(e.databaseInfo);return(function(h,d,g,_){return new nx(h,d,g,_)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,o,h,d,g){return new ax(r,o,h,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>p_(this.syncEngine,i,0)),(function(){return c_.v()?new c_:new Kw})())}createSyncEngine(e,i){return(function(o,h,d,g,_,y,b){const S=new xx(o,h,d,g,_,y);return b&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await(async function(o){const h=bt(o);st(Ns,"RemoteStore shutting down."),h.Ea.add(5),await To(h),h.Aa.shutdown(),h.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(i=this.eventManager)==null||i.terminate()}}jd.provider={build:()=>new jd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Xi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa="FirestoreClient";class qx{constructor(e,i,r,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=$e.UNAUTHENTICATED,this.clientId=Xd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,(async d=>{st(qa,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(st(qa,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Cs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=pm(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function ld(s,e){s.asyncQueue.verifyOperationInProgress(),st(qa,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await l1(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function __(s,e){s.asyncQueue.verifyOperationInProgress();const i=await Hx(s);st(qa,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>f_(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>f_(e.remoteStore,o))),s._onlineComponents=e}async function Hx(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){st(qa,"Using user provided OfflineComponentProvider");try{await ld(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Or("Error using user provided cache. Falling back to memory cache: "+i),await ld(s,new Sc)}}else st(qa,"Using default OfflineComponentProvider"),await ld(s,new Bx(void 0));return s._offlineComponents}async function w1(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(st(qa,"Using user provided OnlineComponentProvider"),await __(s,s._uninitializedComponentsProvider._online)):(st(qa,"Using default OnlineComponentProvider"),await __(s,new jd))),s._onlineComponents}function Gx(s){return w1(s).then((e=>e.syncEngine))}async function v_(s){const e=await w1(s),i=e.eventManager;return i.onListen=Cx.bind(null,e.syncEngine),i.onUnlisten=Nx.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=Rx.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=Ix.bind(null,e.syncEngine),i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1="firestore.googleapis.com",T_=!0;class b_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new at($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=C1,this.ssl=T_}else this.host=e.host,this.ssl=e.ssl??T_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=s1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Ew)throw new at($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}aS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=x1(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new at($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new at($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new at($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Pc{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new b_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new at($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new b_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new KA;switch(r.type){case"firstParty":return new JA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new at($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=E_.get(i);r&&(st("ComponentProvider","Removing Datastore"),E_.delete(i),r.terminate())})(this),Promise.resolve()}}function Fx(s,e,i,r={}){var y;s=Qi(s,Pc);const o=Fd(e),h=s._getSettings(),d={...h,emulatorOptions:s._getEmulatorOptions()},g=`${e}:${i}`;o&&(Eb(`https://${g}`),Sb("Firestore",!0)),h.host!==C1&&h.host!==g&&Or("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...h,host:g,ssl:o,emulatorOptions:r};if(!lo(_,d)&&(s._setSettings(_),r.mockUserToken)){let b,S;if(typeof r.mockUserToken=="string")b=r.mockUserToken,S=$e.MOCK_USER;else{b=Tb(r.mockUserToken,(y=s._app)==null?void 0:y.options.projectId);const N=r.mockUserToken.sub||r.mockUserToken.user_id;if(!N)throw new at($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new $e(N)}s._authCredentials=new XA(new yv(b,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new js(this.firestore,e,this._query)}}class ye{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ja(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ye(this.firestore,e,this._key)}toJSON(){return{type:ye._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(_o(i,ye._jsonSchema))return new ye(e,r||null,new ft(ee.fromString(i.referencePath)))}}ye._jsonSchemaVersion="firestore/documentReference/1.0",ye._jsonSchema={type:De("string",ye._jsonSchemaVersion),referencePath:De("string")};class ja extends js{constructor(e,i,r){super(e,i,em(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ye(this.firestore,null,new ft(e))}withConverter(e){return new ja(this.firestore,e,this._path)}}function A_(s,e,...i){if(s=An(s),_v("collection","path",e),s instanceof Pc){const r=ee.fromString(e,...i);return O0(r),new ja(s,null,r)}{if(!(s instanceof ye||s instanceof ja))throw new at($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ee.fromString(e,...i));return O0(r),new ja(s.firestore,null,r)}}function xr(s,e,...i){if(s=An(s),arguments.length===1&&(e=Xd.newId()),_v("doc","path",e),s instanceof Pc){const r=ee.fromString(e,...i);return M0(r),new ye(s,null,new ft(r))}{if(!(s instanceof ye||s instanceof ja))throw new at($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ee.fromString(e,...i));return M0(r),new ye(s.firestore,s instanceof ja?s.converter:null,new ft(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_="AsyncQueue";class w_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new u1(this,"async_queue_retry"),this._c=()=>{const r=rd();r&&st(S_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=rd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=rd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Cs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Hr(e))throw e;st(S_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Xi("INTERNAL UNHANDLED ERROR: ",x_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=gm.createAndSchedule(this,e,i,r,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&yt(47125,{Pc:x_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function x_(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C_(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const h of r)if(h in o&&typeof o[h]=="function")return!0;return!1})(s,["next","error","complete"])}class Br extends Pc{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new w_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new w_(e),this._firestoreClient=void 0,await e}}}function Qx(s,e){const i=typeof s=="object"?s:lv(),r=typeof s=="string"?s:pc,o=yo(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const h=_b("firestore");h&&Fx(o,...h)}return o}function R1(s){if(s._terminated)throw new at($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||Yx(s),s._firestoreClient}function Yx(s){var r,o,h;const e=s._freezeSettings(),i=(function(g,_,y,b){return new gS(g,_,y,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,x1(b.experimentalLongPollingOptions),b.useFetchStreams,b.isUsingEmulator)})(s._databaseId,((r=s._app)==null?void 0:r.options.appId)||"",s._persistenceKey,e);s._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((h=e.localCache)!=null&&h._onlineComponentProvider)&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new qx(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(g){const _=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(_),_online:_}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zn(Ye.fromBase64String(e))}catch(i){throw new at($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new zn(Ye.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(_o(e,zn._jsonSchema))return zn.fromBase64String(e.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:De("string",zn._jsonSchemaVersion),bytes:De("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new at($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new at($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new at($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Vt(this._lat,e._lat)||Vt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Si._jsonSchemaVersion}}static fromJSON(e){if(_o(e,Si._jsonSchema))return new Si(e.latitude,e.longitude)}}Si._jsonSchemaVersion="firestore/geoPoint/1.0",Si._jsonSchema={type:De("string",Si._jsonSchemaVersion),latitude:De("number"),longitude:De("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==o[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:wi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(_o(e,wi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new wi(e.vectorValues);throw new at($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wi._jsonSchemaVersion="firestore/vectorValue/1.0",wi._jsonSchema={type:De("string",wi._jsonSchemaVersion),vectorValues:De("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx=/^__.*__$/;class Xx{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new Fa(e,this.data,this.fieldMask,i,this.fieldTransforms):new vo(e,this.data,i,this.fieldTransforms)}}class D1{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new Fa(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function N1(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{Ac:s})}}class Tm{constructor(e,i,r,o,h,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Tm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const i=(o=this.path)==null?void 0:o.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){var o;const i=(o=this.path)==null?void 0:o.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return wc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(N1(this.Ac)&&Kx.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class $x{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Lc(e)}Cc(e,i,r,o=!1){return new Tm({Ac:e,methodName:i,Dc:r,path:Qe.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bm(s){const e=s._freezeSettings(),i=Lc(s._databaseId);return new $x(s._databaseId,!!e.ignoreUndefinedProperties,i)}function Zx(s,e,i,r,o,h={}){const d=s.Cc(h.merge||h.mergeFields?2:0,e,i,o);Am("Data must be an object, but it was:",d,r);const g=I1(r,d);let _,y;if(h.merge)_=new Tn(d.fieldMask),y=d.fieldTransforms;else if(h.mergeFields){const b=[];for(const S of h.mergeFields){const N=kd(e,S,i);if(!d.contains(N))throw new at($.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);M1(b,N)||b.push(N)}_=new Tn(b),y=d.fieldTransforms.filter((S=>_.covers(S.field)))}else _=null,y=d.fieldTransforms;return new Xx(new hn(g),_,y)}class Hc extends Em{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hc}}function Jx(s,e,i,r){const o=s.Cc(1,e,i);Am("Data must be an object, but it was:",o,r);const h=[],d=hn.empty();Ga(r,((_,y)=>{const b=Sm(e,_,i);y=An(y);const S=o.yc(b);if(y instanceof Hc)h.push(b);else{const N=Ao(y,S);N!=null&&(h.push(b),d.set(b,N))}}));const g=new Tn(h);return new D1(d,g,o.fieldTransforms)}function Wx(s,e,i,r,o,h){const d=s.Cc(1,e,i),g=[kd(e,r,i)],_=[o];if(h.length%2!=0)throw new at($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<h.length;N+=2)g.push(kd(e,h[N])),_.push(h[N+1]);const y=[],b=hn.empty();for(let N=g.length-1;N>=0;--N)if(!M1(y,g[N])){const q=g[N];let W=_[N];W=An(W);const tt=d.yc(q);if(W instanceof Hc)y.push(q);else{const J=Ao(W,tt);J!=null&&(y.push(q),b.set(q,J))}}const S=new Tn(y);return new D1(b,S,d.fieldTransforms)}function t4(s,e,i,r=!1){return Ao(i,s.Cc(r?4:3,e))}function Ao(s,e){if(V1(s=An(s)))return Am("Unsupported field value:",e,s),I1(s,e);if(s instanceof Em)return(function(r,o){if(!N1(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const h=r._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const h=[];let d=0;for(const g of r){let _=Ao(g,o.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),h.push(_),d++}return{arrayValue:{values:h}}})(s,e)}return(function(r,o){if((r=An(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return LS(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const h=ae.fromDate(r);return{timestampValue:Tc(o.serializer,h)}}if(r instanceof ae){const h=new ae(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Tc(o.serializer,h)}}if(r instanceof Si)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof zn)return{bytesValue:Jv(o.serializer,r._byteString)};if(r instanceof ye){const h=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(h))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:rm(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof wi)return(function(d,g){return{mapValue:{fields:{[Cv]:{stringValue:Rv},[yc]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw g.Sc("VectorValues must only contain numeric values.");return nm(g.serializer,y)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${Dc(r)}`)})(s,e)}function I1(s,e){const i={};return Tv(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ga(s,((r,o)=>{const h=Ao(o,e.mc(r));h!=null&&(i[r]=h)})),{mapValue:{fields:i}}}function V1(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ae||s instanceof Si||s instanceof zn||s instanceof ye||s instanceof Em||s instanceof wi)}function Am(s,e,i){if(!V1(i)||!vv(i)){const r=Dc(i);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function kd(s,e,i){if((e=An(e))instanceof qc)return e._internalPath;if(typeof e=="string")return Sm(s,e);throw wc("Field path arguments must be of type string or ",s,!1,void 0,i)}const e4=new RegExp("[~\\*/\\[\\]]");function Sm(s,e,i){if(e.search(e4)>=0)throw wc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new qc(...e.split("."))._internalPath}catch{throw wc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function wc(s,e,i,r,o){const h=r&&!r.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(h||d)&&(_+=" (found",h&&(_+=` in field ${r}`),d&&(_+=` in document ${o}`),_+=")"),new at($.INVALID_ARGUMENT,g+s+_)}function M1(s,e){return s.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e,i,r,o,h){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new ye(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new n4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(wm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class n4 extends O1{data(){return super.data()}}function wm(s,e){return typeof e=="string"?Sm(s,e):e instanceof qc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i4(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new at($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xm{}class j1 extends xm{}function R_(s,e,...i){let r=[];e instanceof xm&&r.push(e),r=r.concat(i),(function(h){const d=h.filter((_=>_ instanceof Rm)).length,g=h.filter((_=>_ instanceof Cm)).length;if(d>1||d>0&&g>0)throw new at($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class Cm extends j1{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new Cm(e,i,r)}_apply(e){const i=this._parse(e);return k1(e._query,i),new js(e.firestore,e.converter,wd(e._query,i))}_parse(e){const i=bm(e.firestore);return(function(h,d,g,_,y,b,S){let N;if(y.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new at($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){I_(S,b);const W=[];for(const tt of S)W.push(N_(_,h,tt));N={arrayValue:{values:W}}}else N=N_(_,h,S)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||I_(S,b),N=t4(g,d,S,b==="in"||b==="not-in");return Re.create(y,b,N)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class Rm extends xm{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Rm(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:Zn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,h){let d=o;const g=h.getFlattenedFilters();for(const _ of g)k1(d,_),d=wd(d,_)})(e._query,i),new js(e.firestore,e.converter,wd(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Dm extends j1{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Dm(e,i)}_apply(e){const i=(function(o,h,d){if(o.startAt!==null)throw new at($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new at($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new mo(h,d)})(e._query,this._field,this._direction);return new js(e.firestore,e.converter,(function(o,h){const d=o.explicitOrderBy.concat([h]);return new Gr(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,i))}}function D_(s,e="asc"){const i=e,r=wm("orderBy",s);return Dm._create(r,i)}function N_(s,e,i){if(typeof(i=An(i))=="string"){if(i==="")throw new at($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kv(e)&&i.indexOf("/")!==-1)throw new at($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(ee.fromString(i));if(!ft.isDocumentKey(r))throw new at($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return q0(s,new ft(r))}if(i instanceof ye)return q0(s,i._key);throw new at($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Dc(i)}.`)}function I_(s,e){if(!Array.isArray(s)||s.length===0)throw new at($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function k1(s,e){const i=(function(o,h){for(const d of o)for(const g of d.getFlattenedFilters())if(h.indexOf(g.op)>=0)return g.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new at($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new at($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class a4{convertValue(e,i="none"){switch(Ba(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Ua(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw yt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return Ga(e,((o,h)=>{r[o]=this.convertValue(h,i)})),r}convertVectorValue(e){var r,o,h;const i=(h=(o=(r=e.fields)==null?void 0:r[yc].arrayValue)==null?void 0:o.values)==null?void 0:h.map((d=>pe(d.doubleValue)));return new wi(i)}convertGeoPoint(e){return new Si(pe(e.latitude),pe(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=Vc(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(co(e));default:return null}}convertTimestamp(e){const i=La(e);return new ae(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=ee.fromString(e);Gt(a1(r),9688,{name:e});const o=new ho(r.get(1),r.get(3)),h=new ft(r.popFirst(5));return o.isEqual(i)||Xi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s4(s,e,i){let r;return r=s?s.toFirestore(e):e,r}class eo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Rs extends O1{constructor(e,i,r,o,h,d){super(e,i,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new cc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(wm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new at($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Rs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Rs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Rs._jsonSchema={type:De("string",Rs._jsonSchemaVersion),bundleSource:De("string","DocumentSnapshot"),bundleName:De("string"),bundle:De("string")};class cc extends Rs{data(e={}){return super.data(e)}}class Vr{constructor(e,i,r,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new eo(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new cc(this._firestore,this._userDataWriter,r.key,r,new eo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new at($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const _=new cc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new eo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>h||g.type!==3)).map((g=>{const _=new cc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new eo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,b=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),b=d.indexOf(g.doc.key)),{type:r4(g.type),doc:_,oldIndex:y,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new at($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Vr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Xd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),r.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function r4(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:s})}}Vr._jsonSchemaVersion="firestore/querySnapshot/1.0",Vr._jsonSchema={type:De("string",Vr._jsonSchemaVersion),bundleSource:De("string","QuerySnapshot"),bundleName:De("string"),bundle:De("string")};class z1 extends a4{constructor(e){super(),this.firestore=e}convertBytes(e){return new zn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new ye(this.firestore,null,i)}}function od(s,e,i){s=Qi(s,ye);const r=Qi(s.firestore,Br),o=s4(s.converter,e);return Nm(r,[Zx(bm(r),"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,$n.none())])}function l4(s,e,i,...r){s=Qi(s,ye);const o=Qi(s.firestore,Br),h=bm(o);let d;return d=typeof(e=An(e))=="string"||e instanceof qc?Wx(h,"updateDoc",s._key,e,i,r):Jx(h,"updateDoc",s._key,e),Nm(o,[d.toMutation(s._key,$n.exists(!0))])}function o4(s){return Nm(Qi(s.firestore,Br),[new im(s._key,$n.none())])}function ud(s,...e){var _,y,b;s=An(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||C_(e[r])||(i=e[r++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(C_(e[r])){const S=e[r];e[r]=(_=S.next)==null?void 0:_.bind(S),e[r+1]=(y=S.error)==null?void 0:y.bind(S),e[r+2]=(b=S.complete)==null?void 0:b.bind(S)}let h,d,g;if(s instanceof ye)d=Qi(s.firestore,Br),g=em(s._key.path),h={next:S=>{e[r]&&e[r](u4(d,s,S))},error:e[r+1],complete:e[r+2]};else{const S=Qi(s,js);d=Qi(S.firestore,Br),g=S._query;const N=new z1(d);h={next:q=>{e[r]&&e[r](new Vr(d,N,S,q))},error:e[r+1],complete:e[r+2]},i4(s._query)}return(function(N,q,W,tt){const J=new Px(tt),ut=new bx(q,J,W);return N.asyncQueue.enqueueAndForget((async()=>_x(await v_(N),ut))),()=>{J.Nu(),N.asyncQueue.enqueueAndForget((async()=>vx(await v_(N),ut)))}})(R1(d),g,o,h)}function Nm(s,e){return(function(r,o){const h=new Cs;return r.asyncQueue.enqueueAndForget((async()=>Vx(await Gx(r),o,h))),h.promise})(R1(s),e)}function u4(s,e,i){const r=i.docs.get(e._key),o=new z1(s);return new Rs(s,o,e._key,r,new eo(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){Pr=o})(jA),ka(new Yi("firestore",((r,{instanceIdentifier:o,options:h})=>{const d=r.getProvider("app").getImmediate(),g=new Br(new $A(r.getProvider("auth-internal")),new WA(d,r.getProvider("app-check-internal")),(function(y,b){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new at($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ho(y.options.projectId,b)})(d,o),d);return h={useFetchStreams:i,...h},g._setSettings(h),g}),"PUBLIC").setMultipleInstances(!0)),Ti(D0,N0,e),Ti(D0,N0,"esm2020")})();const L1="@firebase/installations",Im="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1=1e4,B1=`w:${Im}`,P1="FIS_v2",c4="https://firebaseinstallations.googleapis.com/v1",h4=3600*1e3,f4="installations",d4="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Is=new Rc(f4,d4,m4);function q1(s){return s instanceof Ha&&s.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1({projectId:s}){return`${c4}/projects/${s}/installations`}function G1(s){return{token:s.token,requestStatus:2,expiresIn:p4(s.expiresIn),creationTime:Date.now()}}async function F1(s,e){const r=(await e.json()).error;return Is.create("request-failed",{requestName:s,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Q1({apiKey:s}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":s})}function g4(s,{refreshToken:e}){const i=Q1(s);return i.append("Authorization",y4(e)),i}async function Y1(s){const e=await s();return e.status>=500&&e.status<600?s():e}function p4(s){return Number(s.replace("s","000"))}function y4(s){return`${P1} ${s}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _4({appConfig:s,heartbeatServiceProvider:e},{fid:i}){const r=H1(s),o=Q1(s),h=e.getImmediate({optional:!0});if(h){const y=await h.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const d={fid:i,authVersion:P1,appId:s.appId,sdkVersion:B1},g={method:"POST",headers:o,body:JSON.stringify(d)},_=await Y1(()=>fetch(r,g));if(_.ok){const y=await _.json();return{fid:y.fid||i,registrationStatus:2,refreshToken:y.refreshToken,authToken:G1(y.authToken)}}else throw await F1("Create Installation",_)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(s){return new Promise(e=>{setTimeout(e,s)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v4(s){return btoa(String.fromCharCode(...s)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4=/^[cdef][\w-]{21}$/,zd="";function T4(){try{const s=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(s),s[0]=112+s[0]%16;const i=b4(s);return E4.test(i)?i:zd}catch{return zd}}function b4(s){return v4(s).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(s){return`${s.appName}!${s.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1=new Map;function $1(s,e){const i=Gc(s);Z1(i,e),A4(i,e)}function Z1(s,e){const i=X1.get(s);if(i)for(const r of i)r(e)}function A4(s,e){const i=S4();i&&i.postMessage({key:s,fid:e}),w4()}let ws=null;function S4(){return!ws&&"BroadcastChannel"in self&&(ws=new BroadcastChannel("[Firebase] FID Change"),ws.onmessage=s=>{Z1(s.data.key,s.data.fid)}),ws}function w4(){X1.size===0&&ws&&(ws.close(),ws=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4="firebase-installations-database",C4=1,Vs="firebase-installations-store";let cd=null;function Vm(){return cd||(cd=sv(x4,C4,{upgrade:(s,e)=>{switch(e){case 0:s.createObjectStore(Vs)}}})),cd}async function xc(s,e){const i=Gc(s),o=(await Vm()).transaction(Vs,"readwrite"),h=o.objectStore(Vs),d=await h.get(i);return await h.put(e,i),await o.done,(!d||d.fid!==e.fid)&&$1(s,e.fid),e}async function J1(s){const e=Gc(s),r=(await Vm()).transaction(Vs,"readwrite");await r.objectStore(Vs).delete(e),await r.done}async function Fc(s,e){const i=Gc(s),o=(await Vm()).transaction(Vs,"readwrite"),h=o.objectStore(Vs),d=await h.get(i),g=e(d);return g===void 0?await h.delete(i):await h.put(g,i),await o.done,g&&(!d||d.fid!==g.fid)&&$1(s,g.fid),g}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mm(s){let e;const i=await Fc(s.appConfig,r=>{const o=R4(r),h=D4(s,o);return e=h.registrationPromise,h.installationEntry});return i.fid===zd?{installationEntry:await e}:{installationEntry:i,registrationPromise:e}}function R4(s){const e=s||{fid:T4(),registrationStatus:0};return W1(e)}function D4(s,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Is.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const i={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=N4(s,i);return{installationEntry:i,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:I4(s)}:{installationEntry:e}}async function N4(s,e){try{const i=await _4(s,e);return xc(s.appConfig,i)}catch(i){throw q1(i)&&i.customData.serverCode===409?await J1(s.appConfig):await xc(s.appConfig,{fid:e.fid,registrationStatus:0}),i}}async function I4(s){let e=await V_(s.appConfig);for(;e.registrationStatus===1;)await K1(100),e=await V_(s.appConfig);if(e.registrationStatus===0){const{installationEntry:i,registrationPromise:r}=await Mm(s);return r||i}return e}function V_(s){return Fc(s,e=>{if(!e)throw Is.create("installation-not-found");return W1(e)})}function W1(s){return V4(s)?{fid:s.fid,registrationStatus:0}:s}function V4(s){return s.registrationStatus===1&&s.registrationTime+U1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M4({appConfig:s,heartbeatServiceProvider:e},i){const r=O4(s,i),o=g4(s,i),h=e.getImmediate({optional:!0});if(h){const y=await h.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const d={installation:{sdkVersion:B1,appId:s.appId}},g={method:"POST",headers:o,body:JSON.stringify(d)},_=await Y1(()=>fetch(r,g));if(_.ok){const y=await _.json();return G1(y)}else throw await F1("Generate Auth Token",_)}function O4(s,{fid:e}){return`${H1(s)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Om(s,e=!1){let i;const r=await Fc(s.appConfig,h=>{if(!tE(h))throw Is.create("not-registered");const d=h.authToken;if(!e&&z4(d))return h;if(d.requestStatus===1)return i=j4(s,e),h;{if(!navigator.onLine)throw Is.create("app-offline");const g=U4(h);return i=k4(s,g),g}});return i?await i:r.authToken}async function j4(s,e){let i=await M_(s.appConfig);for(;i.authToken.requestStatus===1;)await K1(100),i=await M_(s.appConfig);const r=i.authToken;return r.requestStatus===0?Om(s,e):r}function M_(s){return Fc(s,e=>{if(!tE(e))throw Is.create("not-registered");const i=e.authToken;return B4(i)?{...e,authToken:{requestStatus:0}}:e})}async function k4(s,e){try{const i=await M4(s,e),r={...e,authToken:i};return await xc(s.appConfig,r),i}catch(i){if(q1(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await J1(s.appConfig);else{const r={...e,authToken:{requestStatus:0}};await xc(s.appConfig,r)}throw i}}function tE(s){return s!==void 0&&s.registrationStatus===2}function z4(s){return s.requestStatus===2&&!L4(s)}function L4(s){const e=Date.now();return e<s.creationTime||s.creationTime+s.expiresIn<e+h4}function U4(s){const e={requestStatus:1,requestTime:Date.now()};return{...s,authToken:e}}function B4(s){return s.requestStatus===1&&s.requestTime+U1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P4(s){const e=s,{installationEntry:i,registrationPromise:r}=await Mm(e);return r?r.catch(console.error):Om(e).catch(console.error),i.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q4(s,e=!1){const i=s;return await H4(i),(await Om(i,e)).token}async function H4(s){const{registrationPromise:e}=await Mm(s);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G4(s){if(!s||!s.options)throw hd("App Configuration");if(!s.name)throw hd("App Name");const e=["projectId","apiKey","appId"];for(const i of e)if(!s.options[i])throw hd(i);return{appName:s.name,projectId:s.options.projectId,apiKey:s.options.apiKey,appId:s.options.appId}}function hd(s){return Is.create("missing-app-config-values",{valueName:s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE="installations",F4="installations-internal",Q4=s=>{const e=s.getProvider("app").getImmediate(),i=G4(e),r=yo(e,"heartbeat");return{app:e,appConfig:i,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Y4=s=>{const e=s.getProvider("app").getImmediate(),i=yo(e,eE).getImmediate();return{getId:()=>P4(i),getToken:o=>q4(i,o)}};function K4(){ka(new Yi(eE,Q4,"PUBLIC")),ka(new Yi(F4,Y4,"PRIVATE"))}K4();Ti(L1,Im);Ti(L1,Im,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cc="analytics",X4="firebase_id",$4="origin",Z4=60*1e3,J4="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",jm="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en=new Qd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},bn=new Rc("analytics","Analytics",W4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(s){if(!s.startsWith(jm)){const e=bn.create("invalid-gtag-resource",{gtagURL:s});return en.warn(e.message),""}return s}function nE(s){return Promise.all(s.map(e=>e.catch(i=>i)))}function eC(s,e){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(s,e)),i}function nC(s,e){const i=eC("firebase-js-sdk-policy",{createScriptURL:tC}),r=document.createElement("script"),o=`${jm}?l=${s}&id=${e}`;r.src=i?i==null?void 0:i.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function iC(s){let e=[];return Array.isArray(window[s])?e=window[s]:window[s]=e,e}async function aC(s,e,i,r,o,h){const d=r[o];try{if(d)await e[d];else{const _=(await nE(i)).find(y=>y.measurementId===o);_&&await e[_.appId]}}catch(g){en.error(g)}s("config",o,h)}async function sC(s,e,i,r,o){try{let h=[];if(o&&o.send_to){let d=o.send_to;Array.isArray(d)||(d=[d]);const g=await nE(i);for(const _ of d){const y=g.find(S=>S.measurementId===_),b=y&&e[y.appId];if(b)h.push(b);else{h=[];break}}}h.length===0&&(h=Object.values(e)),await Promise.all(h),s("event",r,o||{})}catch(h){en.error(h)}}function rC(s,e,i,r){async function o(h,...d){try{if(h==="event"){const[g,_]=d;await sC(s,e,i,g,_)}else if(h==="config"){const[g,_]=d;await aC(s,e,i,r,g,_)}else if(h==="consent"){const[g,_]=d;s("consent",g,_)}else if(h==="get"){const[g,_,y]=d;s("get",g,_,y)}else if(h==="set"){const[g]=d;s("set",g)}else s(h,...d)}catch(g){en.error(g)}}return o}function lC(s,e,i,r,o){let h=function(...d){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(h=window[o]),window[o]=rC(h,s,e,i),{gtagCore:h,wrappedGtag:window[o]}}function oC(s){const e=window.document.getElementsByTagName("script");for(const i of Object.values(e))if(i.src&&i.src.includes(jm)&&i.src.includes(s))return i;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=30,cC=1e3;class hC{constructor(e={},i=cC){this.throttleMetadata=e,this.intervalMillis=i}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,i){this.throttleMetadata[e]=i}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const iE=new hC;function fC(s){return new Headers({Accept:"application/json","x-goog-api-key":s})}async function dC(s){var d;const{appId:e,apiKey:i}=s,r={method:"GET",headers:fC(i)},o=J4.replace("{app-id}",e),h=await fetch(o,r);if(h.status!==200&&h.status!==304){let g="";try{const _=await h.json();(d=_.error)!=null&&d.message&&(g=_.error.message)}catch{}throw bn.create("config-fetch-failed",{httpStatus:h.status,responseMessage:g})}return h.json()}async function mC(s,e=iE,i){const{appId:r,apiKey:o,measurementId:h}=s.options;if(!r)throw bn.create("no-app-id");if(!o){if(h)return{measurementId:h,appId:r};throw bn.create("no-api-key")}const d=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},g=new yC;return setTimeout(async()=>{g.abort()},Z4),aE({appId:r,apiKey:o,measurementId:h},d,g,e)}async function aE(s,{throttleEndTimeMillis:e,backoffCount:i},r,o=iE){var g;const{appId:h,measurementId:d}=s;try{await gC(r,e)}catch(_){if(d)return en.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${_==null?void 0:_.message}]`),{appId:h,measurementId:d};throw _}try{const _=await dC(s);return o.deleteThrottleMetadata(h),_}catch(_){const y=_;if(!pC(y)){if(o.deleteThrottleMetadata(h),d)return en.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${y==null?void 0:y.message}]`),{appId:h,measurementId:d};throw _}const b=Number((g=y==null?void 0:y.customData)==null?void 0:g.httpStatus)===503?v0(i,o.intervalMillis,uC):v0(i,o.intervalMillis),S={throttleEndTimeMillis:Date.now()+b,backoffCount:i+1};return o.setThrottleMetadata(h,S),en.debug(`Calling attemptFetch again in ${b} millis`),aE(s,S,r,o)}}function gC(s,e){return new Promise((i,r)=>{const o=Math.max(e-Date.now(),0),h=setTimeout(i,o);s.addEventListener(()=>{clearTimeout(h),r(bn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function pC(s){if(!(s instanceof Ha)||!s.customData)return!1;const e=Number(s.customData.httpStatus);return e===429||e===500||e===503||e===504}class yC{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function _C(s,e,i,r,o){if(o&&o.global){s("event",i,r);return}else{const h=await e,d={...r,send_to:h};s("event",i,d)}}async function vC(s,e,i,r){if(r&&r.global){const o={};for(const h of Object.keys(i))o[`user_properties.${h}`]=i[h];return s("set",o),Promise.resolve()}else{const o=await e;s("config",o,{update:!0,user_properties:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EC(){if(ev())try{await nv()}catch(s){return en.warn(bn.create("indexeddb-unavailable",{errorInfo:s==null?void 0:s.toString()}).message),!1}else return en.warn(bn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function TC(s,e,i,r,o,h,d){const g=mC(s);g.then(N=>{i[N.measurementId]=N.appId,s.options.measurementId&&N.measurementId!==s.options.measurementId&&en.warn(`The measurement ID in the local Firebase config (${s.options.measurementId}) does not match the measurement ID fetched from the server (${N.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(N=>en.error(N)),e.push(g);const _=EC().then(N=>{if(N)return r.getId()}),[y,b]=await Promise.all([g,_]);oC(h)||nC(h,y.measurementId),o("js",new Date);const S=(d==null?void 0:d.config)??{};return S[$4]="firebase",S.update=!0,b!=null&&(S[X4]=b),o("config",y.measurementId,S),y.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e){this.app=e}_delete(){return delete Mr[this.app.options.appId],Promise.resolve()}}let Mr={},O_=[];const j_={};let fd="dataLayer",AC="gtag",k_,km,z_=!1;function SC(){const s=[];if(Cb()&&s.push("This is a browser extension environment."),Db()||s.push("Cookies are not available."),s.length>0){const e=s.map((r,o)=>`(${o+1}) ${r}`).join(" "),i=bn.create("invalid-analytics-context",{errorInfo:e});en.warn(i.message)}}function wC(s,e,i){SC();const r=s.options.appId;if(!r)throw bn.create("no-app-id");if(!s.options.apiKey)if(s.options.measurementId)en.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${s.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw bn.create("no-api-key");if(Mr[r]!=null)throw bn.create("already-exists",{id:r});if(!z_){iC(fd);const{wrappedGtag:h,gtagCore:d}=lC(Mr,O_,j_,fd,AC);km=h,k_=d,z_=!0}return Mr[r]=TC(s,O_,j_,e,k_,fd,i),new bC(s)}function xC(s=lv()){s=An(s);const e=yo(s,Cc);return e.isInitialized()?e.getImmediate():CC(s)}function CC(s,e={}){const i=yo(s,Cc);if(i.isInitialized()){const o=i.getImmediate();if(lo(e,i.getOptions()))return o;throw bn.create("already-initialized")}return i.initialize({options:e})}function RC(s,e,i){s=An(s),vC(km,Mr[s.app.options.appId],e,i).catch(r=>en.error(r))}function DC(s,e,i,r){s=An(s),_C(km,Mr[s.app.options.appId],e,i,r).catch(o=>en.error(o))}const L_="@firebase/analytics",U_="0.10.19";function NC(){ka(new Yi(Cc,(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return wC(r,o,i)},"PUBLIC")),ka(new Yi("analytics-internal",s,"PRIVATE")),Ti(L_,U_),Ti(L_,U_,"esm2020");function s(e){try{const i=e.getProvider(Cc).getImmediate();return{logEvent:(r,o,h)=>DC(i,r,o,h),setUserProperties:(r,o)=>RC(i,r,o)}}catch(i){throw bn.create("interop-component-reg-failed",{reason:i})}}}NC();const IC={apiKey:"AIzaSyDX3kwLcszquu2A_1FCSe2_zr2EA4T4NV0",authDomain:"toubkal-app.firebaseapp.com",projectId:"toubkal-app",storageBucket:"toubkal-app.firebasestorage.app",messagingSenderId:"433569518926",appId:"1:433569518926:web:c61a5df8cce42673c2ba1f",measurementId:"G-P5DYWFSDJN"},sE=rv(IC),Na=Qx(sE);let VC;if(typeof window<"u")try{VC=xC(sE)}catch(s){console.warn("Analytics failed to initialize",s)}const rE=({className:s="w-10 h-10"})=>E.jsx("div",{className:`${s} relative shrink-0`,children:E.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full drop-shadow-[0_8px_16px_rgba(0,0,0,0.3)]",children:[E.jsx("circle",{cx:"50",cy:"50",r:"48",fill:"#5DC447"}),E.jsxs("g",{fill:"#004D3C",children:[E.jsx("path",{d:"M50 38 L59.5 45 L56 56 L44 56 L40.5 45 Z"}),E.jsx("path",{d:"M50 12 L32 25 L41 36 L59 36 L68 25 Z"}),E.jsx("path",{d:"M72 28 L86 42 L74 54 L62 46 L62 33 Z"}),E.jsx("path",{d:"M72 58 L60 67 L48 88 L75 80 L84 65 Z"}),E.jsx("path",{d:"M28 58 L16 65 L25 80 L52 88 L40 67 Z"}),E.jsx("path",{d:"M28 28 L38 33 L38 46 L26 54 L14 42 Z"})]})]})}),MC=({isVisible:s})=>E.jsxs("div",{className:`fixed inset-0 bg-[#020403] z-[100] flex flex-col items-center justify-center text-white p-6 overflow-hidden transition-all duration-1000 ${s?"opacity-100 scale-100":"opacity-0 scale-110 pointer-events-none"}`,children:[E.jsx("div",{className:"absolute top-[-30%] right-[-20%] w-[100%] h-[100%] bg-[#5DC447]/10 rounded-full blur-[180px] animate-pulse"}),E.jsx("div",{className:"absolute bottom-[-30%] left-[-20%] w-[100%] h-[100%] bg-[#004D3C]/20 rounded-full blur-[180px]"}),E.jsxs("div",{className:"relative flex flex-col items-center justify-center w-full max-w-sm",children:[E.jsxs("div",{className:"relative mb-20 flex items-center justify-center",children:[E.jsx("div",{className:"absolute w-72 h-72 bg-[#5DC447]/20 rounded-full animate-ping duration-[2000ms]"}),E.jsx("div",{className:"animate-ball-entrance",children:E.jsx("div",{className:"animate-float-slow",children:E.jsx(rE,{className:"w-72 h-72"})})})]}),E.jsxs("div",{className:"text-center w-full space-y-6 animate-fade-up",children:[E.jsx("h1",{className:"text-7xl font-black tracking-tighter drop-shadow-[0_15px_30px_rgba(0,0,0,1)] text-white",children:" "}),E.jsxs("div",{className:"flex items-center justify-center gap-6 opacity-0 animate-fade-in [animation-delay:1.5s] [animation-fill-mode:forwards]",children:[E.jsx("div",{className:"h-[2px] w-16 bg-[#5DC447]/50 rounded-full shadow-[0_0_10px_#5DC447]"}),E.jsx("p",{className:"text-[#5DC447] font-black uppercase tracking-[0.7em] text-sm",children:"TOUBKAL RESORT"}),E.jsx("div",{className:"h-[2px] w-16 bg-[#5DC447]/50 rounded-full shadow-[0_0_10px_#5DC447]"})]})]})]}),E.jsx("style",{children:`
        @keyframes ball-entrance { 0% { transform: scale(0) rotate(-180deg); opacity: 0; } 100% { transform: scale(1) rotate(0deg); opacity: 1; } }
        @keyframes fade-up { 0% { transform: translateY(50px); opacity: 0; } 100% { transform: translateY(0); opacity: 1; } }
        @keyframes float-slow { 0%, 100% { transform: translateY(0) rotate(0deg); } 50% { transform: translateY(-15px) rotate(3deg); } }
        .animate-ball-entrance { animation: ball-entrance 1.8s cubic-bezier(0.19, 1, 0.22, 1) forwards; }
        .animate-fade-up { animation: fade-up 1.6s ease-out 1s forwards; opacity: 0; }
        .animate-float-slow { animation: float-slow 4s ease-in-out infinite; }
        .animate-fade-in { animation: fadeIn 1.2s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
     `})]}),OC=()=>{const[s,e]=Tt.useState(!0),[i,r]=Tt.useState(!1),[o,h]=Tt.useState(null),[d,g]=Tt.useState(Wt.DASHBOARD),[_,y]=Tt.useState([]),[b,S]=Tt.useState(lb),[N,q]=Tt.useState([]);Tt.useEffect(()=>{const Y=R_(A_(Na,"bookings"),D_("createdAt","desc")),x=ud(Y,w=>{const C=w.docs.map(O=>({id:O.id,...O.data()}));y(C)});return()=>x()},[]),Tt.useEffect(()=>{const Y=R_(A_(Na,"memos"),D_("id","desc")),x=ud(Y,w=>{const C=w.docs.map(O=>({id:O.id,...O.data()}));q(C)});return()=>x()},[]),Tt.useEffect(()=>{const Y=ud(xr(Na,"settings","global"),x=>{x.exists()&&S(x.data())});return()=>Y()},[]),Tt.useEffect(()=>{const Y=setTimeout(()=>e(!1),3500);return()=>clearTimeout(Y)},[]);const W=Y=>{h(Y),r(!0),g(Wt.DASHBOARD)},tt=()=>{r(!1),h(null)},J=Y=>o===xs.ADMIN?!0:o===xs.SUPERVISOR?b.supervisorViews.includes(Y):o===xs.MONITOR?b.monitorViews.includes(Y):!1,ut=async Y=>{try{await l4(xr(Na,"bookings",Y.id),{...Y})}catch{alert("  .")}},pt=async Y=>{try{await od(xr(Na,"bookings",Y.id),Y)}catch{alert("  .")}},mt=async Y=>{try{await od(xr(Na,"memos",Y.id),Y)}catch{alert("   .")}},Ct=async Y=>{try{await o4(xr(Na,"memos",Y))}catch{alert("  .")}},ct=({view:Y,icon:x,label:w})=>{if(!J(Y))return null;const C=d===Y;return E.jsxs("button",{onClick:()=>g(Y),className:"flex flex-col items-center justify-center flex-1 py-1 transition-all duration-300",children:[E.jsx("div",{className:`p-3 rounded-[1.2rem] transition-all duration-500 ${C?"bg-[#004D3C] text-white -translate-y-3 shadow-xl scale-110 shadow-[#004D3C]/30":"text-gray-400"}`,children:E.jsx(x,{size:22,strokeWidth:C?3:2,fill:C?"currentColor":"none"})}),E.jsx("span",{className:`text-[8px] font-black mt-1 uppercase tracking-tighter ${C?"text-[#004D3C]":"text-gray-400"}`,children:w})]})};return E.jsxs("div",{className:"flex flex-col h-screen bg-[#020403] font-sans overflow-hidden",children:[E.jsx(MC,{isVisible:s}),!s&&!i&&E.jsx("div",{className:"h-full w-full animate-in fade-in duration-700",children:E.jsx(WT,{onLogin:W,settings:b})}),!s&&i&&E.jsxs("div",{className:"flex flex-col h-full bg-gray-50 text-right animate-in fade-in duration-500",dir:"rtl",children:[E.jsxs("header",{className:"bg-white border-b border-gray-100 px-5 py-3 flex items-center justify-between z-20 shadow-sm shrink-0",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx(rE,{className:"w-10 h-10"}),E.jsxs("div",{className:"text-right",children:[E.jsx("h1",{className:"text-sm font-black text-gray-800 leading-none",children:" "}),E.jsx("p",{className:"text-[9px] text-[#5DC447] font-black mt-1 uppercase tracking-wider opacity-70",children:" "})]})]}),E.jsx("button",{onClick:tt,className:"p-2 bg-gray-50 text-gray-400 hover:text-red-500 rounded-xl border border-gray-100 transition-colors",children:E.jsx(wT,{size:20})})]}),E.jsx("main",{className:"flex-1 overflow-y-auto p-3 pb-24",children:E.jsxs("div",{className:"max-w-md mx-auto",children:[d===Wt.DASHBOARD&&E.jsx(nb,{bookings:_,settings:b}),d===Wt.BOOKINGS&&E.jsx(ib,{bookings:_,onAddBooking:pt,settings:b}),d===Wt.TRACKING&&E.jsx(ab,{bookings:_,onUpdateBooking:ut,settings:b}),d===Wt.MEMOS&&E.jsx(sb,{memos:N,onAddMemo:mt,onDeleteMemo:Ct}),d===Wt.SETTINGS&&E.jsx(rb,{settings:b,setSettings:async Y=>{await od(xr(Na,"settings","global"),Y),alert(" ")}})]})}),E.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-100 shadow-[0_-10px_30px_rgba(0,0,0,0.05)] z-30 h-[75px] pb-safe",children:E.jsxs("div",{className:"flex justify-between items-center h-full px-2",children:[E.jsx(ct,{view:Wt.DASHBOARD,icon:Q_,label:""}),E.jsx(ct,{view:Wt.BOOKINGS,icon:Ud,label:""}),E.jsxs("div",{className:"relative -top-6 px-2",children:[E.jsx("button",{onClick:()=>g(Wt.MEMOS),className:`w-14 h-14 rounded-full shadow-2xl flex items-center justify-center transition-all border-[4px] border-white active:scale-90 ${d===Wt.MEMOS?"bg-[#5DC447] scale-110 shadow-[#5DC447]/40":"bg-[#004D3C] shadow-[#004D3C]/40"}`,children:E.jsx(hc,{size:28,className:"text-white",fill:d===Wt.MEMOS?"white":"none",strokeWidth:2.5})}),E.jsx("p",{className:`text-[8px] font-black mt-7 text-center uppercase tracking-tighter ${d===Wt.MEMOS?"text-[#5DC447]":"text-gray-400"}`,children:""})]}),E.jsx(ct,{view:Wt.TRACKING,icon:H_,label:""}),E.jsx(ct,{view:Wt.SETTINGS,icon:K_,label:""})]})})]})]})},lE=document.getElementById("root");if(!lE)throw new Error("Could not find root element to mount to");const jC=X2.createRoot(lE);jC.render(E.jsx(P2.StrictMode,{children:E.jsx(OC,{})}));
